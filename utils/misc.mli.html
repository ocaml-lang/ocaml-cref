<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/utils/misc.mli - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/utils/misc.mli - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L281">align</a></li>
<li><a href="#L268">chop_extensions</a></li>
<li><a href="#L260">concat_null_terminated</a></li>
<li><a href="#L229">copy_file</a></li>
<li><a href="#L233">copy_file_chunk</a></li>
<li><a href="#L101">create_hashtable</a></li>
<li><a href="#L354">cut_at</a></li>
<li><a href="#L572">debug_prefix_map_flags</a></li>
<li><a href="#L376">delete_eol_spaces</a></li>
<li><a href="#L449">did_you_mean</a></li>
<li><a href="#L431">edit_distance</a></li>
<li><a href="#L217">expand_directory</a></li>
<li><a href="#L25">fatal_error</a></li>
<li><a href="#L28">fatal_errorf</a></li>
<li><a href="#L318">find_first_mono</a></li>
<li><a href="#L201">find_in_path</a></li>
<li><a href="#L204">find_in_path_rel</a></li>
<li><a href="#L207">find_in_path_uncap</a></li>
<li><a href="#L408">for4</a></li>
<li><a href="#L83">for_all2</a></li>
<li><a href="#L401">fst3</a></li>
<li><a href="#L405">fst4</a></li>
<li><a href="#L568">get_build_path_prefix_map</a></li>
<li><a href="#L391">get_ref</a></li>
<li><a href="#L92">list_remove</a></li>
<li><a href="#L277">log2</a></li>
<li><a href="#L77">map_end</a></li>
<li><a href="#L80">map_left_right</a></li>
<li><a href="#L285">no_overflow_add</a></li>
<li><a href="#L297">no_overflow_lsl</a></li>
<li><a href="#L293">no_overflow_mul</a></li>
<li><a href="#L289">no_overflow_sub</a></li>
<li><a href="#L371">normalise_eol</a></li>
<li><a href="#L365">ordinal_suffix</a></li>
<li><a href="#L242">output_to_file_via_temporary</a></li>
<li><a href="#L524">pp_two_columns</a></li>
<li><a href="#L520">print_if</a></li>
<li><a href="#L550">print_see_manual</a></li>
<li><a href="#L385">protect_refs</a></li>
<li><a href="#L251">protect_writing_to_file</a></li>
<li><a href="#L212">remove_file</a></li>
<li><a href="#L345">replace_substring</a></li>
<li><a href="#L88">replicate_list</a></li>
<li><a href="#L71">reraise_preserving_backtrace</a></li>
<li><a href="#L350">rev_split_words</a></li>
<li><a href="#L339">search_substring</a></li>
<li><a href="#L395">set_or_ignore</a></li>
<li><a href="#L555">show_config_and_exit</a></li>
<li><a href="#L559">show_config_variable_and_exit</a></li>
<li><a href="#L402">snd3</a></li>
<li><a href="#L406">snd4</a></li>
<li><a href="#L443">spellcheck</a></li>
<li><a href="#L96">split_last</a></li>
<li><a href="#L264">split_null_terminated</a></li>
<li><a href="#L221">split_path_contents</a></li>
<li><a href="#L238">string_of_file</a></li>
<li><a href="#L403">thd3</a></li>
<li><a href="#L407">thd4</a></li>
<li><a href="#L36">try_finally</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L781">alerts</a></li>
<li><a href="#L779">crcs</a></li>
<li><a href="#L777">filepath</a></li>
<li><a href="#L778">modname</a></li>
<li><a href="#L383">ref_and_value</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Xavier Leroy, projet Cristal, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 1996 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** Miscellaneous useful types and functions<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; {b Warning:} this module is unstable and part of<br/></li>
<li></span><span class="Comment">&nbsp; {{!Compiler_libs}compiler-libs}.<br/></li>
<li></span><br/></li>
<li><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Reporting <a href="arg_helper.ml.html#L17" title="ocaml/utils/arg_helper.ml:17">fatal</a> errors} *)<br/></li>
<li></span><br/></li>
<li><a id="L25">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">fatal_error</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span>&nbsp; <span class="Comment">(** Raise the [Fatal_error] exception with the given string. *)<br/></li>
<li></span><br/></li>
<li><a id="L28">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">fatal_errorf</span></span>: <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span>, <span class="PreProc">Format</span>.<span class="ocamlLCIdentifier">formatter</span>, <span class="Type">unit</span>, '<span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="Type">format4</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span>&nbsp; <span class="Comment">(** Format the arguments according to the given format string<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; and raise [Fatal_error] with the resulting string. *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">exception</span> <span class="Constant">Fatal_error<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Exceptions and finalization} *)<br/></li>
<li></span><br/></li>
<li><a id="L36">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">try_finally</span></span> :<br/></li>
<li>&nbsp; <span class="Statement">?</span><span class="Identifier">always</span>:<span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; <span class="Statement">?</span><span class="Identifier">exceptionally</span>:<span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; <span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span><span class="Comment">(** [<a href="#L36" title="ocaml/utils/misc.mli:36">try_finally</a> work ~always ~exceptionally] is designed to run code<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; in [work] that <a href="warnings.ml.html#L1041" title="ocaml/utils/warnings.ml:1041">may</a> fail with an exception, and has two kind of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; cleanup routines: [always], that must be run after any execution<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; of the function (typically, freeing <a href="config.fixed.ml.html#L57" title="ocaml/utils/config.fixed.ml:57">system</a> resources), and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [exceptionally], that should be run only if [work] or [always]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; failed with an exception (typically, undoing user-visible <a href="diffing.ml.html#L156" title="ocaml/utils/diffing.ml:156">state</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; changes that would only <a href="profile.ml.html#L238" title="ocaml/utils/profile.ml:238">make</a> sense if the function completes<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; correctly). For example:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; {[<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; let objfile = outputprefix ^ &quot;.cmo&quot; in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; let oc = open_out_bin objfile in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; Misc.<a href="#L36" title="ocaml/utils/misc.mli:36">try_finally</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; (fun () -&gt;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; bytecode<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ++ Timings.(accumulate_time (Generate sourcefile))<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (Emitcode.to_file oc modulename objfile);<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Warnings.<a href="warnings.mli.html#L147" title="ocaml/utils/warnings.mli:147">check_fatal</a> ())<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; ~always:(fun () -&gt; close_out oc)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; ~exceptionally:(fun _exn -&gt; <a href="misc.ml.html#L277" title="ocaml/utils/misc.ml:277">remove_file</a> objfile);<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; ]}<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; If [exceptionally] fail with an exception, it is propagated as<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; usual.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; If [always] or [exceptionally] use exceptions internally for<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; control-flow but do not raise, then [<a href="#L36" title="ocaml/utils/misc.mli:36">try_finally</a>] is careful to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; preserve any exception backtrace coming from [work] or [always]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; for easier debugging.<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L71">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">reraise_preserving_backtrace</span></span> : <span class="Type">exn</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span><span class="Comment">(** [<a href="#L71" title="ocaml/utils/misc.mli:71">reraise_preserving_backtrace</a> e f] is (f (); raise e) except that the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> backtrace is preserved, even if [f] uses exceptions internally. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 List operations} *)<br/></li>
<li></span><br/></li>
<li><a id="L77">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">map_end</span></span>: <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L77" title="ocaml/utils/misc.mli:77">map_end</a> f l <a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a>] is [<a href="identifiable.ml.html#L37" title="ocaml/utils/identifiable.ml:37">map</a> f l @ <a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a>], just more efficient. *)<br/></li>
<li></span><br/></li>
<li><a id="L80">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">map_left_right</span></span>: <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Like [List.<a href="identifiable.ml.html#L37" title="ocaml/utils/identifiable.ml:37">map</a>], with guaranteed left-to-right evaluation order *)<br/></li>
<li></span><br/></li>
<li><a id="L83">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">for_all2</span></span>: <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">-&gt;</span> <span class="Type">bool</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">bool<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Same as [List.<a href="misc.ml.html#L221" title="ocaml/utils/misc.ml:221">for_all</a>] but for a binary predicate.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; In addition, this [<a href="misc.ml.html#L77" title="ocaml/utils/misc.ml:77">for_all2</a>] never fails: given two lists<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; with different lengths, it returns false. *)<br/></li>
<li></span><br/></li>
<li><a id="L88">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">replicate_list</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L83" title="ocaml/utils/misc.ml:83">replicate_list</a> elem n] is the list with [n] elements<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; all identical to [elem]. *)<br/></li>
<li></span><br/></li>
<li><a id="L92">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">list_remove</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L86" title="ocaml/utils/misc.ml:86">list_remove</a> x l] returns a <a href="misc.ml.html#L313" title="ocaml/utils/misc.ml:313">copy</a> of [l] with the first<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; element <a href="identifiable.ml.html#L97" title="ocaml/utils/identifiable.ml:97">equal</a> to [x] removed. *)<br/></li>
<li></span><br/></li>
<li><a id="L96">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">split_last</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Return the last element and the other elements of the given list. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Hash table operations} *)<br/></li>
<li></span><br/></li>
<li><a id="L101">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">create_hashtable</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span>, '<span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="PreProc">Hashtbl</span>.<span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Create a hashtable with the given initial <a href="targetint.ml.html#L64" title="ocaml/utils/targetint.ml:64">size</a> and fills it<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; with the given <a href="local_store.ml.html#L20" title="ocaml/utils/local_store.ml:20">bindings</a>. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Extensions to the standard library} *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Stdlib</span><span class="ocamlPreDef"> : </span><span class="PreProc">sig<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {2 Extensions to the List module} *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">List</span><span class="ocamlSig"> </span><span class="ocamlMPRestr">:</span><span class="PreProc"> sig<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">=</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L90" title="ocaml/utils/identifiable.ml:90">compare</a></span><span class="ocamlMPRestr1"> : </span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">int</span><span class="Statement">)</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">int<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** The lexicographic order supported by the provided order.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; There is no constraint on the relative lengths of the lists. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L97" title="ocaml/utils/identifiable.ml:97">equal</a></span><span class="ocamlMPRestr1"> : </span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool</span><span class="Statement">)</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** Returns [true] if and only if the given lists have the same <a href="arg_helper.ml.html#L77" title="ocaml/utils/arg_helper.ml:77">length</a> and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; content with respect to the given equality function. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">some_if_all_elements_are_some</span><span class="ocamlMPRestr1"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">option</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Type">option<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** If all elements of the given list are [Some _] then [Some xs]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; is returned with the [xs] being the contents of those [Some]<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>, with<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; order preserved.&nbsp; Otherwise return [None]. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">map2_prefix</span><span class="ocamlMPRestr1"> : </span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">b</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">c</span><span class="Statement">)</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">b</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">c</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">*</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">b</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** [let r1, r2 = map2_prefix f l1 l2]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; If [l1] is of <a href="arg_helper.ml.html#L77" title="ocaml/utils/arg_helper.ml:77">length</a> n and [l2 = h2 @ t2] with h2 of <a href="arg_helper.ml.html#L77" title="ocaml/utils/arg_helper.ml:77">length</a> n,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; r1 is [List.map2 f l1 h1] and r2 is t2. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">split_at</span><span class="ocamlMPRestr1"> : </span><span class="Type">int</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">*</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a><br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** [split_at n l] returns the <a href="build_path_prefix_map.ml.html#L56" title="ocaml/utils/build_path_prefix_map.ml:56">pair</a> [before, after] where [before] is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; the [n] first elements of [l] and [after] the remaining ones.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; If [l] has less than [n] elements, raises Invalid_argument. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">is_prefix<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp;&nbsp; : </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L97" title="ocaml/utils/identifiable.ml:97">equal</a></span><span class="ocamlMPRestr1">:</span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">of_</span><span class="ocamlMPRestr1">:'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** Returns [true] if and only if the given list, with respect to the given<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; equality function on list members, is a <a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a> of the list [of_]. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">longest_common_prefix_result</span><span class="ocamlMPRestr1"> </span><span class="Statement">=</span><span class="ocamlMPRestr1"> </span><span class="Statement">private</span><span class="ocamlMPRestr1"> </span><span class="Statement">{<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">longest_common_prefix</span><span class="ocamlMPRestr1"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">first_without_longest_common_prefix</span><span class="ocamlMPRestr1"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">second_without_longest_common_prefix</span><span class="ocamlMPRestr1"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">find_and_chop_longest_common_prefix<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp;&nbsp; : </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L97" title="ocaml/utils/identifiable.ml:97">equal</a></span><span class="ocamlMPRestr1">:</span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">first</span><span class="ocamlMPRestr1">:'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">second</span><span class="ocamlMPRestr1">:'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">list<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">longest_common_prefix_result<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** Returns the longest list that, with respect to the provided equality<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; function, is a <a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a> of both of the given lists.&nbsp; The input lists,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; each with such longest common <a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a> removed, are also returned. *)<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; </span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {2 Extensions to the Option module} *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">Option</span><span class="ocamlSig"> </span><span class="ocamlMPRestr">:</span><span class="PreProc"> sig<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">=</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">option<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L24" title="ocaml/utils/identifiable.ml:24">print</a><br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp;&nbsp; : </span><span class="Statement">(</span><span class="PreProc">Format</span><span class="ocamlMPRestr1">.</span><span class="ocamlLCIdentifier">formatter</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">unit</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="PreProc">Format</span><span class="ocamlMPRestr1">.</span><span class="ocamlLCIdentifier">formatter<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a><br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; &nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; </span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {2 Extensions to the Array module} *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">Array</span><span class="ocamlSig"> </span><span class="ocamlMPRestr">:</span><span class="PreProc"> sig<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">exists2</span><span class="ocamlMPRestr1"> : </span><span class="Statement">(</span><span class="ocamlMPRestr1">'</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">b</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool</span><span class="Statement">)</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">array</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">b</span><span class="ocamlMPRestr1"> </span><span class="Type">array</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** Same as [Array.exists2] from the standard library. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">for_alli</span><span class="ocamlMPRestr1"> : </span><span class="Statement">(</span><span class="Type">int</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool</span><span class="Statement">)</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">array</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Comment">(** Same as [Array.<a href="misc.ml.html#L221" title="ocaml/utils/misc.ml:221">for_all</a>] from the standard library, but the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; function is applied with the index of the element as first argument,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; and the element itself as second argument. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">all_somes</span><span class="ocamlMPRestr1"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">option</span><span class="ocamlMPRestr1"> </span><span class="Type">array</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlMPRestr1"> </span><span class="Type">array</span><span class="ocamlMPRestr1"> </span><span class="Type">option<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; </span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {2 Extensions to the String module} *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">String</span><span class="ocamlSig"> </span><span class="ocamlMPRestr">:</span><span class="PreProc"> sig<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">include</span><span class="ocamlMPRestr1"> </span><span class="Statement">module type of </span><span class="PreProc">String<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">Set</span><span class="ocamlMPRestr1"> </span><span class="ocamlMPRestr">:</span><span class="ocamlMPRestr1"> </span><span class="PreProc">Set.S</span><span class="ocamlMPRestr1"> </span><span class="Statement">with</span><span class="ocamlMPRestr1"> </span><span class="Statement">type</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier">elt</span><span class="ocamlMPRestr1"> </span><span class="Statement">=</span><span class="ocamlMPRestr1"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">Map</span><span class="ocamlMPRestr1"> </span><span class="ocamlMPRestr">:</span><span class="ocamlMPRestr1"> </span><span class="PreProc">Map.S</span><span class="ocamlMPRestr1"> </span><span class="Statement">with</span><span class="ocamlMPRestr1"> </span><span class="Statement">type</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L75" title="ocaml/utils/identifiable.ml:75">key</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">=</span><span class="ocamlMPRestr1"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">module</span><span class="ocamlModSpec"> </span><span class="PreProc">Tbl</span><span class="ocamlMPRestr1"> </span><span class="ocamlMPRestr">:</span><span class="ocamlMPRestr1"> </span><span class="PreProc">Hashtbl.S</span><span class="ocamlMPRestr1"> </span><span class="Statement">with</span><span class="ocamlMPRestr1"> </span><span class="Statement">type</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L75" title="ocaml/utils/identifiable.ml:75">key</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">=</span><span class="ocamlMPRestr1"> </span><span class="Type">string<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L24" title="ocaml/utils/identifiable.ml:24">print</a></span><span class="ocamlMPRestr1"> : </span><span class="PreProc">Format</span><span class="ocamlMPRestr1">.</span><span class="ocamlLCIdentifier">formatter</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">unit<br/></li>
<li></span><br/></li>
<li><span class="ocamlMPRestr1">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L221" title="ocaml/utils/misc.ml:221">for_all</a></span><span class="ocamlMPRestr1"> : </span><span class="Statement">(</span><span class="Type">char</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool</span><span class="Statement">)</span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlMPRestr1"> </span><span class="Statement">-&gt;</span><span class="ocamlMPRestr1"> </span><span class="Type">bool<br/></li>
<li></span><span class="ocamlMPRestr1">&nbsp; </span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">external</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L90" title="ocaml/utils/identifiable.ml:90">compare</a></span><span class="ocamlSig"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Constant">&quot;%<a href="identifiable.ml.html#L90" title="ocaml/utils/identifiable.ml:90">compare</a>&quot;<br/></li>
<li></span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Operations on files and <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> paths} *)<br/></li>
<li></span><br/></li>
<li><a id="L201">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">find_in_path</span></span>: <span class="Type">string</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Search a <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> in a list of directories. *)<br/></li>
<li></span><br/></li>
<li><a id="L204">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">find_in_path_rel</span></span>: <span class="Type">string</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Search a relative <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> in a list of directories. *)<br/></li>
<li></span><br/></li>
<li><a id="L207">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">find_in_path_uncap</span></span>: <span class="Type">string</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Same, but search also for uncapitalized name, i.e.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if name is [Foo.ml], allow [/<a href="build_path_prefix_map.ml.html#L16" title="ocaml/utils/build_path_prefix_map.ml:16">path</a>/Foo.ml] and [/<a href="build_path_prefix_map.ml.html#L16" title="ocaml/utils/build_path_prefix_map.ml:16">path</a>/foo.ml]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; to match. *)<br/></li>
<li></span><br/></li>
<li><a id="L212">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">remove_file</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Delete the given <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> if it exists and is a regular <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a>.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Does nothing for other kinds of files.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Never raises an <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L217">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">expand_directory</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L287" title="ocaml/utils/misc.ml:287">expand_directory</a> alt <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a>] eventually expands a [+] at the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; beginning of <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> into [alt] (an alternate root directory) *)<br/></li>
<li></span><br/></li>
<li><a id="L221">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">split_path_contents</span></span>: <span class="Statement">?</span><span class="Identifier">sep</span>:<span class="Type">char</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(** [<a href="misc.ml.html#L298" title="ocaml/utils/misc.ml:298">split_path_contents</a> ?sep <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] interprets [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] as the value of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; a &quot;PATH&quot;-like variable and returns the corresponding list of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; directories. [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] is split using the platform-specific delimiter, or<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [~sep] if it is passed.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Returns the empty list if [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] is empty. *)<br/></li>
<li></span><br/></li>
<li><a id="L229">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">copy_file</span></span>: <span class="ocamlLCIdentifier">in_channel</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">out_channel</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L229" title="ocaml/utils/misc.mli:229">copy_file</a> ic oc] reads the contents of <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> [ic] and copies<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; them to [oc]. It stops when encountering EOF on [ic]. *)<br/></li>
<li></span><br/></li>
<li><a id="L233">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">copy_file_chunk</span></span>: <span class="ocamlLCIdentifier">in_channel</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">out_channel</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L318" title="ocaml/utils/misc.ml:318">copy_file_chunk</a> ic oc n] reads [n] <a href="profile.ml.html#L143" title="ocaml/utils/profile.ml:143">bytes</a> from [ic] and copies<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; them to [oc]. It raises [End_of_file] when encountering<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; EOF on [ic]. *)<br/></li>
<li></span><br/></li>
<li><a id="L238">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_file</span></span>: <span class="ocamlLCIdentifier">in_channel</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L327" title="ocaml/utils/misc.ml:327">string_of_file</a> ic] reads the contents of <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> [ic] and copies<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; them to a string. It stops when encountering EOF on [ic]. *)<br/></li>
<li></span><br/></li>
<li><a id="L242">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">output_to_file_via_temporary</span></span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">?</span><span class="Identifier">mode</span>:<span class="ocamlLCIdentifier">open_flag</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">out_channel</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Produce <a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a> in temporary <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a>, then <a href="identifiable.ml.html#L57" title="ocaml/utils/identifiable.ml:57">rename</a> it<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (as atomically as possible) to the desired <a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a> <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> name.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [<a href="misc.ml.html#L336" title="ocaml/utils/misc.ml:336">output_to_file_via_temporary</a> filename fn] opens a temporary <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; which is passed to [fn] (name + <a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a> channel).&nbsp; When [fn] returns,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the channel is closed and the temporary <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> is renamed to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [filename]. *)<br/></li>
<li></span><br/></li>
<li><a id="L251">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">protect_writing_to_file</span><br/></li>
<li></span>&nbsp;&nbsp; : <span class="ocamlLCIdentifier">filename</span>:<span class="Type">string<br/></li>
<li></span>&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">f</span>:<span class="Statement">(</span><span class="ocamlLCIdentifier">out_channel</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(** Open the given [filename] for writing (in binary mode), pass<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; the [out_channel] to the given function, then close the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; channel. If the function raises an exception then [filename]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; will be removed. *)<br/></li>
<li></span><br/></li>
<li><a id="L260">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">concat_null_terminated</span></span> : <span class="Type">string</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L433" title="ocaml/utils/misc.ml:433">concat_null_terminated</a> [x1;x2; ... xn]] is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [x1 ^ &quot;\000&quot; ^ x2 ^ &quot;\000&quot; ^ ... ^ xn ^ &quot;\000&quot;] *)<br/></li>
<li></span><br/></li>
<li><a id="L264">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">split_null_terminated</span></span> : <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Type">list<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L426" title="ocaml/utils/misc.ml:426">split_null_terminated</a> <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] is similar<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [String.split_on_char '\000'] but ignores the trailing separator, if any *)<br/></li>
<li></span><br/></li>
<li><a id="L268">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">chop_extensions</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** Return the given <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> name without <a href="warnings.ml.html#L1077" title="ocaml/utils/warnings.ml:1077">its</a> extensions. The extensions<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; is the longest suffix starting with a period and not including<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; a directory separator, [.xyz.uvw] for instance.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Return the given name if it does not contain an extension. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Integer operations} *)<br/></li>
<li></span><br/></li>
<li><a id="L277">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">log2</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L277" title="ocaml/utils/misc.mli:277">log2</a> n] returns [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] such that [n = 1 lsl <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if [n] is a power of 2*)<br/></li>
<li></span><br/></li>
<li><a id="L281">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">align</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L281" title="ocaml/utils/misc.mli:281">align</a> n a] <a href="clflags.mli.html#L168" title="ocaml/utils/clflags.mli:168">rounds</a> [n] upwards to a multiple of [a]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (a power of 2). *)<br/></li>
<li></span><br/></li>
<li><a id="L285">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">no_overflow_add</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">bool<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L285" title="ocaml/utils/misc.mli:285">no_overflow_add</a> n1 n2] returns [true] if the computation of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [n1 + n2] does not overflow. *)<br/></li>
<li></span><br/></li>
<li><a id="L289">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">no_overflow_sub</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">bool<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L289" title="ocaml/utils/misc.mli:289">no_overflow_sub</a> n1 n2] returns [true] if the computation of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [n1 - n2] does not overflow. *)<br/></li>
<li></span><br/></li>
<li><a id="L293">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">no_overflow_mul</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">bool<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L293" title="ocaml/utils/misc.mli:293">no_overflow_mul</a> n1 n2] returns [true] if the computation of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [n1 * n2] does not overflow. *)<br/></li>
<li></span><br/></li>
<li><a id="L297">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">no_overflow_lsl</span></span>: <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">bool<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="#L297" title="ocaml/utils/misc.mli:297">no_overflow_lsl</a> n k] returns [true] if the computation of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [n lsl k] does not overflow. *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Int_literal_converter</span><span class="ocamlPreDef"> : </span><span class="PreProc">sig<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> : </span><span class="Type">string</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Comment">(** Convert a string to an integer.&nbsp; Unlike {!Stdlib.int_of_string},<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; this function accepts the string representation of [<a href="targetint.mli.html#L92" title="ocaml/utils/targetint.mli:92">max_int</a> + 1]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; and returns [<a href="targetint.mli.html#L97" title="ocaml/utils/targetint.mli:97">min_int</a>] in this case. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="Type">int32</span><span class="ocamlSig"> : </span><span class="Type">string</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int32<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Comment">(** Likewise, at type [int32] *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="Type">int64</span><span class="ocamlSig"> : </span><span class="Type">string</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int64<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Comment">(** Likewise, at type [int64] *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="Type">nativeint</span><span class="ocamlSig"> : </span><span class="Type">string</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">nativeint<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Comment">(** Likewise, at type [nativeint] *)<br/></li>
<li></span><br/></li>
<li><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><a id="L318">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">find_first_mono</span></span> : <span class="Statement">(</span><span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">bool</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Type">int<br/></li>
<li></span>&nbsp; <span class="Comment">(**[<a href="#L318" title="ocaml/utils/misc.mli:318">find_first_mono</a> p] takes an integer predicate [p : int -&gt; bool]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; that we assume:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; 1. is monotonic on natural numbers:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; if [a &lt;= b] then [p a] implies [p b],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; 2. is satisfied for some natural numbers in range [0; <a href="targetint.mli.html#L92" title="ocaml/utils/targetint.mli:92">max_int</a>]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; (this is equivalent to: [p <a href="targetint.mli.html#L92" title="ocaml/utils/targetint.mli:92">max_int</a> = true]).<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; [<a href="#L318" title="ocaml/utils/misc.mli:318">find_first_mono</a> p] is the smallest natural <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> N that satisfies [p],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; computed in O(<a href="lazy_backtrack.mli.html#L18" title="ocaml/utils/lazy_backtrack.mli:18">log</a>(N)) calls to [p].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; Our implementation supports two cases where the preconditions on [p]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; are not respected:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; - If [p] is always [false], we silently return [<a href="targetint.mli.html#L92" title="ocaml/utils/targetint.mli:92">max_int</a>]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; instead of looping or crashing.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; - If [p] is non-monotonic but eventually true,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; we return some satisfying value.<br/></li>
<li></span><span class="Comment">&nbsp; *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 String operations} *)<br/></li>
<li></span><br/></li>
<li><a id="L339">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">search_substring</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L448" title="ocaml/utils/misc.ml:448">search_substring</a> pat str start] returns the position of the first<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; occurrence of string [pat] in string [str].&nbsp; Search starts<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; at offset [start] in [str].&nbsp; Raise [Not_found] if [pat]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; does not occur. *)<br/></li>
<li></span><br/></li>
<li><a id="L345">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">replace_substring</span></span>: <span class="ocamlLCIdentifier">before</span>:<span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">after</span>:<span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L456" title="ocaml/utils/misc.ml:456">replace_substring</a> ~before ~after str] replaces all<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; occurrences of [before] with [after] in [str] and returns<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the resulting string. *)<br/></li>
<li></span><br/></li>
<li><a id="L350">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">rev_split_words</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L467" title="ocaml/utils/misc.ml:467">rev_split_words</a> <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] splits [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] in blank-separated words, and returns<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the list of words in reverse order. *)<br/></li>
<li></span><br/></li>
<li><a id="L354">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">cut_at</span></span> : <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">char</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">*</span> <span class="Type">string<br/></li>
<li></span><span class="Comment">(** [String.<a href="misc.ml.html#L633" title="ocaml/utils/misc.ml:633">cut_at</a> <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a> c] returns a <a href="build_path_prefix_map.ml.html#L56" title="ocaml/utils/build_path_prefix_map.ml:56">pair</a> containing the <a href="targetint.mli.html#L50" title="ocaml/utils/targetint.mli:50">sub</a>-string before<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the first occurrence of [c] in [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>], and the <a href="targetint.mli.html#L50" title="ocaml/utils/targetint.mli:50">sub</a>-string after the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; first occurrence of [c] in [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [let (before, after) = String.<a href="misc.ml.html#L633" title="ocaml/utils/misc.ml:633">cut_at</a> <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a> c in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; before ^ String.<a href="profile.ml.html#L238" title="ocaml/utils/profile.ml:238">make</a> 1 c ^ after] is the identity if [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] contains [c].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; Raise [Not_found] if the character does not appear in the string<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; @<a href="warnings.ml.html#L212" title="ocaml/utils/warnings.ml:212">since</a> 4.01<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L365">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">ordinal_suffix</span></span> : <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L637" title="ocaml/utils/misc.ml:637">ordinal_suffix</a> n] is the appropriate suffix to append to the numeral [n] as<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; an ordinal <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a>: [1] -&gt; [&quot;st&quot;], [2] -&gt; [&quot;nd&quot;], [3] -&gt; [&quot;rd&quot;],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [4] -&gt; [&quot;th&quot;], and so on.&nbsp; Handles larger numbers (e.g., [42] -&gt; [&quot;nd&quot;]) and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; the numbers 11--13 (which all <a href="arg_helper.ml.html#L116" title="ocaml/utils/arg_helper.ml:116">get</a> [&quot;th&quot;]) correctly. *)<br/></li>
<li></span><br/></li>
<li><a id="L371">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">normalise_eol</span></span> : <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L788" title="ocaml/utils/misc.ml:788">normalise_eol</a> <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] returns a <a href="local_store.mli.html#L47" title="ocaml/utils/local_store.mli:47">fresh</a> <a href="misc.ml.html#L313" title="ocaml/utils/misc.ml:313">copy</a> of [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] with any '\r' characters<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; removed. Intended for pre-processing text which will subsequently be printed<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; on a channel which performs EOL transformations (i.e. Windows) *)<br/></li>
<li></span><br/></li>
<li><a id="L376">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">delete_eol_spaces</span></span> : <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L795" title="ocaml/utils/misc.ml:795">delete_eol_spaces</a> <a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] returns a <a href="local_store.mli.html#L47" title="ocaml/utils/local_store.mli:47">fresh</a> <a href="misc.ml.html#L313" title="ocaml/utils/misc.ml:313">copy</a> of [<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a>] with any end of<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="diffing.ml.html#L152" title="ocaml/utils/diffing.ml:152">line</a> spaces removed. Intended to normalize the <a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a> of the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; toplevel for tests. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Operations on references} *)<br/></li>
<li></span><br/></li>
<li><a id="L383">&#x200c;</a><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">ref_and_value</span></span> <span class="Statement">=</span> <span class="Constant">R</span> : '<span class="ocamlLCIdentifier">a</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><span class="linkable">ref_and_value</span><br/></li>
<li></span><br/></li>
<li><a id="L385">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">protect_refs</span></span> : <span class="ocamlLCIdentifier"><a href="misc.ml.html#L57" title="ocaml/utils/misc.ml:57">ref_and_value</a></span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L59" title="ocaml/utils/misc.ml:59">protect_refs</a> l f] temporarily sets [r] to [v] for each [R (r, v)] in [l]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; while executing [f]. The previous contents of the references is restored<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; even if [f] raises an exception, without altering the exception backtrace.<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L391">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">get_ref</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Type">list</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Type">list<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L482" title="ocaml/utils/misc.ml:482">get_ref</a> lr] returns the content of the list <a href="misc.ml.html#L1113" title="ocaml/utils/misc.ml:1113">reference</a> [lr] and <a href="load_path.ml.html#L70" title="ocaml/utils/load_path.ml:70">reset</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="warnings.ml.html#L1077" title="ocaml/utils/warnings.ml:1077">its</a> content to the empty list. *)<br/></li>
<li></span><br/></li>
<li><a id="L395">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">set_or_ignore</span></span> : <span class="Statement">(</span>'<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Type">option</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b</span> <span class="Type">option</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(** [<a href="misc.ml.html#L486" title="ocaml/utils/misc.ml:486">set_or_ignore</a> f opt x] sets [opt] to [f x] if it returns [Some _],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; or leaves it unmodified if it returns [None]. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Operations on triples and quadruples} *)<br/></li>
<li></span><br/></li>
<li><a id="L401">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">fst3</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li><a id="L402">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">snd3</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b<br/></li>
<li><a id="L403">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">thd3</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">c<br/></li>
<li></span><br/></li>
<li><a id="L405">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">fst4</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier"><a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li><a id="L406">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">snd4</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier"><a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">b<br/></li>
<li><a id="L407">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">thd4</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier"><a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">c<br/></li>
<li><a id="L408">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">for4</span></span>: '<span class="ocamlLCIdentifier">a</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">b</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier">c</span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier"><a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier"><a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Long strings} *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** ``Long strings'' are mutable arrays of characters that are not limited<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; in <a href="arg_helper.ml.html#L77" title="ocaml/utils/arg_helper.ml:77">length</a> to {!Sys.max_string_length}. *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> LongString</span><span class="ocamlPreDef"> :<br/></li>
<li></span><span class="ocamlPreDef">&nbsp; </span><span class="PreProc">sig<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="profile.ml.html#L143" title="ocaml/utils/profile.ml:143">bytes</a></span><span class="ocamlSig"> </span><span class="Type">array<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L21" title="ocaml/utils/lazy_backtrack.mli:21">create</a></span><span class="ocamlSig"> : </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="arg_helper.ml.html#L77" title="ocaml/utils/arg_helper.ml:77">length</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="arg_helper.ml.html#L116" title="ocaml/utils/arg_helper.ml:116">get</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">char<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">set</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">char</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">blit</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">blit_string</span><span class="ocamlSig"> : </span><span class="Type">string</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">out_channel</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">input_bytes_into</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">in_channel</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">input_bytes</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">in_channel</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">int</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Spell checking and ``did you mean'' suggestions} *)<br/></li>
<li></span><br/></li>
<li><a id="L431">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">edit_distance</span></span> : <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Type">option<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L553" title="ocaml/utils/misc.ml:553">edit_distance</a> a b cutoff] computes the edit distance between<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; strings [a] and [b]. To help efficiency, it uses a cutoff: if the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; distance [<a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a>] is smaller than [cutoff], it returns [Some <a href="binutils.ml.html#L642" title="ocaml/utils/binutils.ml:642">d</a>], else<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [None].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; The distance algorithm currently used is Damerau-Levenshtein: it<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; computes the <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> of insertion, deletion, substitution of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; letters, or swapping of adjacent letters to go from <a href="targetint.mli.html#L38" title="ocaml/utils/targetint.mli:38">one</a> word to the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; other. The particular algorithm <a href="warnings.ml.html#L1041" title="ocaml/utils/warnings.ml:1041">may</a> <a href="diffing_with_keys.mli.html#L42" title="ocaml/utils/diffing_with_keys.mli:42">change</a> in the future.<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L443">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">spellcheck</span></span> : <span class="Type">string</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Type">list<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L598" title="ocaml/utils/misc.ml:598">spellcheck</a> env name] takes a list of names [env] that exist in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> environment and an erroneous [name], and returns a<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; list of suggestions taken from [env], that are close enough to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [name] that it <a href="warnings.ml.html#L1041" title="ocaml/utils/warnings.ml:1041">may</a> be a typo for <a href="targetint.mli.html#L38" title="ocaml/utils/targetint.mli:38">one</a> of them. *)<br/></li>
<li></span><br/></li>
<li><a id="L449">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">did_you_mean</span></span> : <span class="PreProc">Format</span>.<span class="ocamlLCIdentifier">formatter</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Type">list</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L618" title="ocaml/utils/misc.ml:618">did_you_mean</a> ppf get_choices] hints that the user <a href="warnings.ml.html#L1041" title="ocaml/utils/warnings.ml:1041">may</a> have meant<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; <a href="targetint.mli.html#L38" title="ocaml/utils/targetint.mli:38">one</a> of the option returned by calling [get_choices]. It does nothing<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; if the returned list is empty.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; The [unit -&gt; ...] thunking is meant to delay any potentially-slow<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; computation (typically computing edit-distance with many things<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; from the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> environment) to when the hint message is to be<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; printed. You should <a href="identifiable.ml.html#L24" title="ocaml/utils/identifiable.ml:24">print</a> an understandable <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a> message before<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; calling [<a href="misc.ml.html#L618" title="ocaml/utils/misc.ml:618">did_you_mean</a>], so that users <a href="arg_helper.ml.html#L116" title="ocaml/utils/arg_helper.ml:116">get</a> a <a href="consistbl.mli.html#L36" title="ocaml/utils/consistbl.mli:36">clear</a> notification of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; the failure even if producing the hint is slow.<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Colored terminal <a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a> } *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Color</span><span class="ocamlPreDef"> : </span><span class="PreProc">sig<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="clflags.mli.html#L232" title="ocaml/utils/clflags.mli:232">color</a></span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Black<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Red<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Green<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Yellow<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Blue<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Magenta<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cyan<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">White<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">FG</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="clflags.mli.html#L232" title="ocaml/utils/clflags.mli:232">color</a></span><span class="ocamlSig"> </span><span class="Comment">(* foreground *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">BG</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="clflags.mli.html#L232" title="ocaml/utils/clflags.mli:232">color</a></span><span class="ocamlSig"> </span><span class="Comment">(* background *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Bold<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Reset<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="PreProc">Format</span><span class="ocamlSig">.</span><span class="ocamlLCIdentifier">stag</span><span class="ocamlSig"> +</span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Constant">Style</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Type">list<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">ansi_of_style_l</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Type">list</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* ANSI escape sequence for the given <a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a> *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">styles</span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Statement">{<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a></span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">warning</span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="warnings.mli.html#L23" title="ocaml/utils/warnings.mli:23">loc</a></span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">hint</span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier"><a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a></span><span class="ocamlSig"> </span><span class="Type">list</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">default_styles</span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier">styles<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">get_styles</span><span class="ocamlSig">: </span><span class="Type">unit</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">styles<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">set_styles</span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier">styles</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">setting</span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Constant">Auto</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Always</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Never<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">default_setting</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">setting<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="terminfo.mli.html#L28" title="ocaml/utils/terminfo.mli:28">setup</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">setting</span><span class="ocamlSig"> </span><span class="Type">option</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [<a href="terminfo.mli.html#L28" title="ocaml/utils/terminfo.mli:28">setup</a> opt] will enable or disable <a href="clflags.mli.html#L232" title="ocaml/utils/clflags.mli:232">color</a> handling on standard formatters<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; according to the value of <a href="clflags.mli.html#L232" title="ocaml/utils/clflags.mli:232">color</a> setting [opt].<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Only the first call to this function has an effect. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">set_color_tag_handling</span><span class="ocamlSig"> : </span><span class="PreProc">Format</span><span class="ocamlSig">.</span><span class="ocamlLCIdentifier">formatter</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* adds functions to support <a href="clflags.mli.html#L232" title="ocaml/utils/clflags.mli:232">color</a> tags to the given formatter. *)<br/></li>
<li></span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* See the -<a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a>-<a href="diffing.ml.html#L38" title="ocaml/utils/diffing.ml:38">style</a> option *)<br/></li>
<li></span><span class="Statement">module</span><span class="PreProc"> Error_style</span><span class="ocamlPreDef"> : </span><span class="PreProc">sig<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">setting</span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Contextual<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Short<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">default_setting</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">setting<br/></li>
<li></span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Formatted <a href="identifiable.ml.html#L23" title="ocaml/utils/identifiable.ml:23">output</a>} *)<br/></li>
<li></span><br/></li>
<li><a id="L520">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">print_if</span></span> :<br/></li>
<li>&nbsp; <span class="PreProc">Format</span>.<span class="ocamlLCIdentifier">formatter</span> <span class="Statement">-&gt;</span> <span class="Type">bool</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="PreProc">Format</span>.<span class="ocamlLCIdentifier">formatter</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">a<br/></li>
<li></span><span class="Comment">(** [<a href="#L520" title="ocaml/utils/misc.mli:520">print_if</a> ppf flag fmt x] prints [x] with [fmt] on [ppf] if [b] is true. *)<br/></li>
<li></span><br/></li>
<li><a id="L524">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">pp_two_columns</span></span> :<br/></li>
<li>&nbsp; <span class="Statement">?</span><span class="Identifier">sep</span>:<span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Statement">?</span><span class="Identifier">max_lines</span>:<span class="Type">int</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; <span class="PreProc">Format</span>.<span class="ocamlLCIdentifier">formatter</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="Type">string</span> <span class="Statement">*</span> <span class="Type">string</span><span class="Statement">)</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span><span class="Comment">(** [<a href="misc.ml.html#L827" title="ocaml/utils/misc.ml:827">pp_two_columns</a> ?sep ?max_lines ppf l] prints the lines in [l] as two<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; columns separated by [sep] (&quot;|&quot; by <a href="arg_helper.ml.html#L40" title="ocaml/utils/arg_helper.ml:40">default</a>). [max_lines] can be used to<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; indicate a maximum <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> of lines to <a href="identifiable.ml.html#L24" title="ocaml/utils/identifiable.ml:24">print</a> -- an ellipsis gets inserted at<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the middle if the input has too many lines.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; Example:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; {v <a href="misc.ml.html#L827" title="ocaml/utils/misc.ml:827">pp_two_columns</a> ~max_lines:3 Format.std_formatter [<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &quot;abc&quot;, &quot;hello&quot;;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &quot;def&quot;, &quot;zzz&quot;;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &quot;a&quot;&nbsp; , &quot;bllbl&quot;;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &quot;bb&quot; , &quot;dddddd&quot;;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; ] v}<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; prints<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; {v<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; abc | hello<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; bb&nbsp; | dddddd<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; v}<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L550">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">print_see_manual</span></span> : <span class="PreProc">Format</span>.<span class="ocamlLCIdentifier">formatter</span> <span class="Statement">-&gt;</span> <span class="Type">int</span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span><span class="Comment">(** See manual section *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Displaying configuration variables} *)<br/></li>
<li></span><br/></li>
<li><a id="L555">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">show_config_and_exit</span></span> : <span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; <span class="Comment">(** Display the values of all compiler configuration variables from module<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; [Config], then <a href="ccomp.ml.html#L96" title="ocaml/utils/ccomp.ml:96">exit</a> the program with code 0. *)<br/></li>
<li></span><br/></li>
<li><a id="L559">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">show_config_variable_and_exit</span></span> : <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; <span class="Comment">(** Display the value of the given configuration variable,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; then <a href="ccomp.ml.html#L96" title="ocaml/utils/ccomp.ml:96">exit</a> the program with code 0. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Handling of build maps} *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** Build maps cause the compiler to normalize <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> names embedded in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; object files, thus leading to more reproducible builds. *)<br/></li>
<li></span><br/></li>
<li><a id="L568">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">get_build_path_prefix_map</span></span>: <span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="PreProc">Build_path_prefix_map</span>.<span class="ocamlLCIdentifier"><a href="identifiable.ml.html#L37" title="ocaml/utils/identifiable.ml:37">map</a></span> <span class="Type">option<br/></li>
<li></span><span class="Comment">(** Returns the <a href="identifiable.ml.html#L37" title="ocaml/utils/identifiable.ml:37">map</a> encoded in the [BUILD_PATH_PREFIX_MAP] environment<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; variable. *)<br/></li>
<li></span><br/></li>
<li><a id="L572">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">debug_prefix_map_flags</span></span>: <span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Type">list<br/></li>
<li></span><span class="Comment">(** Returns the list of [--<a href="clflags.mli.html#L82" title="ocaml/utils/clflags.mli:82">debug</a>-<a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a>-<a href="identifiable.ml.html#L37" title="ocaml/utils/identifiable.ml:37">map</a>] flags to be passed to the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; assembler, built from the [BUILD_PATH_PREFIX_MAP] environment variable. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Handling of <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers} *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Magic_number</span><span class="ocamlPreDef"> : </span><span class="PreProc">sig<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** a typical <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> is &quot;Caml1999I011&quot;; it is formed of an<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; alphanumeric <a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a>, here Caml1990I, followed by a <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; here 011. The <a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a> identifies the kind of the versioned <a href="identifiable.ml.html#L60" title="ocaml/utils/identifiable.ml:60">data</a>:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; here the I indicates that it is the <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> for .cmi files.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; All <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers have the same byte <a href="arg_helper.ml.html#L77" title="ocaml/utils/arg_helper.ml:77">length</a>, [magic_length], and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; this is important for users as it gives them the <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> of <a href="profile.ml.html#L143" title="ocaml/utils/profile.ml:143">bytes</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; to <a href="binutils.mli.html#L26" title="ocaml/utils/binutils.mli:26">read</a> to obtain the byte sequence that should be a <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a>. Typical user code will look like:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; {[<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; let ic = open_in_bin <a href="build_path_prefix_map.ml.html#L16" title="ocaml/utils/build_path_prefix_map.ml:16">path</a> in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; let <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> =<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try really_input_string ic Magic_number.magic_length<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; with End_of_file -&gt; ... in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; match Magic_number.<a href="arg_helper.ml.html#L101" title="ocaml/utils/arg_helper.ml:101">parse</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> with<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; | Error parse_error -&gt; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; | Ok info -&gt; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; ]}<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; A given compiler <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> expects <a href="targetint.mli.html#L38" title="ocaml/utils/targetint.mli:38">one</a> specific <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> for each<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; kind of object <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a>, and will fail if given an unsupported<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>. Because versions grow monotonically, you can <a href="identifiable.ml.html#L90" title="ocaml/utils/identifiable.ml:90">compare</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; the <a href="arg_helper.ml.html#L33" title="ocaml/utils/arg_helper.ml:33">parsed</a> <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> with the expected &quot;<a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>&quot; for<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; a kind, to tell whether the wrong-<a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> object <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> comes from<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; the past or from the future.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; An example of code block that expects the &quot;currently supported <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>&quot;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; of a given kind of <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers, here [Cmxa], is as follows:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; {[<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; let ic = open_in_bin <a href="build_path_prefix_map.ml.html#L16" title="ocaml/utils/build_path_prefix_map.ml:16">path</a> in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; begin<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try Magic_number.(expect_current Cmxa (get_info ic)) with<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Parse_error <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a> -&gt; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Unexpected <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a> -&gt; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; end;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; ]}<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; Parse errors distinguish inputs that are [Not_a_magic_number str],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; which are likely to come from the <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> being completely<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; different, and [Truncated str], raised by headers that are the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; (possibly empty) <a href="diffing_with_keys.mli.html#L49" title="ocaml/utils/diffing_with_keys.mli:49">prefix</a> of a valid <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a>.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; Unexpected errors correspond to valid <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers that are not<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; the <a href="targetint.mli.html#L38" title="ocaml/utils/targetint.mli:38">one</a> expected, either because it corresponds to a different<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; kind, or to a newer or older <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; The helper functions [explain_parse_error] and [<a href="misc.ml.html#L1138" title="ocaml/utils/misc.ml:1138">explain_unexpected_error</a>]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; will <a href="profile.mli.html#L47" title="ocaml/utils/profile.mli:47">generate</a> a textual explanation of each <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a>,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; for use in <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a> messages.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; @<a href="warnings.ml.html#L212" title="ocaml/utils/warnings.ml:212">since</a> 4.11<br/></li>
<li></span><span class="Comment">&nbsp; *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">native_obj_config</span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Statement">{<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="config.fixed.ml.html#L47" title="ocaml/utils/config.fixed.ml:47">flambda</a></span><span class="ocamlSig"> : </span><span class="Type">bool</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">}<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** native object files have a format and <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> that depend<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; on certain native-compiler configuration parameters. This<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; configuration space is expressed by the [native_obj_config]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; type. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">native_obj_config</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">native_obj_config<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** the native object <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> configuration of the active/configured compiler. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Type">int<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Exec<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cmi</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cmo</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cma<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cmx</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">native_obj_config</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cmxa</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">native_obj_config<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cmxs<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Cmt</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Ast_impl</span><span class="ocamlSig"> </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Ast_intf<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">info</span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Statement">{<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier">kind</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a></span><span class="ocamlSig">: </span><span class="ocamlLCIdentifier"><a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Comment">(** Note: some versions of the compiler use the same [<a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>] suffix<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; for all kinds, but others use different versions counters for different<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; kinds. We <a href="warnings.ml.html#L1041" title="ocaml/utils/warnings.ml:1041">may</a> only assume that versions are growing monotonically<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; (not necessarily always by <a href="targetint.mli.html#L38" title="ocaml/utils/targetint.mli:38">one</a>) between compiler versions. *)<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** the type of <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; such as &quot;Caml1999A027&quot; for the .cma files of OCaml 4.10 *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Comment">(** {3 Parsing <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers} *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">parse_error</span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Truncated</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Not_a_magic_number</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">explain_parse_error</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Type">option</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">parse_error</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** Produces an explanation for a <a href="arg_helper.ml.html#L101" title="ocaml/utils/arg_helper.ml:101">parse</a> <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a>. If no kind is provided,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; we use an unspecific formulation suggesting that any compiler-produced<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; object <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a> would have been satisfying. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="arg_helper.ml.html#L101" title="ocaml/utils/arg_helper.ml:101">parse</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">info</span><span class="ocamlSig">, </span><span class="ocamlLCIdentifier">parse_error</span><span class="Statement">)</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L592" title="ocaml/utils/misc.ml:592">result</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** Parses a <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1081" title="ocaml/utils/misc.ml:1081">read_info</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">in_channel</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">info</span><span class="ocamlSig">, </span><span class="ocamlLCIdentifier">parse_error</span><span class="Statement">)</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L592" title="ocaml/utils/misc.ml:592">result</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** Read a <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> from an input channel.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; If the <a href="identifiable.ml.html#L60" title="ocaml/utils/identifiable.ml:60">data</a> <a href="binutils.mli.html#L26" title="ocaml/utils/binutils.mli:26">read</a> [str] is not a valid <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a>, it can be<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; recovered from the [Truncated str | Not_a_magic_number str]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; payload of the [Error parse_error] case.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; If parsing succeeds with an [Ok info] <a href="misc.ml.html#L592" title="ocaml/utils/misc.ml:592">result</a>, we know that<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; exactly [magic_length] <a href="profile.ml.html#L143" title="ocaml/utils/profile.ml:143">bytes</a> have been consumed from the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; input_channel.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; If you also wish to enforce that the <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; is at the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a>, see {!<a href="misc.ml.html#L1163" title="ocaml/utils/misc.ml:1163">read_current_info</a>} below.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">magic_length</span><span class="ocamlSig"> : </span><span class="Type">int<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** all <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers take the same <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> of <a href="profile.ml.html#L143" title="ocaml/utils/profile.ml:143">bytes</a> *)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Comment">(** {3 Checking that <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers are <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a>} *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1133" title="ocaml/utils/misc.ml:1133">unexpected</a></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Statement">{</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">expected</span><span class="ocamlSig"> : '</span><span class="ocamlLCIdentifier">a</span><span class="Statement">;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1153" title="ocaml/utils/misc.ml:1153">actual</a></span><span class="ocamlSig"> : '</span><span class="ocamlLCIdentifier">a</span><span class="ocamlSig"> </span><span class="Statement">}<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1134" title="ocaml/utils/misc.ml:1134">unexpected_error</a></span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Kind</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1133" title="ocaml/utils/misc.ml:1133">unexpected</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Version</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">*</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a></span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1133" title="ocaml/utils/misc.ml:1133">unexpected</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1148" title="ocaml/utils/misc.ml:1148">check_current</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">info</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Statement">(</span><span class="Type">unit</span><span class="ocamlSig">, </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1134" title="ocaml/utils/misc.ml:1134">unexpected_error</a></span><span class="Statement">)</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L592" title="ocaml/utils/misc.ml:592">result</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** [<a href="misc.ml.html#L1148" title="ocaml/utils/misc.ml:1148">check_current</a> kind info] checks that the provided <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> [info]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; is the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> of [kind]'<a href="ccomp.ml.html#L51" title="ocaml/utils/ccomp.ml:51">s</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> header. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1138" title="ocaml/utils/misc.ml:1138">explain_unexpected_error</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1134" title="ocaml/utils/misc.ml:1134">unexpected_error</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** Provides an explanation of the [<a href="misc.ml.html#L1134" title="ocaml/utils/misc.ml:1134">unexpected_error</a>]. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a></span><span class="ocamlSig"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Parse_error</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">parse_error<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlSig"> </span><span class="Constant">Unexpected_error</span><span class="ocamlSig"> </span><span class="Statement">of</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1134" title="ocaml/utils/misc.ml:1134">unexpected_error</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1163" title="ocaml/utils/misc.ml:1163">read_current_info</a></span><span class="ocamlSig"> :<br/></li>
<li></span><span class="ocamlSig">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">expected_kind</span><span class="ocamlSig">:</span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Type">option</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">in_channel</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">info</span><span class="ocamlSig">, </span><span class="ocamlLCIdentifier"><a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a></span><span class="Statement">)</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L592" title="ocaml/utils/misc.ml:592">result</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** Read a <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> as [<a href="misc.ml.html#L1081" title="ocaml/utils/misc.ml:1081">read_info</a>],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; and <a href="consistbl.mli.html#L38" title="ocaml/utils/consistbl.mli:38">check</a> that it is the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> as <a href="warnings.ml.html#L1077" title="ocaml/utils/warnings.ml:1077">its</a> kind.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; If the [expected_kind] argument is [None], any kind is accepted. *)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Comment">(** {3 Information on <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers} *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">string_of_kind</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** a user-printable string for a kind, eg. &quot;exec&quot; or &quot;cmo&quot;, to use<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; in <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a> messages. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">human_name_of_kind</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** a user-meaningful name for a kind, eg. &quot;executable <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a>&quot; or<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &quot;bytecode object <a href="profile.mli.html#L23" title="ocaml/utils/profile.mli:23">file</a>&quot;, to use in <a href="binutils.mli.html#L16" title="ocaml/utils/binutils.mli:16">error</a> messages. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1092" title="ocaml/utils/misc.ml:1092">current_raw</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a> of each kind *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1128" title="ocaml/utils/misc.ml:1128">current_version</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> of each kind *)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Comment">(** {3 Raw representations}<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; Mainly for internal usage and testing. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1116" title="ocaml/utils/misc.ml:1116">raw_kind</a></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Type">string<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** the type of <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers kinds,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; such as &quot;Caml1999A&quot; for .cma files *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">parse_kind</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1116" title="ocaml/utils/misc.ml:1116">raw_kind</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Type">option<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** <a href="arg_helper.ml.html#L101" title="ocaml/utils/arg_helper.ml:101">parse</a> a <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> kind into a kind *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1116" title="ocaml/utils/misc.ml:1116">raw_kind</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L1116" title="ocaml/utils/misc.ml:1116">raw_kind</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** the <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a> <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> representation of a kind.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; In some cases the <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> representation of a kind has changed<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; over compiler versions, so other files of the same kind<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; <a href="warnings.ml.html#L1041" title="ocaml/utils/warnings.ml:1041">may</a> have different <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> kinds.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; Note that all currently known cases are <a href="arg_helper.ml.html#L33" title="ocaml/utils/arg_helper.ml:33">parsed</a> correctly by [parse_kind].<br/></li>
<li></span><span class="Comment">&nbsp; *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">info</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(** A valid <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> representation of the <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> <a href="warnings.ml.html#L121" title="ocaml/utils/warnings.ml:121">number</a>.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; Due to past and future changes in the string representation of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; <a href="binutils.ml.html#L625" title="ocaml/utils/binutils.ml:625">magic</a> numbers, we cannot guarantee that the <a href="diffing_with_keys.ml.html#L204" title="ocaml/utils/diffing_with_keys.ml:204">raw</a> strings returned<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; for past and future versions actually match the expectations of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; those compilers. The representation is accurate for <a href="warnings.ml.html#L587" title="ocaml/utils/warnings.ml:587">current</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; versions, and it is correctly <a href="arg_helper.ml.html#L33" title="ocaml/utils/arg_helper.ml:33">parsed</a> back into the desired<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; <a href="config.common.ml.html#L20" title="ocaml/utils/config.common.ml:20">version</a> by the parsing functions above.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier">all_kinds</span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier">kind</span><span class="ocamlSig"> </span><span class="Type">list<br/></li>
<li></span><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** {1 Miscellaneous type aliases} *)<br/></li>
<li></span><br/></li>
<li><a id="L777">&#x200c;</a><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">filepath</span></span> <span class="Statement">=</span> <span class="Type">string<br/></li>
<li><a id="L778">&#x200c;</a></span><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">modname</span></span> <span class="Statement">=</span> <span class="Type">string<br/></li>
<li><a id="L779">&#x200c;</a></span><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">crcs</span></span> <span class="Statement">=</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="misc.ml.html#L916" title="ocaml/utils/misc.ml:916">modname</a></span> <span class="Statement">*</span> <span class="PreProc">Digest</span>.<span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a></span> <span class="Type">option</span><span class="Statement">)</span> <span class="Type">list<br/></li>
<li></span><br/></li>
<li><a id="L781">&#x200c;</a><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">alerts</span></span> <span class="Statement">=</span> <span class="Type">string</span> <span class="PreProc">Stdlib</span>.<span class="PreProc">String</span>.<span class="PreProc">Map</span>.<span class="ocamlLCIdentifier"><a href="lazy_backtrack.mli.html#L16" title="ocaml/utils/lazy_backtrack.mli:16">t</a><br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
