<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/asmcomp/x86_proc.mli - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/asmcomp/x86_proc.mli - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L52">assemble_file</a></li>
<li><a href="#L34">buf_bytes_directive</a></li>
<li><a href="#L41">directive</a></li>
<li><a href="#L40">emit</a></li>
<li><a href="#L46">generate_code</a></li>
<li><a href="#L85">masm</a></li>
<li><a href="#L93">register_internal_assembler</a></li>
<li><a href="#L42">reset_asm_code</a></li>
<li><a href="#L30">string_of_condition</a></li>
<li><a href="#L31">string_of_float_condition</a></li>
<li><a href="#L25">string_of_reg16</a></li>
<li><a href="#L26">string_of_reg32</a></li>
<li><a href="#L27">string_of_reg64</a></li>
<li><a href="#L24">string_of_reg8h</a></li>
<li><a href="#L23">string_of_reg8l</a></li>
<li><a href="#L28">string_of_registerf</a></li>
<li><a href="#L33">string_of_rounding</a></li>
<li><a href="#L29">string_of_string_literal</a></li>
<li><a href="#L32">string_of_symbol</a></li>
<li><a href="#L84">system</a></li>
<li><a href="#L89">use_plt</a></li>
<li><a href="#L86">windows</a></li>
<li><a href="#L94">with_internal_assembler</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L60">system</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Fabrice Le Fessant, projet Gallium, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 2014 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(** Definitions shared between the 32 and 64 bit Intel backends. *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">open</span><span class="ocamlNone"> </span><span class="PreProc">X86_ast<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** Helpers for textual emitters *)<br/></li>
<li></span><br/></li>
<li><a id="L23">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_reg8l</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L62" title="ocaml/asmcomp/x86_ast.mli:62">reg64</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L24">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_reg8h</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L66" title="ocaml/asmcomp/x86_ast.mli:66">reg8h</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L25">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_reg16</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L62" title="ocaml/asmcomp/x86_ast.mli:62">reg64</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L26">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_reg32</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L62" title="ocaml/asmcomp/x86_ast.mli:62">reg64</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L27">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_reg64</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L62" title="ocaml/asmcomp/x86_ast.mli:62">reg64</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L28">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_registerf</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L70" title="ocaml/asmcomp/x86_ast.mli:70">registerf</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L29">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_string_literal</span></span>: <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L30">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_condition</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L18" title="ocaml/asmcomp/x86_ast.mli:18">condition</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L31">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_float_condition</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L28" title="ocaml/asmcomp/x86_ast.mli:28">float_condition</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L32">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_symbol</span></span>: <span class="Comment">(*prefix*)</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L33">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">string_of_rounding</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L38" title="ocaml/asmcomp/x86_ast.mli:38">rounding</a></span> <span class="Statement">-&gt;</span> <span class="Type">string<br/></li>
<li><a id="L34">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">buf_bytes_directive</span></span>:<br/></li>
<li>&nbsp; <span class="PreProc">Buffer</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">-&gt;</span> <span class="Comment">(*<a href="x86_proc.ml.html#L280" title="ocaml/asmcomp/x86_proc.ml:280">directive</a>*)</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Comment">(*<a href="emit.mli.html#L19" title="ocaml/asmcomp/emit.mli:19">data</a>*)</span><span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(** Buffer of assembly code *)<br/></li>
<li></span><br/></li>
<li><a id="L40">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">emit</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L107" title="ocaml/asmcomp/x86_ast.mli:107">instruction</a></span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li><a id="L41">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">directive</span></span>: <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L199" title="ocaml/asmcomp/x86_ast.mli:199">asm_line</a></span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li><a id="L42">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">reset_asm_code</span></span>: <span class="Type">unit</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** Code emission *)<br/></li>
<li></span><br/></li>
<li><a id="L46">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">generate_code</span></span>: <span class="Statement">(</span><span class="PreProc">X86_ast</span>.<span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L199" title="ocaml/asmcomp/x86_ast.mli:199">asm_line</a></span> <span class="Type">list</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Type">option</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li></span>&nbsp; <span class="Comment">(** Post-process the stream of instructions.&nbsp; Dump it (using<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; the provided syntax emitter) in <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> (if provided) and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; <a href="strmatch.ml.html#L387" title="ocaml/asmcomp/strmatch.ml:387">compile</a> it with an internal assembler (if registered<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; through [<a href="x86_proc.ml.html#L241" title="ocaml/asmcomp/x86_proc.ml:241">register_internal_assembler</a>]). *)<br/></li>
<li></span><br/></li>
<li><a id="L52">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">assemble_file</span></span>: <span class="Comment">(*infile*)</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Comment">(*outfile*)</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Comment">(*retcode*)</span> <span class="Type"><a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a><br/></li>
<li></span><span class="Comment">(** Generate an object <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> corresponding to the last <a href="x86_dsl.ml.html#L121" title="ocaml/asmcomp/x86_dsl.ml:121">call</a> to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; [<a href="x86_proc.ml.html#L285" title="ocaml/asmcomp/x86_proc.ml:285">generate_code</a>].&nbsp; An internal assembler is used if available (and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; the input <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> is ignored). Otherwise, the source asm <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> with an<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; external assembler. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** System detection *)<br/></li>
<li></span><br/></li>
<li><a id="L60">&#x200c;</a><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">system</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* 32 bits and 64 bits *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_macosx<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_gnu<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_cygwin<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Comment">(* 32 bits only *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_solaris<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_win32<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_linux_elf<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_bsd_elf<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_beos<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_mingw<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Comment">(* 64 bits only *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_win64<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_linux<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_mingw64<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_freebsd<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_netbsd<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">S_openbsd<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">S_unknown<br/></li>
<li></span><br/></li>
<li><a id="L84">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">system</span></span>: <span class="ocamlLCIdentifier"><span class="linkable">system</span><br/></li>
<li><a id="L85">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">masm</span></span>: <span class="Type">bool<br/></li>
<li><a id="L86">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">windows</span></span>:<span class="Type">bool<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** Whether calls need to go via the PLT. *)<br/></li>
<li><a id="L89">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">use_plt</span></span> : <span class="Type">bool<br/></li>
<li></span><br/></li>
<li><span class="Comment">(** Support for plumbing <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> binary code emitter *)<br/></li>
<li></span><br/></li>
<li><a id="L93">&#x200c;</a><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">register_internal_assembler</span></span>: <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L235" title="ocaml/asmcomp/x86_ast.mli:235">asm_program</a></span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Type">unit<br/></li>
<li><a id="L94">&#x200c;</a></span><span class="Statement">val</span> <span class="ocamlLCIdentifier"><span class="linkable">with_internal_assembler</span></span>:<br/></li>
<li>&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L235" title="ocaml/asmcomp/x86_ast.mli:235">asm_program</a></span> <span class="Statement">-&gt;</span> <span class="Type">string</span> <span class="Statement">-&gt;</span> <span class="Type">unit</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="Type">unit</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a><br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
