<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/asmcomp/cmm_helpers.ml - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/asmcomp/cmm_helpers.ml - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L1740">all_args</a></li>
<li><a href="#L1011">alloc_header_boxed_int</a></li>
<li><a href="#L1029">alloc_matches_boxed_int</a></li>
<li><a href="#L1719">apply_function_body</a></li>
<li><a href="#L843">apply_function_sym</a></li>
<li><a href="#L1928">arg</a></li>
<li><a href="#L1739">args</a></li>
<li><a href="#L853">bigarray_elt_size</a></li>
<li><a href="#L941">bigarray_get</a></li>
<li><a href="#L871">bigarray_indexing</a></li>
<li><a href="#L926">bigarray_word_kind</a></li>
<li><a href="#L334">body</a></li>
<li><a href="#L570">box_float</a></li>
<li><a href="#L1017">box_int_gen</a></li>
<li><a href="#L1330">box_sized</a></li>
<li><a href="#L333">call_cont</a></li>
<li><a href="#L1659">cconst_int</a></li>
<li><a href="#L2002">curry_function</a></li>
<li><a href="#L845">curry_function_sym</a></li>
<li><a href="#L1338">default_prim</a></li>
<li><a href="#L372">delta</a></li>
<li><a href="#L1610">direct_apply</a></li>
<li><a href="#L429">div_int</a></li>
<li><a href="#L360">divimm_parameters</a></li>
<li><a href="#L632">field_address</a></li>
<li><a href="#L1911">fun_dbg</a></li>
<li><a href="#L1908">fun_name</a></li>
<li><a href="#L1613">generic_apply</a></li>
<li><a href="#L637">get_field_gen</a></li>
<li><a href="#L1921">intermediate_curry_functions</a></li>
<li><a href="#L1548">inters</a></li>
<li><a href="#L1660">li</a></li>
<li><a href="#L821">make_alloc</a></li>
<li><a href="#L834">make_checkbound</a></li>
<li><a href="#L828">make_float_alloc</a></li>
<li><a href="#L1362">make_switch</a></li>
<li><a href="#L1084">make_unsigned_int</a></li>
<li><a href="#L1287">max_or_zero</a></li>
<li><a href="#L294">mk_compare_ints</a></li>
<li><a href="#L485">mod_int</a></li>
<li><a href="#L1901">newclos</a></li>
<li><a href="#L1315">opaque</a></li>
<li><a href="#L1005">operations_boxed_int</a></li>
<li><a href="#L1705">placeholder_dbg</a></li>
<li><a href="#L1706">placeholder_fun_dbg</a></li>
<li><a href="#L1605">ptr_offset</a></li>
<li><a href="#L426">raise_symbol</a></li>
<li><a href="#L548">safe_div_bi</a></li>
<li><a href="#L533">safe_divmod_bi</a></li>
<li><a href="#L1626">send</a></li>
<li><a href="#L1757">send_function</a></li>
<li><a href="#L995">sign_extend_32</a></li>
<li><a href="#L1341">simplif_primitive</a></li>
<li><a href="#L466">t</a></li>
<li><a href="#L467">t</a></li>
<li><a href="#L468">t</a></li>
<li><a href="#L1358">transl_isout</a></li>
<li><a href="#L1562">transl_switch_clambda</a></li>
<li><a href="#L343">ucompare</a></li>
<li><a href="#L348">udivmod</a></li>
<li><a href="#L1324">unaligned_load</a></li>
<li><a href="#L1089">unaligned_load_16</a></li>
<li><a href="#L1118">unaligned_load_32</a></li>
<li><a href="#L1179">unaligned_load_64</a></li>
<li><a href="#L1318">unaligned_set</a></li>
<li><a href="#L1100">unaligned_set_16</a></li>
<li><a href="#L1143">unaligned_set_32</a></li>
<li><a href="#L1217">unaligned_set_64</a></li>
<li><a href="#L572">unbox_float</a></li>
<li><a href="#L1000">zero_extend_32</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Xavier Leroy, projet Cristal, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 1996 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the <a href="x86_dsl.ml.html#L97" title="ocaml/asmcomp/x86_dsl.ml:97">file</a> LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><span class="Statement">[</span>@@@<span class="ocamlLCIdentifier">ocaml</span>.<span class="ocamlLCIdentifier">warning</span> <span class="Constant">&quot;+<a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a>-4-9-40-41-42-44-45&quot;</span><span class="Statement">]<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> V</span><span class="ocamlPreDef"> </span><span class="Statement">=</span> <span class="PreProc">Backend_var<br/></li>
<li></span><span class="Statement">module</span><span class="PreProc"> VP</span><span class="ocamlPreDef"> </span><span class="Statement">=</span> <span class="PreProc">Backend_var.With_provenance<br/></li>
<li></span><span class="Statement">open</span><span class="ocamlNone"> </span><span class="PreProc">Cmm<br/></li>
<li></span><span class="Statement">open</span><span class="ocamlNone"> </span><span class="PreProc">Arch<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Local binding of complex expressions *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier">fn</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cvar</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">Cconst_natint</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">Cconst_symbol</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">fn</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">in</span> <span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>, <span class="ocamlLCIdentifier">fn</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L24" title="ocaml/asmcomp/cmm_helpers.mli:24">bind_load</a></span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier">fn</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cload</span> <span class="Statement">_</span>, <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="Statement">_]</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">fn</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier">fn<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L28" title="ocaml/asmcomp/cmm_helpers.mli:28">bind_nonvar</a></span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier">fn</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">Cconst_natint</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">Cconst_symbol</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">fn</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">in</span> <span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>, <span class="ocamlLCIdentifier">fn</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L34" title="ocaml/asmcomp/cmm_helpers.mli:34">caml_black</a></span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="Constant">3</span><span class="Statement">)</span> <span class="Constant">8<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* cf. runtime/caml/gc.<a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a> *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Loads *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">mk_load_immut</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cload</span> <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">mutability</span><span class="Statement">=</span><span class="Constant">Immutable</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">is_atomic</span><span class="Statement">=</span><span class="Constant">false</span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cload</span> <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">mutability</span><span class="Statement">=</span><span class="Constant">Mutable</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">is_atomic</span><span class="Statement">=</span><span class="Constant">false</span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L196" title="ocaml/asmcomp/cmm_helpers.mli:196">mk_load_atomic</a></span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cload</span> <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">mutability</span><span class="Statement">=</span><span class="Constant">Mutable</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">is_atomic</span><span class="Statement">=</span><span class="Constant">true</span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Block headers. Meaning of the tag field: see stdlib/<a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a>.ml *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L37" title="ocaml/asmcomp/cmm_helpers.mli:37">floatarray_tag</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">double_array_tag</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">sz</span><span class="Statement">)</span> <span class="Constant">10</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">tag</span><span class="Statement">)<br/></li>
<li></span><span class="Comment">(* Static <a href="emit.mli.html#L19" title="ocaml/asmcomp/emit.mli:19">data</a> corresponding to &quot;value&quot;<a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a> must be marked black in case we are<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; in no-naked-pointers <a href="asmlink.ml.html#L324" title="ocaml/asmcomp/asmlink.ml:324">mode</a>.&nbsp; See [caml_darken] and the code below that emits<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; structured constants and static module definitions. *)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L44" title="ocaml/asmcomp/cmm_helpers.mli:44">black_block_header</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">logor</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">sz</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L34" title="ocaml/asmcomp/cmm_helpers.mli:34">caml_black</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L47" title="ocaml/asmcomp/cmm_helpers.mli:47">white_closure_header</a></span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">closure_tag</span> <span class="ocamlLCIdentifier">sz<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L48" title="ocaml/asmcomp/cmm_helpers.mli:48">black_closure_header</a></span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L44" title="ocaml/asmcomp/cmm_helpers.mli:44">black_block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">closure_tag</span> <span class="ocamlLCIdentifier">sz<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L51" title="ocaml/asmcomp/cmm_helpers.mli:51">infix_header</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">infix_tag</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L54" title="ocaml/asmcomp/cmm_helpers.mli:54">float_header</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">double_tag</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a></span> / <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L57" title="ocaml/asmcomp/cmm_helpers.mli:57">floatarray_header</a></span> <span class="ocamlLCIdentifier">len</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* Zero-sized <a href="power/proc.ml.html#L212" title="ocaml/asmcomp/power/proc.ml:212">float</a> arrays have tag zero for consistency with<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [caml_alloc_float_array]. *)<br/></li>
<li></span>&nbsp; <span class="Statement">assert</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">len</span> <span class="Statement">&gt;=</span> <span class="Constant">0</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">len</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="Constant">0</span> <span class="Constant">0<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">double_array_tag</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">len</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a></span> / <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L60" title="ocaml/asmcomp/cmm_helpers.mli:60">string_header</a></span> <span class="ocamlLCIdentifier">len</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">string_tag</span> <span class="Statement">((</span><span class="ocamlLCIdentifier">len</span> + <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)</span> / <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L63" title="ocaml/asmcomp/cmm_helpers.mli:63">boxedint32_header</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">custom_tag</span> <span class="Constant">2<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L64" title="ocaml/asmcomp/cmm_helpers.mli:64">boxedint64_header</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">custom_tag</span> <span class="Statement">(</span><span class="Constant">1</span> + <span class="Constant">8</span> / <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L65" title="ocaml/asmcomp/cmm_helpers.mli:65">boxedintnat_header</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">custom_tag</span> <span class="Constant">2<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L375" title="ocaml/asmcomp/cmm_helpers.mli:375">caml_nativeint_ops</a></span> <span class="Statement">=</span> <span class="Constant">&quot;<a href="cmm_helpers.mli.html#L375" title="ocaml/asmcomp/cmm_helpers.mli:375">caml_nativeint_ops</a>&quot;<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L376" title="ocaml/asmcomp/cmm_helpers.mli:376">caml_int32_ops</a></span> <span class="Statement">=</span> <span class="Constant">&quot;<a href="cmm_helpers.mli.html#L376" title="ocaml/asmcomp/cmm_helpers.mli:376">caml_int32_ops</a>&quot;<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L377" title="ocaml/asmcomp/cmm_helpers.mli:377">caml_int64_ops</a></span> <span class="Statement">=</span> <span class="Constant">&quot;<a href="cmm_helpers.mli.html#L377" title="ocaml/asmcomp/cmm_helpers.mli:377">caml_int64_ops</a>&quot;<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">pos_arity_in_closinfo</span> <span class="Statement">=</span> <span class="Constant">8</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span> - <span class="Constant">8<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(* arity = the top 8 bits of the closinfo <a href="x86_dsl.ml.html#L112" title="ocaml/asmcomp/x86_dsl.ml:112">word</a> *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L68" title="ocaml/asmcomp/cmm_helpers.mli:68">closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">assert</span> <span class="Statement">(</span>-<span class="Constant">128</span> <span class="Statement">&lt;=</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">&lt;=</span> <span class="Constant">127</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">assert</span> <span class="Statement">(</span><span class="Constant">0</span> <span class="Statement">&lt;=</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> <span class="Statement">&lt;</span> <span class="Constant">1</span> <span class="Statement">lsl</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pos_arity_in_closinfo</span> - <span class="Constant">1</span><span class="Statement">));<br/></li>
<li></span>&nbsp; <span class="PreProc">Nativeint</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">arity</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">pos_arity_in_closinfo</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span><span class="Statement">)</span> <span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">1n</span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L71" title="ocaml/asmcomp/cmm_helpers.mli:71">alloc_float_header</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L54" title="ocaml/asmcomp/cmm_helpers.mli:54">float_header</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L72" title="ocaml/asmcomp/cmm_helpers.mli:72">alloc_floatarray_header</a></span> <span class="ocamlLCIdentifier">len</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L57" title="ocaml/asmcomp/cmm_helpers.mli:57">floatarray_header</a></span> <span class="ocamlLCIdentifier">len</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L73" title="ocaml/asmcomp/cmm_helpers.mli:73">alloc_closure_header</a></span> <span class="ocamlLCIdentifier">sz</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L47" title="ocaml/asmcomp/cmm_helpers.mli:47">white_closure_header</a></span> <span class="ocamlLCIdentifier">sz</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L74" title="ocaml/asmcomp/cmm_helpers.mli:74">alloc_infix_header</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L51" title="ocaml/asmcomp/cmm_helpers.mli:51">infix_header</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L75" title="ocaml/asmcomp/cmm_helpers.mli:75">alloc_closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L68" title="ocaml/asmcomp/cmm_helpers.mli:68">closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L77" title="ocaml/asmcomp/cmm_helpers.mli:77">alloc_boxedint32_header</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L63" title="ocaml/asmcomp/cmm_helpers.mli:63">boxedint32_header</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L78" title="ocaml/asmcomp/cmm_helpers.mli:78">alloc_boxedint64_header</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L64" title="ocaml/asmcomp/cmm_helpers.mli:64">boxedint64_header</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L79" title="ocaml/asmcomp/cmm_helpers.mli:79">alloc_boxedintnat_header</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L65" title="ocaml/asmcomp/cmm_helpers.mli:65">boxedintnat_header</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Integers *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L85" title="ocaml/asmcomp/cmm_helpers.mli:85">max_repr_int</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">max_int</span> <span class="Statement">asr</span> <span class="Constant">1<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L86" title="ocaml/asmcomp/cmm_helpers.mli:86">min_repr_int</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">min_int</span> <span class="Statement">asr</span> <span class="Constant">1<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&lt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L85" title="ocaml/asmcomp/cmm_helpers.mli:85">max_repr_int</a></span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L86" title="ocaml/asmcomp/cmm_helpers.mli:86">min_repr_int</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">Cconst_int</span><span class="Statement">((</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">lsl</span> <span class="Constant">1</span><span class="Statement">)</span> + <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Constant">Cconst_natint<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="Constant">1</span><span class="Statement">)</span> <span class="Constant">1n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="PreProc">Nativeint</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">of_int</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">max_int<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="PreProc">Nativeint</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">of_int</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">min_int<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>,<span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">to_int</span> <span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L90" title="ocaml/asmcomp/cmm_helpers.mli:90">cint_const</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="Constant">1</span><span class="Statement">)</span> <span class="Constant">1n</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L91" title="ocaml/asmcomp/cmm_helpers.mli:91">targetint_const</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Targetint</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">(</span><span class="PreProc">Targetint</span>.<span class="ocamlLCIdentifier">shift_left</span> <span class="Statement">(</span><span class="PreProc">Targetint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Targetint</span>.<span class="ocamlLCIdentifier">one<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">add_no_overflow</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">n</span> + <span class="ocamlLCIdentifier">x</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">x</span>, <span class="Statement">_)</span> <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_add</span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">-&gt;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">x</span> + <span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">x</span>, <span class="Statement">_);</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_add</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">add_no_overflow</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">x</span>, <span class="Statement">_)]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_add</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">add_no_overflow</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">x</span>, <span class="Statement">_);</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="Statement">_)</span> <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_add</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> + <span class="ocamlLCIdentifier">x</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">x</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_sub</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> - <span class="ocamlLCIdentifier">x</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L102" title="ocaml/asmcomp/cmm_helpers.mli:102">incr_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Constant">1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">c</span><span class="Statement">)</span> <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_)]</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(_</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_))</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span> <span class="Statement">&lt;&gt;</span> <span class="ocamlLCIdentifier">min_int</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_)]</span>, <span class="Statement">_))</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span> <span class="Statement">&lt;&gt;</span> <span class="ocamlLCIdentifier">min_int</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> + <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span> <span class="Statement">&lt;</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> <span class="Statement">*</span> <span class="Constant">8</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> + <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_lsl</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> <span class="Statement">lsl</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(_</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">is_power2</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=</span> <span class="Constant">1</span> <span class="Statement">lsl</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier">n<br/></li>
<li></span><br/></li>
<li><span class="Statement">and</span> <span class="ocamlLCIdentifier">mult_power2</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_))</span> <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">c</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_))</span> <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">c</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span><span class="Statement">(</span>-<span class="Constant">1</span>, <span class="Statement">_))</span> <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span><span class="Statement">(</span>-<span class="Constant">1</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">c</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_))</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">is_power2</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">mult_power2</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">c</span><span class="Statement">)</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">is_power2</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">mult_power2</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">k</span>, <span class="Statement">_))</span> <span class="Statement">|<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">k</span>, <span class="Statement">_)</span>, <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">no_overflow_mul</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">k</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">k</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier">k</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cmuli</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L107" title="ocaml/asmcomp/cmm_helpers.mli:107">ignore_low_bit_int</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[_;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&gt;</span> <span class="Constant">0<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* removes the 1-bit sign-extension left by <a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a> (<a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a> c) *)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L111" title="ocaml/asmcomp/cmm_helpers.mli:111">ignore_high_bit_int</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L118" title="ocaml/asmcomp/cmm_helpers.mli:118">lsr_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L107" title="ocaml/asmcomp/cmm_helpers.mli:107">ignore_low_bit_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L119" title="ocaml/asmcomp/cmm_helpers.mli:119">asr_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L107" title="ocaml/asmcomp/cmm_helpers.mli:107">ignore_low_bit_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">n<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L119" title="ocaml/asmcomp/cmm_helpers.mli:119">asr_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> - <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L102" title="ocaml/asmcomp/cmm_helpers.mli:102">incr_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">asr</span> <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&lt;</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> <span class="Statement">*</span> <span class="Constant">8</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>+<span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&gt;</span> <span class="Constant">0</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&lt;</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> <span class="Statement">*</span> <span class="Constant">8</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>+<span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L119" title="ocaml/asmcomp/cmm_helpers.mli:119">asr_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L151" title="ocaml/asmcomp/cmm_helpers.mli:151">mk_if_then_else</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L617" title="ocaml/asmcomp/cmmgen.ml:617">ifso_dbg</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L618" title="ocaml/asmcomp/cmmgen.ml:618">ifnot_dbg</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L617" title="ocaml/asmcomp/cmmgen.ml:617">ifso_dbg</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L618" title="ocaml/asmcomp/cmmgen.ml:618">ifnot_dbg</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L159" title="ocaml/asmcomp/cmm_helpers.mli:159">mk_not</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>'<span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">c</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">''</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L98" title="ocaml/asmcomp/cmm.ml:98">negate_integer_comparison</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">''</span><span class="Statement">))</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">'<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpa</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">''</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpa</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L98" title="ocaml/asmcomp/cmm.ml:98">negate_integer_comparison</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">''</span><span class="Statement">))</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">'<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpf</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">''</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpf</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L107" title="ocaml/asmcomp/cmm.ml:107">negate_float_comparison</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">''</span><span class="Statement">))</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">'<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">(* 0 -&gt; 3, 1 -&gt; 1 *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">[</span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">3</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">1</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">3</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">3</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* 1 -&gt; 3, 3 -&gt; 1 *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">4</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L294">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">mk_compare_ints</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">a1</span> <span class="ocamlLCIdentifier">a2</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">a1</span>,<span class="ocamlLCIdentifier">a2</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="PreProc">Nativeint</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="PreProc">Nativeint</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">a1</span>, <span class="ocamlLCIdentifier">a2</span> <span class="Statement">-&gt;</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span><span class="ocamlEnd"> </span><span class="Constant">&quot;int_cmp&quot;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">a2</span><span class="ocamlEnd"> </span><span class="Statement">(fun</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">a2</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span><span class="ocamlEnd"> </span><span class="Constant">&quot;int_cmp&quot;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">a1</span><span class="ocamlEnd"> </span><span class="Statement">(fun</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">a1</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">op1</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span><span class="Statement">(</span><span class="Constant">Cgt</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">a2</span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">op2</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span><span class="Statement">(</span><span class="Constant">Clt</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">a2</span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">op1</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">op2</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L163" title="ocaml/asmcomp/cmm_helpers.mli:163">mk_compare_floats</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">a1</span> <span class="ocamlLCIdentifier">a2</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;float_cmp&quot;</span> <span class="ocamlLCIdentifier">a2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">a2</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;float_cmp&quot;</span> <span class="ocamlLCIdentifier">a1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">a1</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">op1</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpf</span><span class="Statement">(</span><span class="Constant">CFgt</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">a2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">op2</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpf</span><span class="Statement">(</span><span class="Constant">CFlt</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">a2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">op3</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpf</span><span class="Statement">(</span><span class="Constant">CFeq</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">a1</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">op4</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpf</span><span class="Statement">(</span><span class="Constant">CFeq</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">a2</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">a2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* If both operands a1 and a2 are not NaN, then op3 = op4 = 1,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; and the <a href="interval.mli.html#L33" title="ocaml/asmcomp/interval.mli:33">result</a> is op1 - op2.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; If at least one of the operands is NaN,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; then op1 = op2 = 0, and the <a href="interval.mli.html#L33" title="ocaml/asmcomp/interval.mli:33">result</a> is op3 - op4,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; which orders NaN <a href="spill.ml.html#L362" title="ocaml/asmcomp/spill.ml:362">before</a> other values.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; To detect if the operand is NaN, we use the property:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for all x, NaN is not equal to x, even if x is NaN.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Therefore, op3 is 0 if and only if a1 is NaN,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; and op4 is 0 if and only if a2 is NaN.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; See also caml_float_compare_unboxed in runtime/floats.c&nbsp; *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier">op1</span> <span class="ocamlLCIdentifier">op2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier">op3</span> <span class="ocamlLCIdentifier">op4</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L167" title="ocaml/asmcomp/cmm_helpers.mli:167">create_loop</a></span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=</span> <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">next_raise_count</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li><a id="L333">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">call_cont</span></span> <span class="Statement">=</span> <span class="Constant">Cexit</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span>, <span class="Constant">[]</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li><a id="L334">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">body</span></span> <span class="Statement">=</span> <span class="Constant">Csequence</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><span class="linkable">body</span></span>, <span class="ocamlLCIdentifier"><a href="#L333" title="ocaml/asmcomp/cmm_helpers.ml:333">call_cont</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Ccatch</span> <span class="Statement">(</span><span class="Constant">Recursive</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span>, <span class="Constant">[]</span>, <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="#L333" title="ocaml/asmcomp/cmm_helpers.ml:333">call_cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Turning integer divisions into multiply-high then shift.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The [division_parameters] function is used in module Emit for<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; those target platforms that support this optimization. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Unsigned comparison between native integers. *)<br/></li>
<li></span><br/></li>
<li><a id="L343">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">ucompare</span></span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">min_int</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">min_int</span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Unsigned division and modulus at type nativeint.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Algorithm: Hacker'<a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a> Delight <a href="x86_dsl.ml.html#L83" title="ocaml/asmcomp/x86_dsl.ml:83">section</a> 9.3 *)<br/></li>
<li></span><br/></li>
<li><a id="L348">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">udivmod</span></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="Statement">(<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0n</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">(</span><span class="Constant">0n</span>, <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="Statement">else</span> <span class="Statement">(</span><span class="Constant">1n</span>, <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">q</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">shift_left</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">div</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">shift_right_logical</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="amd64/reload.ml.html#L90" title="ocaml/asmcomp/amd64/reload.ml:90">r</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">mul</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">q</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="amd64/reload.ml.html#L90" title="ocaml/asmcomp/amd64/reload.ml:90">r</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">succ</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">q</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="amd64/reload.ml.html#L90" title="ocaml/asmcomp/amd64/reload.ml:90">r</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">q</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="amd64/reload.ml.html#L90" title="ocaml/asmcomp/amd64/reload.ml:90">r</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Compute division parameters.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Algorithm: Hacker'<a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a> Delight chapter 10, fig 10-1. *)<br/></li>
<li></span><br/></li>
<li><a id="L360">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">divimm_parameters</span></span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="Statement">(<br/></li>
<li></span>&nbsp; <span class="Statement">assert</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span> <span class="Statement">&gt;</span> <span class="Constant">0n</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">twopsm1</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">min_int</span> <span class="Statement">in</span> <span class="Comment">(* 2^31 for 32-bit archs, 2^63 for 64-bit archs *)<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">nc</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pred</span> <span class="ocamlLCIdentifier">twopsm1</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">snd</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L348" title="ocaml/asmcomp/cmm_helpers.ml:348">udivmod</a></span> <span class="ocamlLCIdentifier">twopsm1</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">))</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L263" title="ocaml/asmcomp/linearize.ml:263">loop</a></span> <span class="ocamlLCIdentifier">p</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q1</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q2</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">p</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">p</span> + <span class="Constant">1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">q1</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">shift_left</span> <span class="ocamlLCIdentifier">q1</span> <span class="Constant">1</span> <span class="Statement">and</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">shift_left</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span> <span class="Constant">1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q1</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">nc</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">succ</span> <span class="ocamlLCIdentifier">q1</span>, <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span> <span class="ocamlLCIdentifier">nc</span><span class="Statement">)</span> <span class="Statement">else</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q1</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">q2</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">shift_left</span> <span class="ocamlLCIdentifier">q2</span> <span class="Constant">1</span> <span class="Statement">and</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">shift_left</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span> <span class="Constant">1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q2</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">succ</span> <span class="ocamlLCIdentifier">q2</span>, <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">)</span> <span class="Statement">else</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q2</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li><a id="L372">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">delta</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">q1</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L372" title="ocaml/asmcomp/cmm_helpers.ml:372">delta</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">q1</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L372" title="ocaml/asmcomp/cmm_helpers.ml:372">delta</a></span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0n</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L263" title="ocaml/asmcomp/linearize.ml:263">loop</a></span> <span class="ocamlLCIdentifier">p</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q1</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L696" title="ocaml/asmcomp/selectgen.ml:696">r1</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">q2</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L833" title="ocaml/asmcomp/selectgen.ml:833">r2</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">succ</span> <span class="ocamlLCIdentifier">q2</span>, <span class="ocamlLCIdentifier">p</span> - <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L263" title="ocaml/asmcomp/linearize.ml:263">loop</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> - <span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L348" title="ocaml/asmcomp/cmm_helpers.ml:348">udivmod</a></span> <span class="ocamlLCIdentifier">twopsm1</span> <span class="ocamlLCIdentifier">nc</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L348" title="ocaml/asmcomp/cmm_helpers.ml:348">udivmod</a></span> <span class="ocamlLCIdentifier">twopsm1</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* The <a href="interval.mli.html#L33" title="ocaml/asmcomp/interval.mli:33">result</a> [(m, p)] of [<a href="#L360" title="ocaml/asmcomp/cmm_helpers.ml:360">divimm_parameters</a> <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a>] satisfies the following<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; inequality:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; 2^(wordsize + p) &lt; m * <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a> &lt;= 2^(wordsize + p) + 2^(p + 1)&nbsp; &nbsp; (i)<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; from which it follows that<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; floor(n / <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a>) = floor(n * m / 2^(wordsize+p))<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if 0 &lt;= n &lt; 2^(wordsize-1)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; ceil(n / <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a>) = floor(n * m / 2^(wordsize+p)) + 1<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if -2^(wordsize-1) &lt;= n &lt; 0<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; The correctness <a href="x86_ast.mli.html#L18" title="ocaml/asmcomp/x86_ast.mli:18">condition</a> (i) above can be checked by the code below.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; It was exhaustively tested for values of <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a> from 2 to 10^9 in the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; wordsize = 64 case.<br/></li>
<li></span><br/></li>
<li><span class="Comment">let add2 (xh, xl) (yh, yl) =<br/></li>
<li></span><span class="Comment">&nbsp; let zl = <a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a> xl yl and zh = <a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a> xh yh in<br/></li>
<li></span><span class="Comment">&nbsp; ((if <a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a> zl xl &lt; 0 then succ zh else zh), zl)<br/></li>
<li></span><br/></li>
<li><span class="Comment">let shl2 (xh, xl) n =<br/></li>
<li></span><span class="Comment">&nbsp; assert (0 &lt; n &amp;&amp; n &lt; <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a> + <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a>);<br/></li>
<li></span><span class="Comment">&nbsp; if n &lt; <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a><br/></li>
<li></span><span class="Comment">&nbsp; then (logor (shift_left xh n) (shift_right_logical xl (<a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a> - n)),<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; shift_left xl n)<br/></li>
<li></span><span class="Comment">&nbsp; else (shift_left xl (n - <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a>), 0n)<br/></li>
<li></span><br/></li>
<li><span class="Comment">let mul2 x y =<br/></li>
<li></span><span class="Comment">&nbsp; let halfsize = <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a> / 2 in<br/></li>
<li></span><span class="Comment">&nbsp; let halfmask = pred (shift_left 1n halfsize) in<br/></li>
<li></span><span class="Comment">&nbsp; let xl = logand x halfmask and xh = shift_right_logical x halfsize in<br/></li>
<li></span><span class="Comment">&nbsp; let yl = logand y halfmask and yh = shift_right_logical y halfsize in<br/></li>
<li></span><span class="Comment">&nbsp; add2 (mul xh yh, 0n)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; (add2 (shl2 (0n, mul xl yh) halfsize)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; (add2 (shl2 (0n, mul xh yl) halfsize)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (0n, mul xl yl)))<br/></li>
<li></span><br/></li>
<li><span class="Comment">let ucompare2 (xh, xl) (yh, yl) =<br/></li>
<li></span><span class="Comment">&nbsp; let c = <a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a> xh yh in if c = 0 then <a href="#L343" title="ocaml/asmcomp/cmm_helpers.ml:343">ucompare</a> xl yl else c<br/></li>
<li></span><br/></li>
<li><span class="Comment">let validate <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a> m p =<br/></li>
<li></span><span class="Comment">&nbsp; let md = mul2 m <a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a> in<br/></li>
<li></span><span class="Comment">&nbsp; let one2 = (0n, 1n) in<br/></li>
<li></span><span class="Comment">&nbsp; let twoszp = shl2 one2 (<a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a> + p) in<br/></li>
<li></span><span class="Comment">&nbsp; let twop1 = shl2 one2 (p + 1) in<br/></li>
<li></span><span class="Comment">&nbsp; ucompare2 twoszp md &lt; 0 &amp;&amp; ucompare2 md (add2 twoszp twop1) &lt;= 0<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L426">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">raise_symbol</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Craise</span> <span class="PreProc">Lambda</span>.<span class="Constant">Raise_regular</span>, <span class="Statement">[</span><span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">symb</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L429">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">div_int</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L170" title="ocaml/asmcomp/cmm_helpers.mli:170">raise_symbol</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">&quot;caml_exn_Division_by_zero&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> / <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_))</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&lt;&gt;</span> <span class="ocamlLCIdentifier">min_int</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span> <span class="Statement">=</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">lsl</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Algorithm:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = shift-right-signed(<a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a>, <a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a> - 1)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = shift-right(<a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a>, W - <a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = <a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a> + <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="s390x/reload.ml.html#L34" title="ocaml/asmcomp/s390x/reload.ml:34">res</a> = shift-right-signed(<a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a> + <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a>, <a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;dividend&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L119" title="ocaml/asmcomp/cmm_helpers.mli:119">asr_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span> - <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L118" title="ocaml/asmcomp/cmm_helpers.mli:118">lsr_int</a></span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> - <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L120" title="ocaml/asmcomp/cmm_helpers.mli:120">div_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">m</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">p</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L360" title="ocaml/asmcomp/cmm_helpers.ml:360">divimm_parameters</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Nativeint</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">of_int</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">(* Algorithm:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = multiply-high-signed(<a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a>, m)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if m &lt; 0, <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> + <a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if p &gt; 0, <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = shift-right-signed(<a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a>, p)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="s390x/reload.ml.html#L34" title="ocaml/asmcomp/s390x/reload.ml:34">res</a> = <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> + sign-bit(<a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span><span class="ocamlEnd"> </span><span class="Constant">&quot;dividend&quot;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="ocamlEnd"> </span><span class="Statement">(fun</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li><a id="L466">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">t</span></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cmulhi</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">m</span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li><a id="L467">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">t</span></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">m</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0n</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><span class="linkable">t</span></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">t</span></span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li><a id="L468">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">t</span></span><span class="ocamlEnd"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">p</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L118" title="ocaml/asmcomp/cmm_helpers.mli:118">lsr_int</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Nativeint</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">when</span> <span class="Statement">!</span><span class="PreProc">Clflags</span>.<span class="ocamlLCIdentifier">unsafe</span> <span class="Statement">||</span> <span class="ocamlLCIdentifier">is_safe</span> <span class="Statement">=</span> <span class="PreProc">Lambda</span>.<span class="Constant">Unsafe</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cdivi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;divisor&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;dividend&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cdivi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L170" title="ocaml/asmcomp/cmm_helpers.mli:170">raise_symbol</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">&quot;caml_exn_Division_by_zero&quot;</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span><br/></li>
<li><a id="L485">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">mod_int</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L170" title="ocaml/asmcomp/cmm_helpers.mli:170">raise_symbol</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">&quot;caml_exn_Division_by_zero&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">((</span><span class="Constant">1</span> <span class="Statement">|</span> <span class="Statement">(</span>-<span class="Constant">1</span><span class="Statement">))</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span>, <span class="Statement">_)</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="Statement">_))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L168" title="ocaml/asmcomp/linearize.ml:168">n1</a></span> <span class="Statement">mod</span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L186" title="ocaml/asmcomp/linearize.ml:186">n2</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">))</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&lt;&gt;</span> <span class="ocamlLCIdentifier">min_int</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span> <span class="Statement">=</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">lsl</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Algorithm:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = shift-right-signed(<a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a>, <a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a> - 1)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = shift-right(<a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a>, W - <a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = <a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a> + <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> = bit-and(<a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a>, -n)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="s390x/reload.ml.html#L34" title="ocaml/asmcomp/s390x/reload.ml:34">res</a> = <a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a> - <a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;dividend&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L119" title="ocaml/asmcomp/cmm_helpers.mli:119">asr_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span> - <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L118" title="ocaml/asmcomp/cmm_helpers.mli:118">lsr_int</a></span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> - <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L105" title="ocaml/asmcomp/power/proc.ml:105">l</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;dividend&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L120" title="ocaml/asmcomp/cmm_helpers.mli:120">div_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">when</span> <span class="Statement">!</span><span class="PreProc">Clflags</span>.<span class="ocamlLCIdentifier">unsafe</span> <span class="Statement">||</span> <span class="ocamlLCIdentifier">is_safe</span> <span class="Statement">=</span> <span class="PreProc">Lambda</span>.<span class="Constant">Unsafe</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* Flambda already generates that <a href="printmach.mli.html#L25" title="ocaml/asmcomp/printmach.mli:25">test</a> *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cmodi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;divisor&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;dividend&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cmodi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L170" title="ocaml/asmcomp/cmm_helpers.mli:170">raise_symbol</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">&quot;caml_exn_Division_by_zero&quot;</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Division or modulo on boxed integers.&nbsp; The overflow case min_int / -1<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; can occur, in which case we force x / -1 = -x and x mod -1 = 0. (PR#5513). *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">is_different_from</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&lt;&gt;</span> <span class="ocamlLCIdentifier">x<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">&lt;&gt;</span> <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">x<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L533">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">safe_divmod_bi</span></span> <span class="ocamlLCIdentifier">mkop</span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier">mkm1</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;divisor&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;dividend&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">mkop</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L64" title="ocaml/asmcomp/power/arch.mli:64">division_crashes_on_overflow</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">bi</span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="PreProc">Primitive</span><span class="ocamlNone">.</span><span class="Constant">Pint32<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="Statement">not</span><span class="ocamlNone"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">is_different_from</span><span class="ocamlNone"> </span><span class="Statement">(</span><span class="ocamlNone">-</span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Cne</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span>-<span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>, <span class="ocamlLCIdentifier">c</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>, <span class="ocamlLCIdentifier">mkm1</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">c</span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><a id="L548">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">safe_div_bi</span></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L533" title="ocaml/asmcomp/cmm_helpers.ml:533">safe_divmod_bi</a></span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L120" title="ocaml/asmcomp/cmm_helpers.mli:120">div_int</a></span> <span class="ocamlLCIdentifier">is_safe<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">-&gt;</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L139" title="ocaml/asmcomp/cmm_helpers.mli:139">safe_mod_bi</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L533" title="ocaml/asmcomp/cmm_helpers.ml:533">safe_divmod_bi</a></span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L122" title="ocaml/asmcomp/cmm_helpers.mli:122">mod_int</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="Statement">(fun</span> <span class="Statement">_</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">-&gt;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Bool *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L173" title="ocaml/asmcomp/cmm_helpers.mli:173">test_bool</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Cne</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Float *)<br/></li>
<li></span><br/></li>
<li><a id="L570">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">box_float</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L71" title="ocaml/asmcomp/cmm_helpers.mli:71">alloc_float_header</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L572">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unbox_float</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L272" title="ocaml/asmcomp/cmm.ml:272">map_tail</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(function<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>, <span class="Statement">[</span><span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">hdr</span>, <span class="Statement">_);</span> <span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">when</span> <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L54" title="ocaml/asmcomp/cmm_helpers.mli:54">float_header</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="PreProc">Cmmgen_state</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="cmmgen_state.mli.html#L47" title="ocaml/asmcomp/cmmgen_state.mli:47">structured_constant_of_sym</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Some</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Uconst_float</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cconst_float</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Comment">(* or keep _dbg? *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier">mk_load_immut</span><span class="ocamlEnd"> </span><span class="Constant">Double</span><span class="ocamlEnd">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier">cmm</span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">-&gt;</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier">mk_load_immut</span> <span class="Constant">Double</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">cmm</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Complex *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L180" title="ocaml/asmcomp/cmm_helpers.mli:180">box_complex</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">c_re</span> <span class="ocamlLCIdentifier">c_im</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L72" title="ocaml/asmcomp/cmm_helpers.mli:72">alloc_floatarray_header</a></span> <span class="Constant">2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">c_re</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">c_im</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L181" title="ocaml/asmcomp/cmm_helpers.mli:181">complex_re</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier">mk_load_immut</span> <span class="Constant">Double</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L182" title="ocaml/asmcomp/cmm_helpers.mli:182">complex_im</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier">mk_load_immut</span> <span class="Constant">Double</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Unit *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">=</span> <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;</span> <span class="Constant">Ctuple</span> <span class="Constant">[]<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_))</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L617" title="ocaml/asmcomp/cmmgen.ml:617">ifso_dbg</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L618" title="ocaml/asmcomp/cmmgen.ml:618">ifnot_dbg</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L617" title="ocaml/asmcomp/cmmgen.ml:617">ifso_dbg</a></span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L618" title="ocaml/asmcomp/cmmgen.ml:618">ifnot_dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cswitch</span><span class="Statement">(</span><span class="ocamlLCIdentifier">sel</span>, <span class="ocamlLCIdentifier">index</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cswitch</span><span class="Statement">(</span><span class="ocamlLCIdentifier">sel</span>, <span class="ocamlLCIdentifier">index</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">case</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier">case</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ccatch</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L127" title="ocaml/asmcomp/cmm.ml:127">rec_flag</a></span>, <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L120" title="ocaml/asmcomp/deadcode.ml:120">handlers</a></span>, <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">map_h</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier">ids</span>, <span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">=</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier">ids</span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Ccatch</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L127" title="ocaml/asmcomp/cmm.ml:127">rec_flag</a></span>, <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="ocamlLCIdentifier">map_h</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L120" title="ocaml/asmcomp/deadcode.ml:120">handlers</a></span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ctrywith</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span>, <span class="Type">exn</span>, <span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Ctrywith</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span>, <span class="Type">exn</span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Clet</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Clet</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L188" title="ocaml/asmcomp/cmm_helpers.mli:188">remove_unit</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier">_mty</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="ocamlLCIdentifier">proc</span>, <span class="ocamlLCIdentifier">_ty_res</span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L973" title="ocaml/asmcomp/selectgen.ml:973">ty_args</a></span>, <span class="ocamlLCIdentifier">alloc</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="ocamlLCIdentifier">proc</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L973" title="ocaml/asmcomp/selectgen.ml:973">ty_args</a></span>, <span class="ocamlLCIdentifier">alloc</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cexit</span> <span class="Statement">(_</span>,<span class="Statement">_)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ctuple</span> <span class="Constant">[]</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">-&gt;</span> <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier">c</span>, <span class="Constant">Ctuple</span> <span class="Constant">[]</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L632">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">field_address</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a><br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L637">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_field_gen</span></span> <span class="ocamlLCIdentifier">mutability</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cload</span> <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span><span class="Statement">=</span><span class="Constant">Word_val</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">mutability</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">is_atomic</span><span class="Statement">=</span><span class="Constant">false</span><span class="Statement">}</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">get_field_codepointer</span> <span class="ocamlLCIdentifier">mutability</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cload</span> <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span><span class="Statement">=</span><span class="Constant">Word_int</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">mutability</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">is_atomic</span><span class="Statement">=</span><span class="Constant">false</span><span class="Statement">}</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L209" title="ocaml/asmcomp/cmm_helpers.mli:209">set_field</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Word_val</span>, <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L214" title="ocaml/asmcomp/cmm_helpers.mli:214">get_header</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* header loads are mutable because laziness changes tags. *)<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span>-<span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Config</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">reserved_header_bits</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">header_mask</span> <span class="Statement">=</span> <span class="Statement">(</span><span class="Constant">1</span> <span class="Statement">lsl</span> <span class="Statement">(</span><span class="Constant">64</span> - <span class="PreProc">Config</span>.<span class="ocamlLCIdentifier">reserved_header_bits</span><span class="Statement">))</span> - <span class="Constant">1<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L214" title="ocaml/asmcomp/cmm_helpers.mli:214">get_header</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">header_mask</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L214" title="ocaml/asmcomp/cmm_helpers.mli:214">get_header</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">tag_offset</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> -<span class="Constant">1</span> <span class="Statement">else</span> -<span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L220" title="ocaml/asmcomp/cmm_helpers.mli:220">get_tag</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Proc</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L27" title="ocaml/asmcomp/power/proc.ml:27">word_addressed</a></span><span class="ocamlNone"> </span><span class="Statement">then</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(* If <a href="x86_dsl.ml.html#L85" title="ocaml/asmcomp/x86_dsl.ml:85">byte</a> loads are slow *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L214" title="ocaml/asmcomp/cmm_helpers.mli:214">get_header</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">255</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* If <a href="x86_dsl.ml.html#L85" title="ocaml/asmcomp/x86_dsl.ml:85">byte</a> loads are efficient *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* header loads are mutable because laziness changes tags. *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">tag_offset</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L223" title="ocaml/asmcomp/cmm_helpers.mli:223">get_size</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">10</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Array indexing *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="Statement">=</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier">log2_size_float</span> <span class="Statement">=</span> <span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span> <span class="Statement">=</span> <span class="Constant">9<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L228" title="ocaml/asmcomp/cmm_helpers.mli:228">numfloat_shift</a></span> <span class="Statement">=</span> <span class="Constant">9</span> + <span class="ocamlLCIdentifier">log2_size_float</span> - <span class="ocamlLCIdentifier">log2_size_addr<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L232" title="ocaml/asmcomp/cmm_helpers.mli:232">is_addr_array_hdr</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Cne</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">255</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L37" title="ocaml/asmcomp/cmm_helpers.mli:37">floatarray_tag</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L233" title="ocaml/asmcomp/cmm_helpers.mli:233">is_addr_array_ptr</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Cne</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L220" title="ocaml/asmcomp/cmm_helpers.mli:220">get_tag</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L37" title="ocaml/asmcomp/cmm_helpers.mli:37">floatarray_tag</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L241" title="ocaml/asmcomp/cmm_helpers.mli:241">float_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L228" title="ocaml/asmcomp/cmm_helpers.mli:228">numfloat_shift</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">lsl_const</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">c<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Produces <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> pointer to the element of the array [<a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a>] on the position [<a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a>]<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; with the given element [log2size] log2 element <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a>. [<a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a>] is given as <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; tagged <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a> <a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a>.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The optional ?typ argument is the C-- type of the <a href="interval.mli.html#L33" title="ocaml/asmcomp/interval.mli:33">result</a>.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; By default, it is Addr, meaning we are constructing <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> derived pointer<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; into the heap.&nbsp; If we know the pointer is outside the heap<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; (this is the case for bigarray indexing), we give type Int instead. *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="Statement">?</span><span class="Identifier">typ</span> <span class="ocamlLCIdentifier">log2size</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">typ</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Constant">Addr</span> <span class="Statement">-&gt;</span> <span class="Constant">Cadda<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Constant">Int</span> <span class="Statement">-&gt;</span> <span class="Constant">Caddi<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">asr</span> <span class="Constant">1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span> <span class="Statement">lsl</span> <span class="ocamlLCIdentifier">log2size</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="Statement">_)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>'<span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">lsl_const</span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier">log2size</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>'<span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>'<span class="Statement">)</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">log2size</span> <span class="Statement">=</span> <span class="Constant">0</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">c</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">asr</span> <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>'<span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">c</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">lsl_const</span> <span class="ocamlLCIdentifier">c</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">log2size</span> - <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span><span class="Statement">((</span><span class="ocamlLCIdentifier">n</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">lsl</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">log2size</span> - <span class="Constant">1</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">log2size</span> <span class="Statement">=</span> <span class="Constant">0</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">lsl_const</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">log2size</span> - <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span><span class="Statement">((</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">lsl</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">log2size</span> - <span class="Constant">1</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_val</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L259" title="ocaml/asmcomp/cmm_helpers.mli:259">int_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L260" title="ocaml/asmcomp/cmm_helpers.mli:260">unboxed_float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Double</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_float</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L262" title="ocaml/asmcomp/cmm_helpers.mli:262">float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L176" title="ocaml/asmcomp/cmm_helpers.mli:176">box_float</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L260" title="ocaml/asmcomp/cmm_helpers.mli:260">unboxed_float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_modify&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L265" title="ocaml/asmcomp/cmm_helpers.mli:265">addr_array_initialize</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_initialize&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L267" title="ocaml/asmcomp/cmm_helpers.mli:267">int_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Word_int</span>, <span class="PreProc">Lambda</span>.<span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Double</span>, <span class="PreProc">Lambda</span>.<span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_float</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* String length *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Length of string block *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L274" title="ocaml/asmcomp/cmm_helpers.mli:274">string_length</a></span> <span class="ocamlLCIdentifier">exp</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;str&quot;</span> <span class="ocamlLCIdentifier">exp</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">str</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">tmp_var</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="selectgen.ml.html#L924" title="ocaml/asmcomp/selectgen.ml:924">tmp</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">tmp_var</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L223" title="ocaml/asmcomp/cmm_helpers.mli:223">get_size</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">log2_size_addr</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">tmp_var</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">str</span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">tmp_var</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L275" title="ocaml/asmcomp/cmm_helpers.mli:275">bigstring_length</a></span> <span class="ocamlLCIdentifier">ba</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier">ba</span> <span class="Constant">5</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Message sending *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L283" title="ocaml/asmcomp/cmm_helpers.mli:283">lookup_tag</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;tag&quot;</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_get_public_method&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">tag</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L290" title="ocaml/asmcomp/cmm_helpers.mli:290">lookup_label</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier">lab</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;lab&quot;</span> <span class="ocamlLCIdentifier">lab</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">lab</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">table</span> <span class="Statement">=</span> <span class="Constant">Cop</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_val</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">table</span> <span class="ocamlLCIdentifier">lab</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L299" title="ocaml/asmcomp/cmm_helpers.mli:299">call_cached_method</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">cache</span> <span class="ocamlLCIdentifier">pos</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">cache</span> <span class="ocamlLCIdentifier">pos</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">need_send_fun</span> <span class="ocamlLCIdentifier">arity</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_symbol</span><span class="Statement">(</span><span class="Constant">&quot;caml_send&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">arity</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Allocation *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">make_alloc_generic</span> <span class="ocamlLCIdentifier">set_fn</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">wordsize</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">wordsize</span><span class="ocamlNone"> </span><span class="Statement">&lt;=</span><span class="ocamlNone"> </span><span class="PreProc">Config</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">max_young_wosize</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>, <span class="Constant">Cconst_natint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">wordsize</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;*alloc*&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="Statement">rec</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">fill_fields</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">function<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Constant">[]</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">e1</span><span class="Statement">::</span><span class="ocamlLCIdentifier">el</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier">set_fn</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">e1</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">fill_fields</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="ocamlEnd"> + </span><span class="Constant">2</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">el</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_alloc_shr_check_gc&quot;</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="ocamlEnd">, </span><span class="Constant">[]</span><span class="ocamlEnd">, </span><span class="Constant">true</span><span class="Statement">)</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">[</span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">wordsize</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="Constant">Cconst_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">tag</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">fill_fields</span><span class="ocamlEnd"> </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><a id="L821">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">make_alloc</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">addr_array_init</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_initialize&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L213" title="ocaml/asmcomp/power/proc.ml:213">ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">make_alloc_generic</span> <span class="ocamlLCIdentifier">addr_array_init</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a><br/></li>
<li></span><br/></li>
<li><a id="L828">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">make_float_alloc</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">make_alloc_generic</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">tag<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a></span> / <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Bounds checking *)<br/></li>
<li></span><br/></li>
<li><a id="L834">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">make_checkbound</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)]</span>, <span class="Statement">_);</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">m</span>, <span class="Statement">_)]<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">when</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">m</span> <span class="Statement">lsl</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="Statement">&gt;</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccheckbound</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">a1</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">m</span> <span class="Statement">lsl</span> <span class="ocamlLCIdentifier">n</span> + <span class="Constant">1</span> <span class="Statement">lsl</span> <span class="ocamlLCIdentifier">n</span> - <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccheckbound</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Record application and currying functions *)<br/></li>
<li></span><br/></li>
<li><a id="L843">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">apply_function_sym</span></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">need_apply_fun</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">;</span> <span class="Constant">&quot;caml_apply&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">n<br/></li>
<li><a id="L845">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">curry_function_sym</span></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">need_curry_fun</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">&quot;caml_curry&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">n<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Constant">&quot;caml_tuplify&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier">n</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Big arrays *)<br/></li>
<li></span><br/></li>
<li><a id="L853">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bigarray_elt_size</span></span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">bigarray_kind</span> <span class="Statement">-&gt;</span> <span class="Type"><a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Pbigarray_unknown</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_float32</span> <span class="Statement">-&gt;</span> <span class="Constant">4<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_float64</span> <span class="Statement">-&gt;</span> <span class="Constant">8<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_sint8</span> <span class="Statement">-&gt;</span> <span class="Constant">1<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_uint8</span> <span class="Statement">-&gt;</span> <span class="Constant">1<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_sint16</span> <span class="Statement">-&gt;</span> <span class="Constant">2<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_uint16</span> <span class="Statement">-&gt;</span> <span class="Constant">2<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_int32</span> <span class="Statement">-&gt;</span> <span class="Constant">4<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_int64</span> <span class="Statement">-&gt;</span> <span class="Constant">8<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_caml_int</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_native_int</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_complex32</span> <span class="Statement">-&gt;</span> <span class="Constant">8<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_complex64</span> <span class="Statement">-&gt;</span> <span class="Constant">16<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Produces <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> pointer to the element of the bigarray [<a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a>] on the position<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a>].&nbsp; [<a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a>] is given as <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> list of tagged <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a> expressions, one per array<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; dimension. *)<br/></li>
<li><a id="L871">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bigarray_indexing</span></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">check_ba_bound</span> <span class="ocamlLCIdentifier">bound</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">v</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier">bound</span><span class="Statement">;</span><span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier">v</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Comment">(* Validates the given multidimensional offset against the array bounds and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; transforms it into <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> one dimensional offset.&nbsp; The offsets are expressions<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; evaluating to tagged <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a>. *)<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">ba_indexing</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L527" title="ocaml/asmcomp/cmmgen.ml:527">dim_ofs</a></span> <span class="ocamlLCIdentifier">delta_ofs</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">unsafe</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a>&quot;</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Load the untagged <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a> bound for the given dimension *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">bound</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L527" title="ocaml/asmcomp/cmmgen.ml:527">dim_ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">idxn</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">check_ba_bound</span> <span class="ocamlLCIdentifier">bound</span> <span class="ocamlLCIdentifier">idxn</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">argl</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* The remainder of the list is transformed into <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> one dimensional offset<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">rem</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ba_indexing</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L527" title="ocaml/asmcomp/cmmgen.ml:527">dim_ofs</a></span> + <span class="ocamlLCIdentifier">delta_ofs</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">delta_ofs</span> <span class="ocamlLCIdentifier">argl</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* Load the untagged <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a> bound for the given dimension *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">bound</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L527" title="ocaml/asmcomp/cmmgen.ml:527">dim_ofs</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">unsafe</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="ocamlLCIdentifier">rem</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">bound</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a>&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;bound&quot;</span> <span class="ocamlLCIdentifier">bound</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">bound</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">idxn</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* [offset = rem * (<a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a> bound) + <a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a>] *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">offset</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="ocamlLCIdentifier">rem</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">bound</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">check_ba_bound</span> <span class="ocamlLCIdentifier">bound</span> <span class="ocamlLCIdentifier">idxn</span> <span class="ocamlLCIdentifier">offset</span><span class="Statement">))</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Comment">(* The offset as an <a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a> evaluating to <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a> *)<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">offset</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">layout</span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">bigarray_layout</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pbigarray_unknown_layout</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_c_layout</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">ba_indexing</span> <span class="Statement">(</span><span class="Constant">4</span> + <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)</span> <span class="Statement">(</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">rev</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_fortran_layout</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">ba_indexing</span> <span class="Constant">5</span> <span class="Constant">1<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">2</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">elt_size</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L853" title="ocaml/asmcomp/cmm_helpers.ml:853">bigarray_elt_size</a></span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Comment">(* [<a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a>] can simplify the given expressions *)<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L251" title="ocaml/asmcomp/cmm_helpers.mli:251">array_indexing</a></span> <span class="Statement">~</span><span class="Identifier">typ</span>:<span class="Constant">Addr</span> <span class="Statement">(</span><span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">log2</span> <span class="ocamlLCIdentifier">elt_size</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="Constant">1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier">offset</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><a id="L926">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bigarray_word_kind</span></span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">bigarray_kind</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Pbigarray_unknown</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_float32</span> <span class="Statement">-&gt;</span> <span class="Constant">Single<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_float64</span> <span class="Statement">-&gt;</span> <span class="Constant">Double<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_sint8</span> <span class="Statement">-&gt;</span> <span class="Constant">Byte_signed<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_uint8</span> <span class="Statement">-&gt;</span> <span class="Constant">Byte_unsigned<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_sint16</span> <span class="Statement">-&gt;</span> <span class="Constant">Sixteen_signed<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_uint16</span> <span class="Statement">-&gt;</span> <span class="Constant">Sixteen_unsigned<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_int32</span> <span class="Statement">-&gt;</span> <span class="Constant">Thirtytwo_signed<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_int64</span> <span class="Statement">-&gt;</span> <span class="Constant">Word_int<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_caml_int</span> <span class="Statement">-&gt;</span> <span class="Constant">Word_int<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_native_int</span> <span class="Statement">-&gt;</span> <span class="Constant">Word_int<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_complex32</span> <span class="Statement">-&gt;</span> <span class="Constant">Single<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarray_complex64</span> <span class="Statement">-&gt;</span> <span class="Constant">Double<br/></li>
<li></span><br/></li>
<li><a id="L941">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bigarray_get</span></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ba&quot;</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">elt_kind</span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">bigarray_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pbigarray_complex32</span> <span class="Statement">|</span> <span class="Constant">Pbigarray_complex64</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L926" title="ocaml/asmcomp/cmm_helpers.ml:926">bigarray_word_kind</a></span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L853" title="ocaml/asmcomp/cmm_helpers.ml:853">bigarray_elt_size</a></span> <span class="ocamlLCIdentifier">elt_kind</span> / <span class="Constant">2</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a>&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L871" title="ocaml/asmcomp/cmm_helpers.ml:871">bigarray_indexing</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;reval&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">reval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;imval&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">sz</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">imval</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L180" title="ocaml/asmcomp/cmm_helpers.mli:180">box_complex</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">reval</span> <span class="ocamlLCIdentifier">imval</span><span class="Statement">)))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L926" title="ocaml/asmcomp/cmm_helpers.ml:926">bigarray_word_kind</a></span> <span class="ocamlLCIdentifier">elt_kind</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="#L871" title="ocaml/asmcomp/cmm_helpers.ml:871">bigarray_indexing</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L356" title="ocaml/asmcomp/cmm_helpers.mli:356">bigarray_set</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ba&quot;</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">elt_kind</span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">bigarray_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pbigarray_complex32</span> <span class="Statement">|</span> <span class="Constant">Pbigarray_complex64</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L926" title="ocaml/asmcomp/cmm_helpers.ml:926">bigarray_word_kind</a></span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L853" title="ocaml/asmcomp/cmm_helpers.ml:853">bigarray_elt_size</a></span> <span class="ocamlLCIdentifier">elt_kind</span> / <span class="Constant">2</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newv</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a>&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L871" title="ocaml/asmcomp/cmm_helpers.ml:871">bigarray_indexing</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span>, <span class="Constant">Assignment</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L181" title="ocaml/asmcomp/cmm_helpers.mli:181">complex_re</a></span> <span class="ocamlLCIdentifier">newv</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L74" title="ocaml/asmcomp/x86_ast.mli:74">addr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">sz</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L182" title="ocaml/asmcomp/cmm_helpers.mli:182">complex_im</a></span> <span class="ocamlLCIdentifier">newv</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L926" title="ocaml/asmcomp/cmm_helpers.ml:926">bigarray_word_kind</a></span> <span class="ocamlLCIdentifier">elt_kind</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="#L871" title="ocaml/asmcomp/cmm_helpers.ml:871">bigarray_indexing</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">elt_kind</span> <span class="ocamlLCIdentifier">layout</span> <span class="ocamlLCIdentifier"><a href="dataflow.ml.html#L71" title="ocaml/asmcomp/dataflow.ml:71">b</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* the three functions below assume 64-bit words *)<br/></li>
<li></span><span class="Statement">let</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Statement">assert</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> <span class="Statement">=</span> <span class="Constant">8</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* <a href="cmm_helpers.mli.html#L364" title="ocaml/asmcomp/cmm_helpers.mli:364">low_32</a> x is <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> value which agrees with x on at least the low 32 bits *)<br/></li>
<li></span><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L364" title="ocaml/asmcomp/cmm_helpers.mli:364">low_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* Ignore sign and zero extensions, which do not affect the low bits *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">x</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">32</span>, <span class="Statement">_)]</span>, <span class="Statement">_);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">32</span>, <span class="Statement">_)]</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">x</span><span class="Statement">;</span> <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="Constant">0xFFFFFFFFn</span>, <span class="Statement">_)]</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L364" title="ocaml/asmcomp/cmm_helpers.mli:364">low_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">x<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Clet</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier">e</span>, <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Clet</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier">e</span>, <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L364" title="ocaml/asmcomp/cmm_helpers.mli:364">low_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">x<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* <a href="cmm_helpers.mli.html#L367" title="ocaml/asmcomp/cmm_helpers.mli:367">sign_extend_32</a> sign-extends values from 32 bits to the <a href="x86_dsl.ml.html#L112" title="ocaml/asmcomp/x86_dsl.ml:112">word</a> <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a>. *)<br/></li>
<li><a id="L995">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">sign_extend_32</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L364" title="ocaml/asmcomp/cmm_helpers.mli:364">low_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">e</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="Constant">32</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="Constant">32</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* <a href="cmm_helpers.mli.html#L370" title="ocaml/asmcomp/cmm_helpers.mli:370">zero_extend_32</a> zero-extends values from 32 bits to the <a href="x86_dsl.ml.html#L112" title="ocaml/asmcomp/x86_dsl.ml:112">word</a> <a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a>. *)<br/></li>
<li><a id="L1000">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">zero_extend_32</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L364" title="ocaml/asmcomp/cmm_helpers.mli:364">low_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">e</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">0xFFFFFFFFn</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Boxed integers *)<br/></li>
<li></span><br/></li>
<li><a id="L1005">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">operations_boxed_int</span></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">bi</span> : <span class="PreProc">Primitive</span>.<span class="ocamlLCIdentifier">boxed_integer</span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Pnativeint</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L375" title="ocaml/asmcomp/cmm_helpers.mli:375">caml_nativeint_ops</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pint32</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L376" title="ocaml/asmcomp/cmm_helpers.mli:376">caml_int32_ops</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pint64</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L377" title="ocaml/asmcomp/cmm_helpers.mli:377">caml_int64_ops</a><br/></li>
<li></span><br/></li>
<li><a id="L1011">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">alloc_header_boxed_int</span></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">bi</span> : <span class="PreProc">Primitive</span>.<span class="ocamlLCIdentifier">boxed_integer</span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Pnativeint</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L79" title="ocaml/asmcomp/cmm_helpers.mli:79">alloc_boxedintnat_header</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pint32</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L77" title="ocaml/asmcomp/cmm_helpers.mli:77">alloc_boxedint32_header</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pint64</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L78" title="ocaml/asmcomp/cmm_helpers.mli:78">alloc_boxedint64_header</a><br/></li>
<li></span><br/></li>
<li><a id="L1017">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">box_int_gen</span></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">bi</span> : <span class="PreProc">Primitive</span>.<span class="ocamlLCIdentifier">boxed_integer</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>' <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">bi</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Primitive</span><span class="ocamlNone">.</span><span class="Constant">Pint32</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">32</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L367" title="ocaml/asmcomp/cmm_helpers.mli:367">sign_extend_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="#L1011" title="ocaml/asmcomp/cmm_helpers.ml:1011">alloc_header_boxed_int</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cconst_symbol</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1005" title="ocaml/asmcomp/cmm_helpers.ml:1005">operations_boxed_int</a></span> <span class="ocamlLCIdentifier">bi</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>'<span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1029">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">alloc_matches_boxed_int</span></span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">~</span><span class="Identifier">hdr</span> <span class="Statement">~</span><span class="Identifier">ops</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">bi</span> : <span class="PreProc">Primitive</span>.<span class="ocamlLCIdentifier">boxed_integer</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier">hdr</span>, <span class="ocamlLCIdentifier">ops</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pnativeint</span>, <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">hdr</span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)</span>, <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L65" title="ocaml/asmcomp/cmm_helpers.mli:65">boxedintnat_header</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">&amp;&amp;</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L375" title="ocaml/asmcomp/cmm_helpers.mli:375">caml_nativeint_ops</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pint32</span>, <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">hdr</span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)</span>, <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L63" title="ocaml/asmcomp/cmm_helpers.mli:63">boxedint32_header</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">&amp;&amp;</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L376" title="ocaml/asmcomp/cmm_helpers.mli:376">caml_int32_ops</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pint64</span>, <span class="Constant">Cconst_natint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">hdr</span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)</span>, <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L64" title="ocaml/asmcomp/cmm_helpers.mli:64">boxedint64_header</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">&amp;&amp;</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier">equal</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L377" title="ocaml/asmcomp/cmm_helpers.mli:377">caml_int64_ops</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="Constant">Pnativeint</span> <span class="Statement">|</span> <span class="Constant">Pint32</span> <span class="Statement">|</span> <span class="Constant">Pint64</span><span class="Statement">)</span>, <span class="Statement">_</span>, <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L384" title="ocaml/asmcomp/cmm_helpers.mli:384">unbox_int</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">default</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span> <span class="Statement">=</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">bi</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Primitive</span><span class="ocamlNone">.</span><span class="Constant">Pint32<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="Constant">Thirtytwo_signed</span> <span class="Statement">else</span> <span class="Constant">Word_int<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">mk_load_immut</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L138" title="ocaml/asmcomp/cmm.ml:138">memory_chunk</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L272" title="ocaml/asmcomp/cmm.ml:272">map_tail</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(function<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">ops</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsl</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">contents</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">32</span>, <span class="Statement">_)]</span>, <span class="ocamlLCIdentifier">_dbg</span>'<span class="Statement">)]</span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">=</span> <span class="PreProc">Primitive</span>.<span class="Constant">Pint32</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="#L1029" title="ocaml/asmcomp/cmm_helpers.ml:1029">alloc_matches_boxed_int</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">~</span><span class="Identifier">hdr</span> <span class="Statement">~</span><span class="Identifier">ops</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Force sign-extension of low 32 bits *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L367" title="ocaml/asmcomp/cmm_helpers.mli:367">sign_extend_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">contents<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">ops</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">contents</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">=</span> <span class="PreProc">Primitive</span>.<span class="Constant">Pint32</span> <span class="Statement">&amp;&amp;</span> <span class="Statement">not</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="#L1029" title="ocaml/asmcomp/cmm_helpers.ml:1029">alloc_matches_boxed_int</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">~</span><span class="Identifier">hdr</span> <span class="Statement">~</span><span class="Identifier">ops</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Force sign-extension of low 32 bits *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L367" title="ocaml/asmcomp/cmm_helpers.mli:367">sign_extend_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">contents<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">ops</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">contents</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">when</span> <span class="ocamlLCIdentifier"><a href="#L1029" title="ocaml/asmcomp/cmm_helpers.ml:1029">alloc_matches_boxed_int</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="Statement">~</span><span class="Identifier">hdr</span> <span class="Statement">~</span><span class="Identifier">ops</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">contents<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span>, <span class="ocamlLCIdentifier">_dbg</span><span class="Statement">)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="PreProc">Cmmgen_state</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="cmmgen_state.mli.html#L47" title="ocaml/asmcomp/cmmgen_state.mli:47">structured_constant_of_sym</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">bi</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Some</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Uconst_nativeint</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="PreProc">Primitive</span><span class="ocamlEnd">.</span><span class="Constant">Pnativeint</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Some</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Uconst_int32</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="PreProc">Primitive</span><span class="ocamlEnd">.</span><span class="Constant">Pint32</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Nativeint</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">of_int32</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Some</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Uconst_int64</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="PreProc">Primitive</span><span class="ocamlEnd">.</span><span class="Constant">Pint64</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Int64</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">to_nativeint</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">default</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">cmm<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">cmm</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">default</span> <span class="ocamlLCIdentifier">cmm<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1084">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">make_unsigned_int</span></span> <span class="ocamlLCIdentifier">bi</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">bi</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Primitive</span><span class="ocamlNone">.</span><span class="Constant">Pint32<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L370" title="ocaml/asmcomp/cmm_helpers.mli:370">zero_extend_32</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span><br/></li>
<li><a id="L1089">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_load_16</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L60" title="ocaml/asmcomp/power/arch.mli:60">allow_unaligned_access</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Sixteen_unsigned</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v1</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v2</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span>, <span class="ocamlLCIdentifier">b2</span> <span class="Statement">=</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">v1</span>, <span class="ocamlLCIdentifier">v2</span> <span class="Statement">else</span> <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">8</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1100">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_set_16</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L60" title="ocaml/asmcomp/power/arch.mli:60">allow_unaligned_access</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Sixteen_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v1</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">8</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v2</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span>, <span class="ocamlLCIdentifier">b2</span> <span class="Statement">=</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">v1</span>, <span class="ocamlLCIdentifier">v2</span> <span class="Statement">else</span> <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b1</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><a id="L1118">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_load_32</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L60" title="ocaml/asmcomp/power/arch.mli:60">allow_unaligned_access</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Thirtytwo_unsigned</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v1</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v2</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v3</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">2</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v4</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">3</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span>, <span class="ocamlLCIdentifier">b2</span>, <span class="ocamlLCIdentifier">b3</span>, <span class="ocamlLCIdentifier">b4</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">v1</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v4<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier">v4</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">24</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b2</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">16</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b3</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">8</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b4</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1143">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_set_32</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L60" title="ocaml/asmcomp/power/arch.mli:60">allow_unaligned_access</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Thirtytwo_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v1</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">24</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v2</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">16</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v3</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">8</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v4</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span>, <span class="ocamlLCIdentifier">b2</span>, <span class="ocamlLCIdentifier">b3</span>, <span class="ocamlLCIdentifier">b4</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">v1</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v4<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier">v4</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b1</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b2</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">2</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b3</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">3</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b4</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span><br/></li>
<li><a id="L1179">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_load_64</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L60" title="ocaml/asmcomp/power/arch.mli:60">allow_unaligned_access</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v1</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v2</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v3</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">2</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v4</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">3</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v5</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">4</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v6</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">5</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v7</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">6</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v8</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">7</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span>, <span class="ocamlLCIdentifier">b2</span>, <span class="ocamlLCIdentifier">b3</span>, <span class="ocamlLCIdentifier">b4</span>, <span class="ocamlLCIdentifier">b5</span>, <span class="ocamlLCIdentifier">b6</span>, <span class="ocamlLCIdentifier">b7</span>, <span class="ocamlLCIdentifier">b8</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">v1</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v4</span>, <span class="ocamlLCIdentifier">v5</span>, <span class="ocamlLCIdentifier">v6</span>, <span class="ocamlLCIdentifier">v7</span>, <span class="ocamlLCIdentifier">v8<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier">v8</span>, <span class="ocamlLCIdentifier">v7</span>, <span class="ocamlLCIdentifier">v6</span>, <span class="ocamlLCIdentifier">v5</span>, <span class="ocamlLCIdentifier">v4</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">7</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b2</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">6</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b3</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">5</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b4</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">4</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b5</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">3</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b6</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">2</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="ocamlLCIdentifier">b7</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">8</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">b8</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1217">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_set_64</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L60" title="ocaml/asmcomp/power/arch.mli:60">allow_unaligned_access</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Word_int</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v1</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">7</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v2</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">6</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v3</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">5</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v4</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">4</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v5</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">3</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v6</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Statement">(</span><span class="Constant">8</span><span class="Statement">*</span><span class="Constant">2</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v7</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">8</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">v8</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">newval</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">0xFF</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span>, <span class="ocamlLCIdentifier">b2</span>, <span class="ocamlLCIdentifier">b3</span>, <span class="ocamlLCIdentifier">b4</span>, <span class="ocamlLCIdentifier">b5</span>, <span class="ocamlLCIdentifier">b6</span>, <span class="ocamlLCIdentifier">b7</span>, <span class="ocamlLCIdentifier">b8</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Arch</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L52" title="ocaml/asmcomp/power/arch.mli:52">big_endian</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">v1</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v4</span>, <span class="ocamlLCIdentifier">v5</span>, <span class="ocamlLCIdentifier">v6</span>, <span class="ocamlLCIdentifier">v7</span>, <span class="ocamlLCIdentifier">v8<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier">v8</span>, <span class="ocamlLCIdentifier">v7</span>, <span class="ocamlLCIdentifier">v6</span>, <span class="ocamlLCIdentifier">v5</span>, <span class="ocamlLCIdentifier">v4</span>, <span class="ocamlLCIdentifier">v3</span>, <span class="ocamlLCIdentifier">v2</span>, <span class="ocamlLCIdentifier">v1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b1</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b2</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">2</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b3</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">3</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b4</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">4</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b5</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">5</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b6</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">6</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b7</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">7</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">b8</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span><br/></li>
<li><a id="L1287">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">max_or_zero</span></span> <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a>&quot;</span> <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* equivalent to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; Cifthenelse(Cop(Ccmpi Cle, [<a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a>; <a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a> 0]), <a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a> 0, <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a>)<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; if <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> is positive, sign is 0 hence sign_negation is full of 1<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; so sign_negation&amp;<a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> = <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; if <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> is negative, sign is full of 1 hence sign_negation is 0<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; so sign_negation&amp;<a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> = 0 *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">sign</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> <span class="Statement">*</span> <span class="Constant">8</span> - <span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">sign_negation</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cxor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">sign</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span>-<span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">sign_negation</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L320" title="ocaml/asmcomp/cmm_helpers.mli:320">check_bound</a></span> <span class="ocamlLCIdentifier">safety</span> <span class="ocamlLCIdentifier">access_size</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier">a2</span> <span class="ocamlLCIdentifier">k</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">safety</span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">is_safe</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Unsafe</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">k<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Safe</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">offset</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">access_size</span> : <span class="PreProc">Clambda_primitives</span>.<span class="ocamlLCIdentifier">memory_access_size</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Sixteen</span> <span class="Statement">-&gt;</span> <span class="Constant">1<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Thirty_two</span> <span class="Statement">-&gt;</span> <span class="Constant">3<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Sixty_four</span> <span class="Statement">-&gt;</span> <span class="Constant">7<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">a1</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier">length</span> <span class="Statement">(</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">offset</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="#L1287" title="ocaml/asmcomp/cmm_helpers.ml:1287">max_or_zero</a></span> <span class="ocamlLCIdentifier">a1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">a2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier">k</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1315">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">opaque</span></span> <span class="ocamlLCIdentifier">e</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Copaque</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">e</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1318">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_set</span></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> : <span class="PreProc">Clambda_primitives</span>.<span class="ocamlLCIdentifier">memory_access_size</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sixteen</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L392" title="ocaml/asmcomp/cmm_helpers.mli:392">unaligned_set_16</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Thirty_two</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L395" title="ocaml/asmcomp/cmm_helpers.mli:395">unaligned_set_32</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sixty_four</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L398" title="ocaml/asmcomp/cmm_helpers.mli:398">unaligned_set_64</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><a id="L1324">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unaligned_load</span></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> : <span class="PreProc">Clambda_primitives</span>.<span class="ocamlLCIdentifier">memory_access_size</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sixteen</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L391" title="ocaml/asmcomp/cmm_helpers.mli:391">unaligned_load_16</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Thirty_two</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L394" title="ocaml/asmcomp/cmm_helpers.mli:394">unaligned_load_32</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sixty_four</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L397" title="ocaml/asmcomp/cmm_helpers.mli:397">unaligned_load_64</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><a id="L1330">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">box_sized</span></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">exp</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> : <span class="PreProc">Clambda_primitives</span>.<span class="ocamlLCIdentifier">memory_access_size</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sixteen</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span> <span class="ocamlLCIdentifier">exp</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Thirty_two</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L380" title="ocaml/asmcomp/cmm_helpers.mli:380">box_int_gen</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">Pint32</span> <span class="ocamlLCIdentifier">exp<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sixty_four</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L380" title="ocaml/asmcomp/cmm_helpers.mli:380">box_int_gen</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">Pint64</span> <span class="ocamlLCIdentifier">exp<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Simplification of some primitives into C calls *)<br/></li>
<li></span><br/></li>
<li><a id="L1338">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">default_prim</span></span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Primitive</span>.<span class="ocamlLCIdentifier">simple</span> <span class="Statement">~</span><span class="Identifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">~</span><span class="Identifier">arity</span>:<span class="Constant">0</span><span class="Comment">(*ignored*)</span> <span class="Statement">~</span><span class="Identifier">alloc</span>:<span class="Constant">true<br/></li>
<li></span><br/></li>
<li><a id="L1341">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">simplif_primitive</span></span> <span class="ocamlLCIdentifier">p</span> : <span class="PreProc">Clambda_primitives</span>.<span class="ocamlLCIdentifier">primitive</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">p</span> : <span class="PreProc">Clambda_primitives</span>.<span class="ocamlLCIdentifier">primitive</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pduprecord</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pccall</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1338" title="ocaml/asmcomp/cmm_helpers.ml:1338">default_prim</a></span> <span class="Constant">&quot;caml_obj_dup&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarrayref</span><span class="Statement">(</span><span class="ocamlLCIdentifier">_unsafe</span>, <span class="ocamlLCIdentifier">n</span>, <span class="Constant">Pbigarray_unknown</span>, <span class="ocamlLCIdentifier">_layout</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pccall</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1338" title="ocaml/asmcomp/cmm_helpers.ml:1338">default_prim</a></span> <span class="Statement">(</span><span class="Constant">&quot;caml_ba_get_&quot;</span> <span class="Statement">^</span> <span class="ocamlLCIdentifier">string_of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarrayset</span><span class="Statement">(</span><span class="ocamlLCIdentifier">_unsafe</span>, <span class="ocamlLCIdentifier">n</span>, <span class="Constant">Pbigarray_unknown</span>, <span class="ocamlLCIdentifier">_layout</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pccall</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1338" title="ocaml/asmcomp/cmm_helpers.ml:1338">default_prim</a></span> <span class="Statement">(</span><span class="Constant">&quot;caml_ba_set_&quot;</span> <span class="Statement">^</span> <span class="ocamlLCIdentifier">string_of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarrayref</span><span class="Statement">(</span><span class="ocamlLCIdentifier">_unsafe</span>, <span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier">_kind</span>, <span class="Constant">Pbigarray_unknown_layout</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pccall</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1338" title="ocaml/asmcomp/cmm_helpers.ml:1338">default_prim</a></span> <span class="Statement">(</span><span class="Constant">&quot;caml_ba_get_&quot;</span> <span class="Statement">^</span> <span class="ocamlLCIdentifier">string_of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pbigarrayset</span><span class="Statement">(</span><span class="ocamlLCIdentifier">_unsafe</span>, <span class="ocamlLCIdentifier">n</span>, <span class="ocamlLCIdentifier">_kind</span>, <span class="Constant">Pbigarray_unknown_layout</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Pccall</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1338" title="ocaml/asmcomp/cmm_helpers.ml:1338">default_prim</a></span> <span class="Statement">(</span><span class="Constant">&quot;caml_ba_set_&quot;</span> <span class="Statement">^</span> <span class="ocamlLCIdentifier">string_of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">p</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">p<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Build switchers both for constants and blocks *)<br/></li>
<li></span><br/></li>
<li><a id="L1358">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">transl_isout</span></span> <span class="ocamlLCIdentifier"><a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpa</span> <span class="Constant">Clt</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a></span> <span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Build an actual <a href="strmatch.ml.html#L358" title="ocaml/asmcomp/strmatch.ml:358">switch</a> (ie <a href="cmm_invariants.ml.html#L85" title="ocaml/asmcomp/cmm_invariants.ml:85">jump</a> table) *)<br/></li>
<li></span><br/></li>
<li><a id="L1362">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">make_switch</span></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="ocamlLCIdentifier">actions</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">extract_uconstant</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* Constant integers loaded from <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> table should end in 1,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; so that Cload never produces untagged integers *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span>&nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">_dbg</span> <span class="Statement">when</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">land</span> <span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">=</span> <span class="Constant">1</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Some</span> <span class="Statement">(</span><span class="Constant">Cint</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_natint</span>&nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">_dbg<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">when</span> <span class="PreProc">Nativeint</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier">to_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">logand</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">one</span><span class="Statement">)</span> <span class="Statement">=</span> <span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Some</span> <span class="Statement">(</span><span class="Constant">Cint</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span>,<span class="Statement">_)</span>, <span class="ocamlLCIdentifier">_dbg</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Some</span> <span class="Statement">(</span><span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">None<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">extract_affine</span> <span class="Statement">~</span><span class="Identifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">~</span><span class="Identifier">const_actions</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">length</span> <span class="Statement">=</span> <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">length</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="Constant">2<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">const_actions</span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="Constant">0</span><span class="Statement">))</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">const_actions</span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="Constant">1</span><span class="Statement">))</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cint</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v0</span><span class="ocamlEnd">, </span><span class="Constant">Cint</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v1</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">slope</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">Nativeint</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L202" title="ocaml/asmcomp/x86_dsl.ml:202">sub</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v1</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v0</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">check</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">function<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cint</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">Nativeint</span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">mul</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">of_int</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">slope</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">v0</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">false<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Misc</span><span class="ocamlNone">.</span><span class="PreProc">Stdlib</span><span class="ocamlNone">.</span><span class="PreProc">Array</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">for_alli<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(fun</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="ocamlNone"> </span><span class="Statement">-&gt;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">check</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">const_actions</span><span class="ocamlNone">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">))</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Constant">Some</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">v0</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">slope</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Constant">None<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd">, </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">None<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else</span> <span class="Constant">None<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">make_table_lookup</span> <span class="Statement">~</span><span class="Identifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">~</span><span class="Identifier">const_actions</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">table</span> <span class="Statement">=</span> <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">new_const_symbol</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Cmmgen_state</span>.<span class="ocamlLCIdentifier"><a href="cmmgen_state.mli.html#L28" title="ocaml/asmcomp/cmmgen_state.mli:28">add_constant</a></span> <span class="ocamlLCIdentifier">table</span> <span class="Statement">(</span><span class="Constant">Const_table</span> <span class="Statement">(</span><span class="Constant">Local</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">to_list</span> <span class="Statement">(</span><span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">act</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">const_actions</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier">act</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span><span class="Statement">)));<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="Statement">(</span><span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">table</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">make_affine_computation</span> <span class="Statement">~</span><span class="Identifier">offset</span> <span class="Statement">~</span><span class="Identifier">slope</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* In case the resulting integers are an affine function of the index, we<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; don'<a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a> <a href="x86_proc.ml.html#L281" title="ocaml/asmcomp/x86_proc.ml:281">emit</a> <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> table, and just compute the <a href="interval.mli.html#L33" title="ocaml/asmcomp/interval.mli:33">result</a> directly *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">slope</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L96" title="ocaml/asmcomp/cmm_helpers.mli:96">natint_const_untagged</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">offset</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="PreProc">Misc</span>.<span class="PreProc">Stdlib</span>.<span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">all_somes</span> <span class="Statement">(</span><span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">map</span> <span class="ocamlLCIdentifier">extract_uconstant</span> <span class="ocamlLCIdentifier">actions</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cswitch</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>,<span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span>,<span class="ocamlLCIdentifier">actions</span>,<span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier">const_actions</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">extract_affine</span> <span class="Statement">~</span><span class="Identifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">~</span><span class="Identifier">const_actions</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">offset</span>, <span class="ocamlLCIdentifier">slope</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">make_affine_computation</span> <span class="Statement">~</span><span class="Identifier">offset</span> <span class="Statement">~</span><span class="Identifier">slope</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">make_table_lookup</span> <span class="Statement">~</span><span class="Identifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">~</span><span class="Identifier">const_actions</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> SArgBlocks</span><span class="ocamlPreDef"> </span><span class="Statement">=<br/></li>
<li></span><span class="PreProc">struct<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">primitive</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L150" title="ocaml/asmcomp/cmm.ml:150">operation</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">eqint</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Ccmpi</span><span class="ocamlStruct"> </span><span class="Constant">Ceq<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">neint</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Ccmpi</span><span class="ocamlStruct"> </span><span class="Constant">Cne<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">leint</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Ccmpi</span><span class="ocamlStruct"> </span><span class="Constant">Cle<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ltint</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Ccmpi</span><span class="ocamlStruct"> </span><span class="Constant">Clt<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">geint</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Ccmpi</span><span class="ocamlStruct"> </span><span class="Constant">Cge<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">gtint</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Ccmpi</span><span class="ocamlStruct"> </span><span class="Constant">Cgt<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L101" title="ocaml/asmcomp/x86_dsl.ml:101">loc</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="printmach.mli.html#L25" title="ocaml/asmcomp/printmach.mli:25">test</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* CR mshinwell: GPR#2294 will fix the Debuginfo here *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_const</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct">&nbsp; </span><span class="Constant">Cconst_int</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct">, </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_prim</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">p</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Cop</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">p</span><span class="ocamlStruct">,</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="ocamlStruct">, </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_offset</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlStruct"> </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_isout</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Cop</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="Constant">Ccmpa</span><span class="ocamlStruct"> </span><span class="Constant">Clt</span><span class="ocamlStruct">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a></span><span class="ocamlStruct"> </span><span class="Statement">;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span><span class="ocamlStruct">, </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_isin</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Cop</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="Constant">Ccmpa</span><span class="ocamlStruct"> </span><span class="Constant">Cge</span><span class="ocamlStruct">, </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="printmach.ml.html#L198" title="ocaml/asmcomp/printmach.ml:198">h</a></span><span class="ocamlStruct"> </span><span class="Statement">;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span><span class="ocamlStruct">, </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_is_nonzero</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">arg_as_test</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_if</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Constant">Cifthenelse</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L747" title="ocaml/asmcomp/selectgen.ml:747">cond</a></span><span class="ocamlStruct">, </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L620" title="ocaml/asmcomp/cmmgen.ml:620">ifso</a></span><span class="ocamlStruct">, </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L621" title="ocaml/asmcomp/cmmgen.ml:621">ifnot</a></span><span class="ocamlStruct">,<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L539" title="ocaml/asmcomp/cmm_helpers.mli:539">make_switch</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">actions</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">actions</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Array</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">map</span><span class="ocamlStruct"> </span><span class="Statement">(fun</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="printcmm.ml.html#L163" title="ocaml/asmcomp/printcmm.ml:163">expr</a></span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="printcmm.ml.html#L163" title="ocaml/asmcomp/printcmm.ml:163">expr</a></span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">actions</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L539" title="ocaml/asmcomp/cmm_helpers.mli:539">make_switch</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">actions</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span><span class="ocamlStruct"> </span><span class="Constant">&quot;switcher&quot;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_catch</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Statement">match</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span><span class="ocamlStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">Cexit</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct">,</span><span class="Constant">[]</span><span class="Statement">)</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct">,</span><span class="Statement">fun</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">e</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">e<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Statement">_</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Debuginfo</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Lambda</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">next_raise_count</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="Comment">(*<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; Printf.eprintf&nbsp; &quot;SHARE CMM: %i\n&quot; i ;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; Printcmm.<a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a> Format.str_formatter <a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a> ;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; Printf.eprintf &quot;%<a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a>\n&quot; (Format.flush_str_formatter ()) ;<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct">,<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">(fun</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="Statement">match</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="ocamlStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">Cexit</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L171" title="ocaml/asmcomp/x86_dsl.ml:171">j</a></span><span class="ocamlStruct">,</span><span class="Statement">_)</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">=</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L171" title="ocaml/asmcomp/x86_dsl.ml:171">j</a></span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Statement">_</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct">&nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L232" title="ocaml/asmcomp/cmm.ml:232">ccatch</a></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct">,</span><span class="Constant">[]</span><span class="ocamlStruct">,</span><span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="ocamlStruct">,</span><span class="ocamlLCIdentifier"><a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a></span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">make_exit</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">Cexit</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlStruct">,</span><span class="Constant">[]</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* cmm store, as sharing as normally been detected in previous<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; phases, we only share <a href="deadcode.ml.html#L112" title="ocaml/asmcomp/deadcode.ml:112">exits</a> *)<br/></li>
<li></span><span class="Comment">(* Some specific patterns can lead to switches where several <a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; point to the same action, but this action is not an exit (see GPR#1370).<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The addition of the index in the action array as context allows to<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; share them correctly without duplication. *)<br/></li>
<li></span><span class="Statement">module</span><span class="PreProc"> StoreExpForSwitch</span><span class="ocamlPreDef"> </span><span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Switch.CtxStore<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlFuncWith">(</span><span class="PreProc">struct<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">key</span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="Type"><a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a></span><span class="ocamlFuncStruct"> </span><span class="Type">option</span><span class="ocamlFuncStruct"> </span><span class="Statement">*</span><span class="ocamlFuncStruct"> </span><span class="Type"><a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">context</span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="Type"><a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">make_key</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">index</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="printcmm.ml.html#L163" title="ocaml/asmcomp/printcmm.ml:163">expr</a></span><span class="ocamlFuncStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">continuation</span><span class="ocamlFuncStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="printcmm.ml.html#L163" title="ocaml/asmcomp/printcmm.ml:163">expr</a></span><span class="ocamlFuncStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlFuncStruct"> </span><span class="Constant">Cexit</span><span class="ocamlFuncStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlFuncStruct">,</span><span class="Constant">[]</span><span class="Statement">)</span><span class="ocamlFuncStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlFuncStruct"> </span><span class="Constant">Some</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">i<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlFuncStruct"> </span><span class="Statement">_</span><span class="ocamlFuncStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlFuncStruct"> </span><span class="Constant">None<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Some</span><span class="ocamlFuncStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">continuation</span><span class="ocamlFuncStruct">, </span><span class="ocamlLCIdentifier">index</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">compare_key</span><span class="ocamlFuncStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="ocamlFuncStruct">, </span><span class="ocamlLCIdentifier">index</span><span class="Statement">)</span><span class="ocamlFuncStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="ocamlFuncStruct">', </span><span class="ocamlLCIdentifier">index</span><span class="ocamlFuncStruct">'</span><span class="Statement">)</span><span class="ocamlFuncStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="ocamlFuncStruct">, </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="ocamlFuncStruct">' </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlFuncStruct"> </span><span class="Constant">Some</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlFuncStruct">, </span><span class="Constant">Some</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlFuncStruct">' </span><span class="Statement">when</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlFuncStruct">' </span><span class="Statement">-&gt;</span><span class="ocamlFuncStruct"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlFuncStruct"> </span><span class="Statement">_</span><span class="ocamlFuncStruct">, </span><span class="Statement">_</span><span class="ocamlFuncStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlFuncStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlFuncStruct">.</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a></span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">index</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">index</span><span class="ocamlFuncStruct">'<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; </span><span class="PreProc">end</span><span class="ocamlFuncWith">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* For string switches, we can use <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> generic store *)<br/></li>
<li></span><span class="Statement">module</span><span class="PreProc"> StoreExp</span><span class="ocamlPreDef"> </span><span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Switch.Store<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlFuncWith">(</span><span class="PreProc">struct<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">type</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">key</span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="Type"><a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">make_key</span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="Statement">function<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlFuncStruct"> </span><span class="Constant">Cexit</span><span class="ocamlFuncStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlFuncStruct">,</span><span class="Constant">[]</span><span class="Statement">)</span><span class="ocamlFuncStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlFuncStruct"> </span><span class="Constant">Some</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">i<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlFuncStruct"> </span><span class="Statement">_</span><span class="ocamlFuncStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlFuncStruct"> </span><span class="Constant">None<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier">compare_key</span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlFuncStruct">.</span><span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">compare</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; </span><span class="PreProc">end</span><span class="ocamlFuncWith">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> SwitcherBlocks</span><span class="ocamlPreDef"> </span><span class="Statement">=</span> <span class="PreProc">Switch.Make</span><span class="ocamlFuncWith">(</span><span class="PreProc">SArgBlocks</span><span class="ocamlFuncWith">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Int switcher, <a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> in [low..high],<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a> is list of individual <a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a>, and is sorted by first component *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L544" title="ocaml/asmcomp/cmm_helpers.mli:544">transl_int_switch</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier">low</span> <span class="ocamlLCIdentifier">high</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="ocamlLCIdentifier">default</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">with<br/></li>
<li></span><span class="Statement">|</span> <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span><span class="Statement">|</span> <span class="Statement">_::_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">store</span> <span class="Statement">=</span> <span class="PreProc">StoreExp</span>.<span class="ocamlLCIdentifier">mk_store</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">assert</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">store</span>.<span class="PreProc">Switch</span>.<span class="ocamlLCIdentifier">act_store</span> <span class="Constant">()</span> <span class="ocamlLCIdentifier">default</span> <span class="Statement">=</span> <span class="Constant">0</span><span class="Statement">)</span> <span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>,<span class="ocamlLCIdentifier">act</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">i</span>,<span class="ocamlLCIdentifier">store</span>.<span class="PreProc">Switch</span>.<span class="ocamlLCIdentifier">act_store</span> <span class="Constant">()</span> <span class="ocamlLCIdentifier">act</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">plow</span> <span class="ocamlLCIdentifier">phigh</span> <span class="ocamlLCIdentifier">pact</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">[]</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">phigh</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">high</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">[</span><span class="ocamlLCIdentifier">plow</span>,<span class="ocamlLCIdentifier">phigh</span>,<span class="ocamlLCIdentifier">pact</span><span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">[(</span><span class="ocamlLCIdentifier">plow</span>,<span class="ocamlLCIdentifier">phigh</span>,<span class="ocamlLCIdentifier">pact</span><span class="Statement">);</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">phigh</span>+<span class="Constant">1</span>,<span class="ocamlLCIdentifier">high</span>,<span class="Constant">0</span><span class="Statement">)</span> <span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>,<span class="ocamlLCIdentifier">act</span><span class="Statement">)::</span><span class="ocamlLCIdentifier">rem</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">phigh</span><span class="ocamlNone">+</span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">pact</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">plow</span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier">pact</span> <span class="ocamlLCIdentifier">rem<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">plow</span>,<span class="ocamlLCIdentifier">phigh</span>,<span class="ocamlLCIdentifier">pact</span><span class="Statement">)::</span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier">act</span> <span class="ocamlLCIdentifier">rem<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Comment">(* insert default *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">pact</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">plow</span> <span class="ocamlLCIdentifier">i</span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">rem<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">plow</span>,<span class="ocamlLCIdentifier">i</span>-<span class="Constant">1</span>,<span class="ocamlLCIdentifier">pact</span><span class="Statement">)::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier">act</span> <span class="ocamlLCIdentifier">rem<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="Comment">(* pact &lt;&gt; 0 *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">plow</span>,<span class="ocamlLCIdentifier">phigh</span>,<span class="ocamlLCIdentifier">pact</span><span class="Statement">)::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">phigh</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">rem<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">phigh</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="ocamlEnd">,</span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd">-</span><span class="Constant">1</span><span class="ocamlEnd">,</span><span class="Constant">0</span><span class="Statement">)::</span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">rem<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end</span> <span class="Statement">in<br/></li>
<li><a id="L1548">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">inters</span></span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">k0</span>,<span class="ocamlLCIdentifier">act0</span><span class="Statement">)::</span><span class="ocamlLCIdentifier">rem</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">k0</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">low</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">k0</span> <span class="ocamlLCIdentifier">k0</span> <span class="ocamlLCIdentifier">act0</span> <span class="ocamlLCIdentifier">rem<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="ocamlLCIdentifier">low</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">k0</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="Constant">0</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;switcher&quot;</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">SwitcherBlocks</span>.<span class="ocamlLCIdentifier">zyva<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">low</span>,<span class="ocamlLCIdentifier">high</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">of_list</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">store</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L1562">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">transl_switch_clambda</span></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L101" title="ocaml/asmcomp/x86_dsl.ml:101">loc</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier">index</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">store</span> <span class="Statement">=</span> <span class="PreProc">StoreExpForSwitch</span>.<span class="ocamlLCIdentifier">mk_store</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">index</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">map<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L171" title="ocaml/asmcomp/x86_dsl.ml:171">j</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">store</span>.<span class="PreProc">Switch</span>.<span class="ocamlLCIdentifier">act_store</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L171" title="ocaml/asmcomp/x86_dsl.ml:171">j</a></span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span>.<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L171" title="ocaml/asmcomp/x86_dsl.ml:171">j</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">index</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">n_index</span> <span class="Statement">=</span> <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier">index</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">[]<br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">this_high</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n_index</span>-<span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">this_low</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n_index</span>-<span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">this_act</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="ocamlLCIdentifier">index</span>.<span class="Statement">(</span><span class="ocamlLCIdentifier">n_index</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n_index</span><span class="ocamlNone">-</span><span class="Constant">2</span><span class="ocamlNone"> </span><span class="Statement">downto</span> <span class="Constant">0</span> <span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlDo"> </span><span class="Statement">=</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">index</span><span class="ocamlDo">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="Statement">)</span><span class="ocamlDo"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">act</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier">this_act</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">decr</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">this_low<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlDo"> </span><span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="Statement">(!</span><span class="ocamlLCIdentifier">this_low</span><span class="ocamlEnd">, </span><span class="Statement">!</span><span class="ocamlLCIdentifier">this_high</span><span class="ocamlEnd">, </span><span class="Statement">!</span><span class="ocamlLCIdentifier">this_act</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span><span class="ocamlEnd"> </span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">this_high</span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">this_low</span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">this_act</span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">act<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span><span class="ocamlDo">&nbsp; </span><span class="Statement">done</span> <span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="Statement">:=</span> <span class="Statement">(</span><span class="Constant">0</span>, <span class="Statement">!</span><span class="ocamlLCIdentifier">this_high</span>, <span class="Statement">!</span><span class="ocamlLCIdentifier">this_act</span><span class="Statement">)</span> <span class="Statement">::</span> <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">[_]</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L1102" title="ocaml/asmcomp/selectgen.ml:1102">cases</a></span>.<span class="Statement">(</span><span class="Constant">0</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;switcher&quot;</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="PreProc">SwitcherBlocks</span>.<span class="ocamlLCIdentifier">zyva<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L101" title="ocaml/asmcomp/x86_dsl.ml:101">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="Constant">0</span>,<span class="ocamlLCIdentifier">n_index</span>-<span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">of_list</span> <span class="ocamlLCIdentifier"><a href="#L1548" title="ocaml/asmcomp/cmm_helpers.ml:1548">inters</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">store</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L553" title="ocaml/asmcomp/cmm_helpers.mli:553">strmatch_compile</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">module</span><span class="PreProc"> S</span><span class="ocamlPreDef"> </span><span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Strmatch.Make<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlFuncWith">(</span><span class="PreProc">struct<br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L25" title="ocaml/asmcomp/strmatch.ml:25">string_block_length</a></span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L223" title="ocaml/asmcomp/cmm_helpers.mli:223">get_size</a></span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="ocamlFuncStruct"> </span><span class="PreProc">Debuginfo</span><span class="ocamlFuncStruct">.</span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L26" title="ocaml/asmcomp/strmatch.ml:26">transl_switch</a></span><span class="ocamlFuncStruct"> </span><span class="Statement">=</span><span class="ocamlFuncStruct"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L544" title="ocaml/asmcomp/cmm_helpers.mli:544">transl_int_switch</a><br/></li>
<li></span><span class="ocamlFuncStruct">&nbsp; &nbsp; &nbsp; </span><span class="PreProc">end</span><span class="ocamlFuncWith">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">S</span>.<span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L387" title="ocaml/asmcomp/strmatch.ml:387">compile</a><br/></li>
<li></span><br/></li>
<li><a id="L1605">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">ptr_offset</span></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier">offset</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">offset</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a><br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddv</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">offset</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1610">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">direct_apply</span></span> <span class="ocamlLCIdentifier"><a href="linearize.ml.html#L191" title="ocaml/asmcomp/linearize.ml:191">lbl</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>, <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="linearize.ml.html#L191" title="ocaml/asmcomp/linearize.ml:191">lbl</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1613">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">generic_apply</span></span> <span class="ocamlLCIdentifier">mut</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;fun&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">get_field_codepointer</span> <span class="ocamlLCIdentifier">mut</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Constant">0</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L604" title="ocaml/asmcomp/cmmgen.ml:604">cargs</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_symbol</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L332" title="ocaml/asmcomp/cmm_helpers.mli:332">apply_function_sym</a></span> <span class="ocamlLCIdentifier">arity</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> @ <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L604" title="ocaml/asmcomp/cmmgen.ml:604">cargs</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L1626">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">send</span></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">call_met</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* <a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a> is never <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> simple <a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a>, so it never gets turned into an<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; Immutable load *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L570" title="ocaml/asmcomp/cmm_helpers.mli:570">generic_apply</a></span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a>&quot;</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">meth_kind</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Self</span>, <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a>&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L290" title="ocaml/asmcomp/cmm_helpers.mli:290">lookup_label</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">call_met</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cached</span>, <span class="ocamlLCIdentifier">cache</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">pos</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L299" title="ocaml/asmcomp/cmm_helpers.mli:299">call_cached_method</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a></span> <span class="ocamlLCIdentifier">cache</span> <span class="ocamlLCIdentifier">pos</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;<a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a>&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L283" title="ocaml/asmcomp/cmm_helpers.mli:283">lookup_tag</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L426" title="ocaml/asmcomp/cmmgen.ml:426">met</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">call_met</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(*<br/></li>
<li></span><span class="Comment">CAMLprim value caml_cache_public_method (value meths, value tag, value *cache)<br/></li>
<li></span><span class="Comment">{<br/></li>
<li></span><span class="Comment">&nbsp; <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a> <a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a> = 3, hi = Field(meths,0), mi;<br/></li>
<li></span><span class="Comment">&nbsp; while (<a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a> &lt; hi) { // no need to check the 1st time<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; mi = ((<a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a>+hi) &gt;&gt; 1) | 1;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; if (tag &lt; Field(meths,mi)) hi = mi-2;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; else <a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a> = mi;<br/></li>
<li></span><span class="Comment">&nbsp; }<br/></li>
<li></span><span class="Comment">&nbsp; *cache = (<a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a>-3)*sizeof(value)+1;<br/></li>
<li></span><span class="Comment">&nbsp; return Field (meths, <a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a>-1);<br/></li>
<li></span><span class="Comment">}<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">cache_public_method</span> <span class="ocamlLCIdentifier">meths</span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">cache</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L634" title="ocaml/asmcomp/cmmgen.ml:634">raise_num</a></span> <span class="Statement">=</span> <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">next_raise_count</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li><a id="L1659">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">cconst_int</span></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li><a id="L1660">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">li</span></span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;*<span class="linkable">li</span>*&quot;</span> <span class="Statement">and</span> <span class="ocamlLCIdentifier">hi</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;*hi*&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">mi</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;*mi*&quot;</span> <span class="Statement">and</span> <span class="ocamlLCIdentifier">tagged</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;*tagged*&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Clet_mut</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a></span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L27" title="ocaml/asmcomp/cmm.ml:27">typ_int</a></span>, <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">3</span>,<br/></li>
<li>&nbsp; <span class="Constant">Clet_mut</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">hi</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L27" title="ocaml/asmcomp/cmm.ml:27">typ_int</a></span>, <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">meths</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L232" title="ocaml/asmcomp/cmm.ml:232">ccatch</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L634" title="ocaml/asmcomp/cmmgen.ml:634">raise_num</a></span>, <span class="Constant">[]</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L167" title="ocaml/asmcomp/cmm_helpers.mli:167">create_loop</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="Constant">Clet</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">mi</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a></span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">hi</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cop</span> <span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Clt</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">tag</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">meths</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">lsl_const</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">mi</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>, <span class="Constant">Cassign</span><span class="Statement">(</span><span class="ocamlLCIdentifier">hi</span>, <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">mi</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>, <span class="Constant">Cassign</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a></span>, <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">mi</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Cge</span>, <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a></span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">hi</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>, <span class="Constant">Cexit</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L634" title="ocaml/asmcomp/cmmgen.ml:634">raise_num</a></span>, <span class="Constant">[]</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>, <span class="Constant">Ctuple</span> <span class="Constant">[]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Constant">Ctuple</span> <span class="Constant">[]</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; <span class="Constant">Clet</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">tagged</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">lsl_const</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="#L1660" title="ocaml/asmcomp/cmm_helpers.ml:1660">li</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">log2_size_addr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span><span class="Statement">(</span><span class="Constant">1</span> - <span class="Constant">3</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="Constant">Cop</span> <span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Word_int</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">cache</span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">tagged</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">tagged</span><span class="Statement">)))))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* CR mshinwell: These will be filled in by later pull requests. *)<br/></li>
<li><a id="L1705">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">placeholder_dbg</span></span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="PreProc">Debuginfo</span>.<span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a><br/></li>
<li><a id="L1706">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">placeholder_fun_dbg</span></span> <span class="Statement">~</span><span class="Identifier">human_name</span>:<span class="Statement">_</span> <span class="Statement">=</span> <span class="PreProc">Debuginfo</span>.<span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L284" title="ocaml/asmcomp/selectgen.ml:284">none</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate an application function:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; (defun caml_applyN (a1 ... aN <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; (if (= <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.arity N)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (app <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.direct a1 ... aN <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (let (clos1 (app <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.code a1 <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; clos2 (app clos1.code a2 <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; closN-1 (app closN-2.code aN-1 closN-2))<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (app closN-1.code aN closN-1))))<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><a id="L1719">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">apply_function_body</span></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L590" title="ocaml/asmcomp/cmm_helpers.mli:590">placeholder_dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">=</span> <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">make</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">(</span><span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>&quot;</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">to</span> <span class="ocamlLCIdentifier">arity</span> - <span class="Constant">1</span> <span class="Statement">do</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlDo">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="Statement">)</span><span class="ocamlDo"> </span><span class="Statement">&lt;-</span><span class="ocamlDo"> </span><span class="PreProc">V</span><span class="ocamlDo">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlDo"> </span><span class="Constant">&quot;<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>&quot;</span><span class="ocamlDo"> </span><span class="Statement">done;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">app_fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone">-</span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">get_field_codepointer</span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span> <span class="Constant">0</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>.<span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">[</span><span class="ocamlLCIdentifier">get_field_codepointer</span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">app_fun</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">))<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end</span> <span class="Statement">in<br/></li>
<li><a id="L1739">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">args</span></span> <span class="Statement">=</span> <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">to_list</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">in<br/></li>
<li><a id="L1740">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">all_args</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> @ <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span>,<br/></li>
<li>&nbsp;&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">app_fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Constant">0</span> <span class="Statement">else<br/></li>
<li></span>&nbsp;&nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(<br/></li>
<li></span>&nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="Constant">Ceq</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Casr</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span> <span class="Constant">1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">pos_arity_in_closinfo</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Constant">()</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">arity</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Constant">()</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span>,<br/></li>
<li>&nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">get_field_codepointer</span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span> <span class="Constant">2</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">::</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span> <span class="Statement">-&gt;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L1740" title="ocaml/asmcomp/cmm_helpers.ml:1740">all_args</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span>,<br/></li>
<li>&nbsp;&nbsp; <span class="ocamlLCIdentifier">app_fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Constant">0</span>,<br/></li>
<li>&nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><a id="L1757">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">send_function</span></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L590" title="ocaml/asmcomp/cmm_helpers.mli:590">placeholder_dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span>', <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1719" title="ocaml/asmcomp/cmm_helpers.ml:1719">apply_function_body</a></span> <span class="Statement">(</span><span class="Constant">1</span>+<span class="ocamlLCIdentifier">arity</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;cache&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">=</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">hd</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a><br/></li>
<li></span>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;tag&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">=</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">and</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">=</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span> <span class="Statement">and</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">=</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">meths</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;meths&quot;</span> <span class="Statement">and</span> <span class="ocamlLCIdentifier">cached</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;cached&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">real</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;real&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L38" title="ocaml/asmcomp/strmatch.ml:38">mask</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">meths</span><span class="Statement">)</span> <span class="Constant">1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">cached_pos</span> <span class="Statement">=</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">cached</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">tag_pos</span> <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="Constant">Cop</span> <span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">cached_pos</span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">meths</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span><span class="Statement">(</span><span class="Constant">3</span><span class="Statement">*</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span>-<span class="Constant">1</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">tag</span>' <span class="Statement">=</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">tag_pos</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Clet</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">meths</span>, <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_val</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">Clet</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">cached</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">cache</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L38" title="ocaml/asmcomp/strmatch.ml:38">mask</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">Clet</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">real</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpa</span> <span class="Constant">Cne</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">tag</span>'<span class="Statement">;</span> <span class="ocamlLCIdentifier">tag</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">cache_public_method</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">meths</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">cached_pos</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_val</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="Constant">Cop</span> <span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">real</span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">meths</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span><span class="Statement">(</span><span class="Constant">2</span><span class="Statement">*</span><span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L54" title="ocaml/asmcomp/power/arch.mli:54">size_addr</a></span>-<span class="Constant">1</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">))))<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span> <span class="Statement">=</span> <span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span>', <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span>, <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">cache</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">=</span> <span class="Constant">&quot;caml_send&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">fun_args</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L427" title="ocaml/asmcomp/cmmgen.ml:427">obj</a></span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">tag</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L27" title="ocaml/asmcomp/cmm.ml:27">typ_int</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">cache</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L26" title="ocaml/asmcomp/cmm.ml:26">typ_addr</a></span><span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; @ <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L357" title="ocaml/asmcomp/strmatch.ml:357">id</a></span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">))</span> <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">tl</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span> <span class="Statement">~</span><span class="Identifier">human_name</span>:<span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cfunction<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_args</span> <span class="Statement">=</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L692" title="ocaml/asmcomp/selectgen.ml:692">ty</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>, <span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L692" title="ocaml/asmcomp/selectgen.ml:692">ty</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">fun_args</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_body</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span> <span class="Statement">=</span> <span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_poll</span> <span class="Statement">=</span> <span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">apply_function</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span>, <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">)</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1719" title="ocaml/asmcomp/cmm_helpers.ml:1719">apply_function_body</a></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1740" title="ocaml/asmcomp/cmm_helpers.ml:1740">all_args</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> @ <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">=</span> <span class="Constant">&quot;caml_apply&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span> <span class="Statement">~</span><span class="Identifier">human_name</span>:<span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cfunction<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_args</span> <span class="Statement">=</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="#L1740" title="ocaml/asmcomp/cmm_helpers.ml:1740">all_args</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_body</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span> <span class="Statement">=</span> <span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_poll</span> <span class="Statement">=</span> <span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate tuplifying functions:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; (defun caml_tuplifyN (<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; (app <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.direct #0(<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>) ... #N-1(<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>) <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)) *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">tuplify_function</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L590" title="ocaml/asmcomp/cmm_helpers.mli:590">placeholder_dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">access_components</span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span> <span class="Constant">[]<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">::</span> <span class="ocamlLCIdentifier">access_components</span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>+<span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">=</span> <span class="Constant">&quot;caml_tuplify&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span> <span class="Statement">~</span><span class="Identifier">human_name</span>:<span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cfunction<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_args</span> <span class="Statement">=</span> <span class="Statement">[</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">;</span> <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">];<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_body</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">get_field_codepointer</span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span> <span class="Constant">2</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">::</span> <span class="ocamlLCIdentifier">access_components</span> <span class="Constant">0</span> @ <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">));<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span> <span class="Statement">=</span> <span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_poll</span> <span class="Statement">=</span> <span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate currying functions:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; (defun caml_curryN (<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (alloc HDR caml_curryN_1 &lt;arity (N-1)&gt; caml_curry_N_1_app <a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>))<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; (defun caml_curryN_1 (<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (alloc HDR caml_curryN_2 &lt;arity (N-2)&gt; caml_curry_N_2_app <a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>))<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; (defun caml_curryN_N-1 (<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (let (closN-2 <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.vars[1]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; closN-3 closN-2.vars[1]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; clos1 clos2.vars[1]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a> clos1.vars[1])<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (app <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.direct<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clos1.vars[0] ... closN-2.vars[0] <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.vars[0] <a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)))<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; Special &quot;shortcut&quot; functions are also generated to handle the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; case where <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> partially applied function is applied to all remaining<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; arguments in one go.&nbsp; For instance:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; (defun caml_curry_N_1_app (arg2 ... argN <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; (let <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>' <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.vars[1]<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (app <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>'.direct <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>.vars[0] arg2 ... argN <a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>')))<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; Those shortcuts may lead to <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> quadratic number of application<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; primitives being generated in the worst case, which resulted in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; linking time blowup in practice (PR#5933), so we only generate and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; use them when below <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> fixed arity 'max_arity_optimized'.<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">max_arity_optimized</span> <span class="Statement">=</span> <span class="Constant">15<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier">final_curry_function</span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L590" title="ocaml/asmcomp/cmm_helpers.mli:590">placeholder_dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">last_arg</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">last_clos</span> <span class="Statement">=</span> <span class="PreProc">V</span>.<span class="ocamlLCIdentifier">create_local</span> <span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">curry_fun</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">get_field_codepointer</span> <span class="PreProc">Asttypes</span>.<span class="Constant">Mutable</span> <span class="Statement">(</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span> <span class="Constant">2</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span> @ <span class="Statement">[</span><span class="Constant">Cvar</span> <span class="ocamlLCIdentifier">last_arg</span><span class="Statement">;</span> <span class="Constant">Cvar</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> - </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">max_arity_optimized</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">3</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">curry_fun</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">2</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd">-</span><span class="Constant">1</span><span class="Statement">))<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin<br/></li>
<li><a id="L1901">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">newclos</span></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">4</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">curry_fun<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">3</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd">-</span><span class="Constant">1</span><span class="Statement">))<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end</span> <span class="Statement">in<br/></li>
<li><a id="L1908">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">fun_name</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">&quot;caml_curry&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">^</span> <span class="Constant">&quot;_&quot;</span> <span class="Statement">^</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">arity</span>-<span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li><a id="L1911">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">fun_dbg</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span> <span class="Statement">~</span><span class="Identifier">human_name</span>:<span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cfunction<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_args</span> <span class="Statement">=</span> <span class="Statement">[</span><span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">last_arg</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">;</span> <span class="PreProc">VP</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span> <span class="ocamlLCIdentifier">last_clos</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">];<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_body</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">curry_fun</span> <span class="Constant">[]</span> <span class="ocamlLCIdentifier">last_clos</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">arity</span>-<span class="Constant">1</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span> <span class="Statement">=</span> <span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fun_poll</span> <span class="Statement">=</span> <span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><a id="L1921">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">intermediate_curry_functions</span></span> <span class="ocamlLCIdentifier">arity</span> <span class="ocamlLCIdentifier">num</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L590" title="ocaml/asmcomp/cmm_helpers.mli:590">placeholder_dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">num</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> - </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">final_curry_function</span> <span class="ocamlLCIdentifier">arity</span><span class="Statement">]<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">&quot;caml_curry&quot;</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="PreProc">Int</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">name2</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">num</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_&quot;</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="PreProc">Int</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li><a id="L1928">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">arg</span></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<span class="linkable">arg</span>&quot;</span><span class="ocamlEnd"> </span><span class="Statement">and</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span><span class="ocamlEnd"> </span><span class="Statement">~</span><span class="Identifier">human_name</span><span class="ocamlEnd">:</span><span class="ocamlLCIdentifier">name2</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Constant">Cfunction<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp;&nbsp; </span><span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">name2</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">fun_args</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">[</span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">];<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">fun_body</span><span class="ocamlEnd"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> - </span><span class="ocamlLCIdentifier">num</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">2</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">&lt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">max_arity_optimized</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L73" title="ocaml/asmcomp/cmm_helpers.mli:73">alloc_closure_header</a></span><span class="ocamlEnd"> </span><span class="Constant">5</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cconst_symbol</span><span class="Statement">(</span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_&quot;</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="PreProc">Int</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L75" title="ocaml/asmcomp/cmm_helpers.mli:75">alloc_closure_info</a></span><span class="ocamlEnd"> </span><span class="Statement">~</span><span class="Identifier">arity</span><span class="ocamlEnd">:</span><span class="Statement">(</span><span class="ocamlLCIdentifier">arity</span><span class="ocamlEnd"> - </span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span><span class="ocamlEnd">:</span><span class="Constant">3</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cconst_symbol</span><span class="Statement">(</span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_&quot;</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="PreProc">Int</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_app&quot;</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">else<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Calloc</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L73" title="ocaml/asmcomp/cmm_helpers.mli:73">alloc_closure_header</a></span><span class="ocamlEnd"> </span><span class="Constant">4</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Cconst_symbol</span><span class="Statement">(</span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_&quot;</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="PreProc">Int</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L75" title="ocaml/asmcomp/cmm_helpers.mli:75">alloc_closure_info</a></span><span class="ocamlEnd"> </span><span class="Statement">~</span><span class="Identifier">arity</span><span class="ocamlEnd">:</span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span><span class="ocamlEnd">:</span><span class="Constant">2</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">fun_poll</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp;&nbsp; </span><span class="Statement">}<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">::<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">(if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">&lt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">max_arity_optimized</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> - </span><span class="ocamlLCIdentifier">num</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">2</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="Statement">rec</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">iter</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">&lt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Printf</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">sprintf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a>%<a href="deadcode.ml.html#L23" title="ocaml/asmcomp/deadcode.ml:23">d</a>&quot;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">iter</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Constant">[]<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">direct_args</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">iter</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">2</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="Statement">rec</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">iter</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="ocamlEnd"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="ocamlLCIdentifier">get_field_codepointer<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">2</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">))<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="ocamlEnd"> @ </span><span class="Statement">[</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">]</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">else<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">V</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">create_local</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a>&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Clet</span><span class="Statement">(</span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">4</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)</span><span class="ocamlEnd">,<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">iter</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">i</span><span class="ocamlEnd">-</span><span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L204" title="ocaml/asmcomp/cmm_helpers.mli:204">get_field_gen</a></span><span class="ocamlEnd"> </span><span class="PreProc">Asttypes</span><span class="ocamlEnd">.</span><span class="Constant">Mutable</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Constant">3</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L419" title="ocaml/asmcomp/cmmgen.ml:419">args</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1901" title="ocaml/asmcomp/cmm_helpers.ml:1901">newclos</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">fun_args</span><span class="ocamlEnd"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">List</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">map</span><span class="ocamlEnd"> </span><span class="Statement">(fun</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L692" title="ocaml/asmcomp/selectgen.ml:692">ty</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="PreProc">VP</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L88" title="ocaml/asmcomp/reg.ml:88">create</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="selectgen.ml.html#L692" title="ocaml/asmcomp/selectgen.ml:692">ty</a></span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="ocamlLCIdentifier">direct_args</span><span class="ocamlEnd"> @ </span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="cmm.ml.html#L25" title="ocaml/asmcomp/cmm.ml:25">typ_val</a></span><span class="Statement">])<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">name1</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_&quot;</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="PreProc">Int</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">^</span><span class="ocamlEnd"> </span><span class="Constant">&quot;_app&quot;</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span><span class="ocamlEnd"> </span><span class="Statement">~</span><span class="Identifier">human_name</span><span class="ocamlEnd">:</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">cf</span><span class="ocamlEnd"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cfunction<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">fun_args</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">fun_body</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">iter</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">List</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">map</span><span class="ocamlEnd"> </span><span class="Statement">(fun</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="ocamlEnd">,</span><span class="Statement">_)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">Cvar</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">direct_args</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L422" title="ocaml/asmcomp/cmmgen.ml:422">clos</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">fun_poll</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">}<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">cf</span><span class="ocamlEnd"> </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1921" title="ocaml/asmcomp/cmm_helpers.ml:1921">intermediate_curry_functions</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">else<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L1921" title="ocaml/asmcomp/cmm_helpers.ml:1921">intermediate_curry_functions</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">num</span><span class="ocamlEnd">+</span><span class="Constant">1</span><span class="Statement">))<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><a id="L2002">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">curry_function</span></span> <span class="ocamlLCIdentifier">arity</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">assert(</span><span class="ocamlLCIdentifier">arity</span> <span class="Statement">&lt;&gt;</span> <span class="Constant">0</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Comment">(* Functions with arity = 0 does not have <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> <a href="#L2002" title="ocaml/asmcomp/cmm_helpers.ml:2002">curry_function</a> *)<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L1921" title="ocaml/asmcomp/cmm_helpers.ml:1921">intermediate_curry_functions</a></span> <span class="ocamlLCIdentifier">arity</span> <span class="Constant">0<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">[</span><span class="ocamlLCIdentifier">tuplify_function</span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier">arity</span><span class="Statement">)]<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Int</span><span class="ocamlPreDef"> </span><span class="Statement">=</span> <span class="PreProc">Numbers.Int<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">default_apply</span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Constant">2</span> <span class="Statement">(</span><span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="Constant">3</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L46" title="ocaml/asmcomp/CSEgen.ml:46">empty</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Comment">(* These apply funs are always present in the main <a href="asmpackager.ml.html#L103" title="ocaml/asmcomp/asmpackager.ml:103">program</a> because<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; the <a href="cmm_invariants.mli.html#L35" title="ocaml/asmcomp/cmm_invariants.mli:35">run</a>-time <a href="x86_proc.ml.html#L18" title="ocaml/asmcomp/x86_proc.ml:18">system</a> needs them (cf. runtime/&lt;<a href="x86_ast.mli.html#L72" title="ocaml/asmcomp/x86_ast.mli:72">arch</a>&gt;.S) . *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L588" title="ocaml/asmcomp/cmm_helpers.mli:588">generic_functions</a></span> <span class="ocamlLCIdentifier">shared</span> <span class="ocamlLCIdentifier"><a href="asmlink.ml.html#L237" title="ocaml/asmcomp/asmlink.ml:237">units</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">apply</span>,<span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L581" title="ocaml/asmcomp/cmm_helpers.mli:581">send</a></span>,<span class="ocamlLCIdentifier">curry</span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_left<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">apply</span>,<span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L581" title="ocaml/asmcomp/cmm_helpers.mli:581">send</a></span>,<span class="ocamlLCIdentifier">curry</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span> : <span class="PreProc">Cmx_format</span>.<span class="ocamlLCIdentifier">unit_infos</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_right</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_apply_fun</span> <span class="ocamlLCIdentifier">apply</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_right</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_send_fun</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L581" title="ocaml/asmcomp/cmm_helpers.mli:581">send</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_right</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L50" title="ocaml/asmcomp/CSEgen.ml:50">add</a></span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_curry_fun</span> <span class="ocamlLCIdentifier">curry</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L46" title="ocaml/asmcomp/CSEgen.ml:46">empty</a></span>,<span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L46" title="ocaml/asmcomp/CSEgen.ml:46">empty</a></span>,<span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L46" title="ocaml/asmcomp/CSEgen.ml:46">empty</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="asmlink.ml.html#L237" title="ocaml/asmcomp/asmlink.ml:237">units</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">apply</span> <span class="Statement">=</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">shared</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">apply</span> <span class="Statement">else</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier"><a href="spill.ml.html#L254" title="ocaml/asmcomp/spill.ml:254">union</a></span> <span class="ocamlLCIdentifier">apply</span> <span class="ocamlLCIdentifier">default_apply</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier">fold</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">apply_function</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">accu</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">apply</span> <span class="Constant">[]</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier">fold</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1757" title="ocaml/asmcomp/cmm_helpers.ml:1757">send_function</a></span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">accu</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L581" title="ocaml/asmcomp/cmm_helpers.mli:581">send</a></span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">Int</span>.<span class="PreProc">Set</span>.<span class="ocamlLCIdentifier">fold</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L2002" title="ocaml/asmcomp/cmm_helpers.ml:2002">curry_function</a></span> <span class="ocamlLCIdentifier">n</span> @ <span class="ocamlLCIdentifier">accu</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">curry</span> <span class="ocamlLCIdentifier">accu<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Primitives *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">type</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L423" title="ocaml/asmcomp/cmm_helpers.mli:423">unary_primitive</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a></span> <span class="Statement">-&gt;</span> <span class="PreProc">Debuginfo</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L427" title="ocaml/asmcomp/cmm_helpers.mli:427">floatfield</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Double</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L430" title="ocaml/asmcomp/cmm_helpers.mli:430">int_as_pointer</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span>-<span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Comment">(* always <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> pointer outside the heap *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L433" title="ocaml/asmcomp/cmm_helpers.mli:433">raise_prim</a></span> <span class="ocamlLCIdentifier">raise_kind</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="PreProc">Clflags</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">debug</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span> <span class="Statement">(</span><span class="Constant">Craise</span> <span class="ocamlLCIdentifier">raise_kind</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span> <span class="Statement">(</span><span class="Constant">Craise</span> <span class="PreProc">Lambda</span>.<span class="Constant">Raise_notrace</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L436" title="ocaml/asmcomp/cmm_helpers.mli:436">negint</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Csubi</span>, <span class="Statement">[</span><span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">2</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="cmm_helpers.mli.html#L439" title="ocaml/asmcomp/cmm_helpers.mli:439">offsetint</a>] moved down to reuse <a href="cmm_helpers.mli.html#L470" title="ocaml/asmcomp/cmm_helpers.mli:470">add_int_caml</a> *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L442" title="ocaml/asmcomp/cmm_helpers.mli:442">offsetref</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ref&quot;</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Word_int</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">lsl</span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L445" title="ocaml/asmcomp/cmm_helpers.mli:445">arraylength</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">hdr</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">array_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Pgenarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">len</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L228" title="ocaml/asmcomp/cmm_helpers.mli:228">numfloat_shift</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;header&quot;</span> <span class="ocamlLCIdentifier">hdr</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">hdr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L232" title="ocaml/asmcomp/cmm_helpers.mli:232">is_addr_array_hdr</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Clsr</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">hdr</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L228" title="ocaml/asmcomp/cmm_helpers.mli:228">numfloat_shift</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">len</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Paddrarray</span> <span class="Statement">|</span> <span class="Constant">Pintarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pfloatarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L241" title="ocaml/asmcomp/cmm_helpers.mli:241">float_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L449" title="ocaml/asmcomp/cmm_helpers.mli:449">bbswap</a></span> <span class="ocamlLCIdentifier">bi</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">prim</span>, <span class="ocamlLCIdentifier">tyarg</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">bi</span> : <span class="PreProc">Primitive</span>.<span class="ocamlLCIdentifier">boxed_integer</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pnativeint</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;nativeint&quot;</span>, <span class="Constant">XInt<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pint32</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;int32&quot;</span>, <span class="Constant">XInt32<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pint64</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;int64&quot;</span>, <span class="Constant">XInt64<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier">sprintf</span> <span class="Constant">&quot;caml_%s_direct_bswap&quot;</span> <span class="ocamlLCIdentifier">prim</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L27" title="ocaml/asmcomp/cmm.ml:27">typ_int</a></span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">tyarg</span><span class="Statement">]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L453" title="ocaml/asmcomp/cmm_helpers.mli:453">bswap16</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_bswap16_direct&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L27" title="ocaml/asmcomp/cmm.ml:27">typ_int</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">type</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L455" title="ocaml/asmcomp/cmm_helpers.mli:455">binary_primitive</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a></span> <span class="Statement">-&gt;</span> <span class="PreProc">Debuginfo</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* let pfield_computed = <a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a> *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Helper for compilation of initialization and assignment operations *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">type</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L457" title="ocaml/asmcomp/cmm_helpers.mli:457">assignment_kind</a></span> <span class="Statement">=</span> <span class="Constant">Caml_modify</span> <span class="Statement">|</span> <span class="Constant">Caml_initialize</span> <span class="Statement">|</span> <span class="Constant">Simple<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L457" title="ocaml/asmcomp/cmm_helpers.mli:457">assignment_kind</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span>: <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">immediate_or_pointer</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span>: <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">initialization_or_assignment</span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Assignment</span>, <span class="Constant">Pointer</span> <span class="Statement">-&gt;</span> <span class="Constant">Caml_modify<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Heap_initialization</span>, <span class="Constant">Pointer<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Root_initialization</span>, <span class="Constant">Pointer</span> <span class="Statement">-&gt;</span> <span class="Constant">Caml_initialize<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Assignment</span>, <span class="Constant">Immediate<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Heap_initialization</span>, <span class="Constant">Immediate<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Root_initialization</span>, <span class="Constant">Immediate</span> <span class="Statement">-&gt;</span> <span class="Constant">Simple<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L460" title="ocaml/asmcomp/cmm_helpers.mli:460">setfield</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L457" title="ocaml/asmcomp/cmm_helpers.mli:457">assignment_kind</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_modify</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_modify&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_initialize</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cextcall</span><span class="Statement">(</span><span class="Constant">&quot;caml_initialize&quot;</span>, <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>, <span class="Constant">[]</span>, <span class="Constant">false</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Simple</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L209" title="ocaml/asmcomp/cmm_helpers.mli:209">set_field</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L466" title="ocaml/asmcomp/cmm_helpers.mli:466">setfloatfield</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Double</span>, <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">arg1<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">else</span> <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cadda</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">arg1</span><span class="Statement">;</span> <span class="Constant">Cconst_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L58" title="ocaml/asmcomp/power/arch.mli:58">size_float</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L470" title="ocaml/asmcomp/cmm_helpers.mli:470">add_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Unary primitive delayed to reuse <a href="cmm_helpers.mli.html#L470" title="ocaml/asmcomp/cmm_helpers.mli:470">add_int_caml</a> *)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L439" title="ocaml/asmcomp/cmm_helpers.mli:439">offsetint</a></span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Misc</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">no_overflow_lsl</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L99" title="ocaml/asmcomp/cmm_helpers.mli:99">add_const</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">n</span> <span class="Statement">lsl</span> <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L470" title="ocaml/asmcomp/cmm_helpers.mli:470">add_int_caml</a></span> <span class="ocamlLCIdentifier"><a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L89" title="ocaml/asmcomp/cmm_helpers.mli:89">int_const</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L471" title="ocaml/asmcomp/cmm_helpers.mli:471">sub_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L102" title="ocaml/asmcomp/cmm_helpers.mli:102">incr_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L115" title="ocaml/asmcomp/cmm_helpers.mli:115">sub_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L472" title="ocaml/asmcomp/cmm_helpers.mli:472">mul_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* decrementing the non-<a href="x86_ast.mli.html#L44" title="ocaml/asmcomp/x86_ast.mli:44">constant</a> part helps when the multiplication is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; followed by an addition;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; for example, using this trick compiles (100 * <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> + 7) into<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; (+ ( * <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> 100) -85)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; rather than<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; (+ ( * 200 (&gt;&gt;<a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a> <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> 1)) 15)<br/></li>
<li></span><span class="Comment">&nbsp; *)<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">arg1</span>, <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cconst_int</span> <span class="Statement">_</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L102" title="ocaml/asmcomp/cmm_helpers.mli:102">incr_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span>, <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L102" title="ocaml/asmcomp/cmm_helpers.mli:102">incr_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L117" title="ocaml/asmcomp/cmm_helpers.mli:117">mul_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1542" title="ocaml/asmcomp/cmmgen.ml:1542">c2</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L473" title="ocaml/asmcomp/cmm_helpers.mli:473">div_int_caml</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L120" title="ocaml/asmcomp/cmm_helpers.mli:120">div_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L474" title="ocaml/asmcomp/cmm_helpers.mli:474">mod_int_caml</a></span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L122" title="ocaml/asmcomp/cmm_helpers.mli:122">mod_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">is_safe</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L475" title="ocaml/asmcomp/cmm_helpers.mli:475">and_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cand</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">arg1</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L476" title="ocaml/asmcomp/cmm_helpers.mli:476">or_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier">arg1</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L477" title="ocaml/asmcomp/cmm_helpers.mli:477">xor_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cxor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L107" title="ocaml/asmcomp/cmm_helpers.mli:107">ignore_low_bit_int</a></span> <span class="ocamlLCIdentifier">arg1</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L107" title="ocaml/asmcomp/cmm_helpers.mli:107">ignore_low_bit_int</a></span> <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L478" title="ocaml/asmcomp/cmm_helpers.mli:478">lsl_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L102" title="ocaml/asmcomp/cmm_helpers.mli:102">incr_int</a></span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L116" title="ocaml/asmcomp/cmm_helpers.mli:116">lsl_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L103" title="ocaml/asmcomp/cmm_helpers.mli:103">decr_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L479" title="ocaml/asmcomp/cmm_helpers.mli:479">lsr_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L118" title="ocaml/asmcomp/cmm_helpers.mli:118">lsr_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L480" title="ocaml/asmcomp/cmm_helpers.mli:480">asr_int_caml</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cor</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L119" title="ocaml/asmcomp/cmm_helpers.mli:119">asr_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="Constant">1</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L481" title="ocaml/asmcomp/cmm_helpers.mli:481">int_comp_caml</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Ccmpi</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L123" title="ocaml/asmcomp/x86_dsl.ml:123">cmp</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">arg1</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">arg2</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L486" title="ocaml/asmcomp/cmm_helpers.mli:486">stringref_unsafe</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a></span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L487" title="ocaml/asmcomp/cmm_helpers.mli:487">stringref_safe</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L126" title="ocaml/asmcomp/cmm_helpers.mli:126">tag_int</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;str&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">str</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L274" title="ocaml/asmcomp/cmm_helpers.mli:274">string_length</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Byte_unsigned</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))))</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L490" title="ocaml/asmcomp/cmm_helpers.mli:490">string_load</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L414" title="ocaml/asmcomp/cmm_helpers.mli:414">box_sized</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;str&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">str</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L320" title="ocaml/asmcomp/cmm_helpers.mli:320">check_bound</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L274" title="ocaml/asmcomp/cmm_helpers.mli:274">string_length</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L409" title="ocaml/asmcomp/cmm_helpers.mli:409">unaligned_load</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L492" title="ocaml/asmcomp/cmm_helpers.mli:492">bigstring_load</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L414" title="ocaml/asmcomp/cmm_helpers.mli:414">box_sized</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ba&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">ba</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ba_data&quot;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier">ba</span> <span class="Constant">1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">ba_data</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L320" title="ocaml/asmcomp/cmm_helpers.mli:320">check_bound</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L275" title="ocaml/asmcomp/cmm_helpers.mli:275">bigstring_length</a></span> <span class="ocamlLCIdentifier">ba</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L409" title="ocaml/asmcomp/cmm_helpers.mli:409">unaligned_load</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">ba_data</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L498" title="ocaml/asmcomp/cmm_helpers.mli:498">arrayref_unsafe</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">array_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pgenarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L233" title="ocaml/asmcomp/cmm_helpers.mli:233">is_addr_array_ptr</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L262" title="ocaml/asmcomp/cmm_helpers.mli:262">float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Paddrarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pintarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* CR mshinwell: for <a href="power/proc.ml.html#L211" title="ocaml/asmcomp/power/proc.ml:211">int</a>/<a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a> move &quot;<a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a>&quot; to first <a href="x86_ast.mli.html#L89" title="ocaml/asmcomp/x86_ast.mli:89">arg</a> *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L259" title="ocaml/asmcomp/cmm_helpers.mli:259">int_array_ref</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pfloatarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L262" title="ocaml/asmcomp/cmm_helpers.mli:262">float_array_ref</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L499" title="ocaml/asmcomp/cmm_helpers.mli:499">arrayref_safe</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> : <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">array_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pgenarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;header&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">hdr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L228" title="ocaml/asmcomp/cmm_helpers.mli:228">numfloat_shift</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L232" title="ocaml/asmcomp/cmm_helpers.mli:232">is_addr_array_hdr</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L262" title="ocaml/asmcomp/cmm_helpers.mli:262">float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L232" title="ocaml/asmcomp/cmm_helpers.mli:232">is_addr_array_hdr</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L241" title="ocaml/asmcomp/cmm_helpers.mli:241">float_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L262" title="ocaml/asmcomp/cmm_helpers.mli:262">float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Paddrarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L258" title="ocaml/asmcomp/cmm_helpers.mli:258">addr_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pintarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L259" title="ocaml/asmcomp/cmm_helpers.mli:259">int_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Pfloatarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L176" title="ocaml/asmcomp/cmm_helpers.mli:176">box_float</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L241" title="ocaml/asmcomp/cmm_helpers.mli:241">float_array_length_shifted</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L260" title="ocaml/asmcomp/cmm_helpers.mli:260">unboxed_float_array_ref</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span><br/></li>
<li><span class="Statement">type</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L501" title="ocaml/asmcomp/cmm_helpers.mli:501">ternary_primitive</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a></span> <span class="Statement">-&gt;</span> <span class="PreProc">Debuginfo</span>.<span class="ocamlLCIdentifier"><a href="CSEgen.ml.html#L40" title="ocaml/asmcomp/CSEgen.ml:40">t</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L173" title="ocaml/asmcomp/cmm.ml:173">expression</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L506" title="ocaml/asmcomp/cmm_helpers.mli:506">setfield_computed</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L457" title="ocaml/asmcomp/cmm_helpers.mli:457">assignment_kind</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L415" title="ocaml/asmcomp/cmmgen.ml:415">ptr</a></span> <span class="ocamlLCIdentifier"><a href="power/proc.ml.html#L357" title="ocaml/asmcomp/power/proc.ml:357">init</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_modify</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_initialize</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L265" title="ocaml/asmcomp/cmm_helpers.mli:265">addr_array_initialize</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Simple</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L267" title="ocaml/asmcomp/cmm_helpers.mli:267">int_array_set</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L512" title="ocaml/asmcomp/cmm_helpers.mli:512">bytesset_unsafe</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L111" title="ocaml/asmcomp/cmm_helpers.mli:111">ignore_high_bit_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L513" title="ocaml/asmcomp/cmm_helpers.mli:513">bytesset_safe</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L111" title="ocaml/asmcomp/cmm_helpers.mli:111">ignore_high_bit_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;str&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">str</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L274" title="ocaml/asmcomp/cmm_helpers.mli:274">string_length</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Byte_unsigned</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L114" title="ocaml/asmcomp/cmm_helpers.mli:114">add_int</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L520" title="ocaml/asmcomp/cmm_helpers.mli:520">arrayset_unsafe</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span>: <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">array_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pgenarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">index</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L233" title="ocaml/asmcomp/cmm_helpers.mli:233">is_addr_array_ptr</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier">index</span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier">index</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L177" title="ocaml/asmcomp/cmm_helpers.mli:177">unbox_float</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Paddrarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pintarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L267" title="ocaml/asmcomp/cmm_helpers.mli:267">int_array_set</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pfloatarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp; <span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L521" title="ocaml/asmcomp/cmm_helpers.mli:521">arrayset_safe</a></span> <span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="interval.ml.html#L36" title="ocaml/asmcomp/interval.ml:36">kind</a></span>: <span class="PreProc">Lambda</span>.<span class="ocamlLCIdentifier">array_kind</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pgenarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;header&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">hdr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L227" title="ocaml/asmcomp/cmm_helpers.mli:227">wordsize_shift</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L228" title="ocaml/asmcomp/cmm_helpers.mli:228">numfloat_shift</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L232" title="ocaml/asmcomp/cmm_helpers.mli:232">is_addr_array_hdr</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L177" title="ocaml/asmcomp/cmm_helpers.mli:177">unbox_float</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cifthenelse</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L232" title="ocaml/asmcomp/cmm_helpers.mli:232">is_addr_array_hdr</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L241" title="ocaml/asmcomp/cmm_helpers.mli:241">float_array_length_shifted</a></span> <span class="ocamlLCIdentifier">hdr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L177" title="ocaml/asmcomp/cmm_helpers.mli:177">unbox_float</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="ocamlLCIdentifier">newval</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Paddrarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L263" title="ocaml/asmcomp/cmm_helpers.mli:263">addr_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pintarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L240" title="ocaml/asmcomp/cmm_helpers.mli:240">addr_array_length_shifted</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L267" title="ocaml/asmcomp/cmm_helpers.mli:267">int_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pfloatarray</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L24" title="ocaml/asmcomp/cmm_helpers.mli:24">bind_load</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="ocamlLCIdentifier">arg2</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;arr&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">arr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L314" title="ocaml/asmcomp/cmm_helpers.mli:314">make_checkbound</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L241" title="ocaml/asmcomp/cmm_helpers.mli:241">float_array_length_shifted</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L217" title="ocaml/asmcomp/cmm_helpers.mli:217">get_header_masked</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span><span class="Statement">]</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L269" title="ocaml/asmcomp/cmm_helpers.mli:269">float_array_set</a></span> <span class="ocamlLCIdentifier">arr</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))<br/></li>
<li></span>&nbsp; <span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L527" title="ocaml/asmcomp/cmm_helpers.mli:527">bytes_set</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;str&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">str</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L320" title="ocaml/asmcomp/cmm_helpers.mli:320">check_bound</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L274" title="ocaml/asmcomp/cmm_helpers.mli:274">string_length</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L404" title="ocaml/asmcomp/cmm_helpers.mli:404">unaligned_set</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">str</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)))))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L529" title="ocaml/asmcomp/cmm_helpers.mli:529">bigstring_set</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier">arg1</span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier">arg3</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L185" title="ocaml/asmcomp/cmm_helpers.mli:185">return_unit</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a><br/></li>
<li></span>&nbsp;&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;newval&quot;</span> <span class="ocamlLCIdentifier">arg3</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">newval</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;index&quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L129" title="ocaml/asmcomp/cmm_helpers.mli:129">untag_int</a></span> <span class="ocamlLCIdentifier">arg2</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ba&quot;</span> <span class="ocamlLCIdentifier">arg1</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">ba</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L20" title="ocaml/asmcomp/cmm_helpers.mli:20">bind</a></span> <span class="Constant">&quot;ba_data&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>, <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L200" title="ocaml/asmcomp/cmm_helpers.mli:200">field_address</a></span> <span class="ocamlLCIdentifier">ba</span> <span class="Constant">1</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">ba_data</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L320" title="ocaml/asmcomp/cmm_helpers.mli:320">check_bound</a></span> <span class="ocamlLCIdentifier">unsafe</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L275" title="ocaml/asmcomp/cmm_helpers.mli:275">bigstring_length</a></span> <span class="ocamlLCIdentifier">ba</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L404" title="ocaml/asmcomp/cmm_helpers.mli:404">unaligned_set</a></span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="ocamlLCIdentifier">ba_data</span> <span class="ocamlLCIdentifier"><a href="power/arch.ml.html#L108" title="ocaml/asmcomp/power/arch.ml:108">idx</a></span> <span class="ocamlLCIdentifier">newval</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span><span class="Statement">))))))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Symbols *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L623" title="ocaml/asmcomp/cmm_helpers.mli:623">cdefine_symbol</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">symb</span>, <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L98" title="ocaml/asmcomp/x86_dsl.ml:98">global</a></span>: <span class="PreProc">Cmmgen_state</span>.<span class="ocamlLCIdentifier"><a href="cmmgen_state.mli.html#L22" title="ocaml/asmcomp/cmmgen_state.mli:22">is_global</a></span><span class="Statement">))</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L98" title="ocaml/asmcomp/x86_dsl.ml:98">global</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Global</span> <span class="Statement">-&gt;</span> <span class="Statement">[</span><span class="Constant">Cglobal_symbol</span> <span class="ocamlLCIdentifier">symb</span><span class="Statement">;</span> <span class="Constant">Cdefine_symbol</span> <span class="ocamlLCIdentifier">symb</span><span class="Statement">]<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Local</span> <span class="Statement">-&gt;</span> <span class="Statement">[</span><span class="Constant">Cdefine_symbol</span> <span class="ocamlLCIdentifier">symb</span><span class="Statement">]<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier">white_header</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* Headers for structured constants must be marked black in case we<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; are in no-naked-pointers <a href="asmlink.ml.html#L324" title="ocaml/asmcomp/asmlink.ml:324">mode</a>.&nbsp; See [caml_darken]. *)<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">black_header</span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">logor</span> <span class="ocamlLCIdentifier">white_header</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L34" title="ocaml/asmcomp/cmm_helpers.mli:34">caml_black</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cint</span> <span class="ocamlLCIdentifier">black_header</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L623" title="ocaml/asmcomp/cmm_helpers.mli:623">cdefine_symbol</a></span> <span class="ocamlLCIdentifier">symb</span> @ <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">emit_string_constant_fields</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> - <span class="Constant">1</span> - <span class="Statement">(</span><span class="PreProc">String</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="Statement">)</span> <span class="Statement">mod</span> <span class="ocamlLCIdentifier"><a href="power/arch.mli.html#L56" title="ocaml/asmcomp/power/arch.mli:56">size_int</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cstring</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span> <span class="Statement">::</span> <span class="Constant">Cskip</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">::</span> <span class="Constant">Cint8</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">emit_boxed_int32_constant_fields</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">=</span> <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int32</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L376" title="ocaml/asmcomp/cmm_helpers.mli:376">caml_int32_ops</a></span> <span class="Statement">::</span> <span class="Constant">Cint32</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">::</span> <span class="Constant">Cint32</span> <span class="Constant">0n</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">emit_boxed_int64_constant_fields</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">lo</span> <span class="Statement">=</span> <span class="PreProc">Int64</span>.<span class="ocamlLCIdentifier">to_nativeint</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L377" title="ocaml/asmcomp/cmm_helpers.mli:377">caml_int64_ops</a></span> <span class="Statement">::</span> <span class="Constant">Cint</span> <span class="ocamlLCIdentifier">lo</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">emit_boxed_nativeint_constant_fields</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L375" title="ocaml/asmcomp/cmm_helpers.mli:375">caml_nativeint_ops</a></span> <span class="Statement">::</span> <span class="Constant">Cint</span> <span class="ocamlLCIdentifier">n</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L634" title="ocaml/asmcomp/cmm_helpers.mli:634">emit_float_constant</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L54" title="ocaml/asmcomp/cmm_helpers.mli:54">float_header</a></span> <span class="Statement">(</span><span class="Constant">Cdouble</span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L637" title="ocaml/asmcomp/cmm_helpers.mli:637">emit_string_constant</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L60" title="ocaml/asmcomp/cmm_helpers.mli:60">string_header</a></span> <span class="Statement">(</span><span class="PreProc">String</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">emit_string_constant_fields</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L640" title="ocaml/asmcomp/cmm_helpers.mli:640">emit_int32_constant</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L63" title="ocaml/asmcomp/cmm_helpers.mli:63">boxedint32_header</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">emit_boxed_int32_constant_fields</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L643" title="ocaml/asmcomp/cmm_helpers.mli:643">emit_int64_constant</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L64" title="ocaml/asmcomp/cmm_helpers.mli:64">boxedint64_header</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">emit_boxed_int64_constant_fields</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L646" title="ocaml/asmcomp/cmm_helpers.mli:646">emit_nativeint_constant</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L65" title="ocaml/asmcomp/cmm_helpers.mli:65">boxedintnat_header</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">emit_boxed_nativeint_constant_fields</span> <span class="ocamlLCIdentifier">n</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L649" title="ocaml/asmcomp/cmm_helpers.mli:649">emit_float_array_constant</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="ocamlLCIdentifier">fields</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L57" title="ocaml/asmcomp/cmm_helpers.mli:57">floatarray_header</a></span> <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier">fields</span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">map_end</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">-&gt;</span> <span class="Constant">Cdouble</span> <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">fields</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate the entry point *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L594" title="ocaml/asmcomp/cmm_helpers.mli:594">entry_point</a></span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L590" title="ocaml/asmcomp/cmm_helpers.mli:590">placeholder_dbg</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="ocamlLCIdentifier">i</span> <span class="Statement">=</span> <span class="Constant">Cconst_int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">i</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">cconst_symbol</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span> <span class="Statement">=</span> <span class="Constant">Cconst_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L37" title="ocaml/asmcomp/x86_dsl.ml:37">sym</a></span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">incr_global_inited</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Cstore</span> <span class="Statement">(</span><span class="Constant">Word_int</span>, <span class="Constant">Assignment</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">cconst_symbol</span> <span class="Constant">&quot;caml_globals_inited&quot;</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Caddi</span>, <span class="Statement">[</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L193" title="ocaml/asmcomp/cmm_helpers.mli:193">mk_load_mut</a></span> <span class="Constant">Word_int</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">cconst_symbol</span> <span class="Constant">&quot;caml_globals_inited&quot;</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_right<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier">next</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">entry_sym</span> <span class="Statement">=</span> <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">make_symbol</span> <span class="Statement">~</span><span class="Identifier">unitname</span>:<span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">&quot;entry&quot;</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="Constant">Cop</span><span class="Statement">(</span><span class="Constant">Capply</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L24" title="ocaml/asmcomp/cmm.ml:24">typ_void</a></span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">cconst_symbol</span> <span class="ocamlLCIdentifier">entry_sym</span><span class="Statement">]</span>, <span class="ocamlLCIdentifier"><a href="strmatch.ml.html#L36" title="ocaml/asmcomp/strmatch.ml:36">dbg</a></span> <span class="Constant">()</span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csequence</span><span class="Statement">(</span><span class="ocamlLCIdentifier">incr_global_inited</span> <span class="Constant">()</span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1659" title="ocaml/asmcomp/cmm_helpers.ml:1659">cconst_int</a></span> <span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">=</span> <span class="Constant">&quot;caml_program&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L591" title="ocaml/asmcomp/cmm_helpers.mli:591">placeholder_fun_dbg</a></span> <span class="Statement">~</span><span class="Identifier">human_name</span>:<span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cfunction</span> <span class="Statement">{</span><span class="ocamlLCIdentifier"><a href="#L1908" title="ocaml/asmcomp/cmm_helpers.ml:1908">fun_name</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">fun_args</span> <span class="Statement">=</span> <span class="Constant">[]</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">fun_body</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L334" title="ocaml/asmcomp/cmm_helpers.ml:334">body</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1428" title="ocaml/asmcomp/cmmgen.ml:1428">fun_codegen_options</a></span> <span class="Statement">=</span> <span class="Statement">[</span><span class="Constant">Reduce_code_size</span><span class="Statement">];<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">fun_poll</span> <span class="Statement">=</span> <span class="Constant">Default_poll</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L1911" title="ocaml/asmcomp/cmm_helpers.ml:1911">fun_dbg</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate the table of globals *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">cint_zero</span> <span class="Statement">=</span> <span class="Constant">Cint</span> <span class="Constant">0n<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L597" title="ocaml/asmcomp/cmm_helpers.mli:597">global_table</a></span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">mksym</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="Statement">(</span><span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">make_symbol</span> <span class="Statement">~</span><span class="Identifier">unitname</span>:<span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">&quot;gc_roots&quot;</span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span><span class="Statement">(</span><span class="Constant">Cglobal_symbol</span> <span class="Constant">&quot;caml_globals&quot;</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cdefine_symbol</span> <span class="Constant">&quot;caml_globals&quot;</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="ocamlLCIdentifier">mksym</span> <span class="ocamlLCIdentifier">namelist</span> @<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="ocamlLCIdentifier">cint_zero</span><span class="Statement">])<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L600" title="ocaml/asmcomp/cmm_helpers.mli:600">reference_symbols</a></span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">mksym</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">=</span> <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span><span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="ocamlLCIdentifier">mksym</span> <span class="ocamlLCIdentifier">namelist</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">global_data</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier">v</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L637" title="ocaml/asmcomp/cmm_helpers.mli:637">emit_string_constant</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span>, <span class="Constant">Global</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Marshal</span>.<span class="ocamlLCIdentifier"><a href="reg.ml.html#L28" title="ocaml/asmcomp/reg.ml:28">to_string</a></span> <span class="ocamlLCIdentifier">v</span> <span class="Constant">[]</span><span class="Statement">)</span> <span class="Constant">[]</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="asmlink.ml.html#L245" title="ocaml/asmcomp/asmlink.ml:245">globals_map</a></span> <span class="ocamlLCIdentifier">v</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">global_data</span> <span class="Constant">&quot;caml_globals_map&quot;</span> <span class="ocamlLCIdentifier">v<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate the master table of frame descriptors *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L608" title="ocaml/asmcomp/cmm_helpers.mli:608">frame_table</a></span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">mksym</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="Statement">(</span><span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">make_symbol</span> <span class="Statement">~</span><span class="Identifier">unitname</span>:<span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">&quot;frametable&quot;</span><span class="Statement">))<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span><span class="Statement">(</span><span class="Constant">Cglobal_symbol</span> <span class="Constant">&quot;caml_frametable&quot;</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cdefine_symbol</span> <span class="Constant">&quot;caml_frametable&quot;</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="ocamlLCIdentifier">mksym</span> <span class="ocamlLCIdentifier">namelist<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; @ <span class="Statement">[</span><span class="ocamlLCIdentifier">cint_zero</span><span class="Statement">])<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Generate the table of module <a href="emit.mli.html#L19" title="ocaml/asmcomp/emit.mli:19">data</a> and code segments *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">segment_table</span> <span class="ocamlLCIdentifier">namelist</span> <span class="ocamlLCIdentifier">symbol</span> <span class="ocamlLCIdentifier">begname</span> <span class="ocamlLCIdentifier">endname</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">addsyms</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="ocamlLCIdentifier">lst</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="Statement">(</span><span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">make_symbol</span> <span class="Statement">~</span><span class="Identifier">unitname</span>:<span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="ocamlLCIdentifier">begname</span><span class="Statement">))</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="Statement">(</span><span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">make_symbol</span> <span class="Statement">~</span><span class="Identifier">unitname</span>:<span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="ocamlLCIdentifier">endname</span><span class="Statement">))</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">lst<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span><span class="Statement">(</span><span class="Constant">Cglobal_symbol</span> <span class="ocamlLCIdentifier">symbol</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cdefine_symbol</span> <span class="ocamlLCIdentifier">symbol</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_right</span> <span class="ocamlLCIdentifier">addsyms</span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">[</span><span class="ocamlLCIdentifier">cint_zero</span><span class="Statement">])<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L612" title="ocaml/asmcomp/cmm_helpers.mli:612">data_segment_table</a></span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">segment_table</span> <span class="ocamlLCIdentifier">namelist</span> <span class="Constant">&quot;caml_data_segments&quot;</span> <span class="Constant">&quot;data_begin&quot;</span> <span class="Constant">&quot;data_end&quot;<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L613" title="ocaml/asmcomp/cmm_helpers.mli:613">code_segment_table</a></span> <span class="ocamlLCIdentifier">namelist</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">segment_table</span> <span class="ocamlLCIdentifier">namelist</span> <span class="Constant">&quot;caml_code_segments&quot;</span> <span class="Constant">&quot;code_begin&quot;</span> <span class="Constant">&quot;code_end&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Initialize <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> predefined exception *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L616" title="ocaml/asmcomp/cmm_helpers.mli:616">predef_exception</a></span> <span class="ocamlLCIdentifier">i</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">name_sym</span> <span class="Statement">=</span> <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">new_const_symbol</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">data_items</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L637" title="ocaml/asmcomp/cmm_helpers.mli:637">emit_string_constant</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">name_sym</span>, <span class="Constant">Local</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Constant">[]<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">exn_sym</span> <span class="Statement">=</span> <span class="Constant">&quot;caml_exn_&quot;</span> <span class="Statement">^</span> <span class="ocamlLCIdentifier"><a href="reg.ml.html#L129" title="ocaml/asmcomp/reg.ml:129">name</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">=</span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">object_tag</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span> <span class="Statement">=</span> <span class="Constant">2</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">fields</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier">name_sym</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">::</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L90" title="ocaml/asmcomp/cmm_helpers.mli:90">cint_const</a></span> <span class="Statement">(</span>-<span class="ocamlLCIdentifier">i</span> - <span class="Constant">1</span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">::</span> <span class="ocamlLCIdentifier">data_items<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">data_items</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">exn_sym</span>, <span class="Constant">Global</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L108" title="ocaml/asmcomp/x86_dsl.ml:108">size</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">fields<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span> <span class="ocamlLCIdentifier">data_items<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Header for <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> plugin *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L618" title="ocaml/asmcomp/cmm_helpers.mli:618">plugin_header</a></span> <span class="ocamlLCIdentifier"><a href="asmlink.ml.html#L237" title="ocaml/asmcomp/asmlink.ml:237">units</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">mk</span> <span class="Statement">((</span><span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span> : <span class="PreProc">Cmx_format</span>.<span class="ocamlLCIdentifier">unit_infos</span><span class="Statement">)</span>,<span class="ocamlLCIdentifier">crc</span><span class="Statement">)</span> : <span class="PreProc">Cmxs_format</span>.<span class="ocamlLCIdentifier">dynunit</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">{</span> <span class="ocamlLCIdentifier">dynu_name</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_name</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">dynu_crc</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">crc</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">dynu_imports_cmi</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_imports_cmi</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">dynu_imports_cmx</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_imports_cmx</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">dynu_defines</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="asmpackager.ml.html#L199" title="ocaml/asmcomp/asmpackager.ml:199">ui</a></span>.<span class="ocamlLCIdentifier">ui_defines<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">global_data</span> <span class="Constant">&quot;caml_plugin_header&quot;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">({</span> <span class="ocamlLCIdentifier">dynu_magic</span> <span class="Statement">=</span> <span class="PreProc">Config</span>.<span class="ocamlLCIdentifier">cmxs_magic_number</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">dynu_units</span> <span class="Statement">=</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="ocamlLCIdentifier">mk</span> <span class="ocamlLCIdentifier"><a href="asmlink.ml.html#L237" title="ocaml/asmcomp/asmlink.ml:237">units</a></span> <span class="Statement">}<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; : <span class="PreProc">Cmxs_format</span>.<span class="ocamlLCIdentifier">dynheader</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* To <a href="strmatch.ml.html#L387" title="ocaml/asmcomp/strmatch.ml:387">compile</a> &quot;let rec&quot; over values *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L653" title="ocaml/asmcomp/cmm_helpers.mli:653">fundecls_size</a></span> <span class="ocamlLCIdentifier">fundecls</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">sz</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">(</span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">iter<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(fun</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> : <span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">ufunction</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">indirect_call_code_pointer_size</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span>.<span class="ocamlLCIdentifier">arity</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">|</span> <span class="Constant">0</span> <span class="Statement">|</span> <span class="Constant">1</span> <span class="Statement">-&gt;</span> <span class="Constant">0<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(* arity 1 does not need an indirect <a href="x86_dsl.ml.html#L121" title="ocaml/asmcomp/x86_dsl.ml:121">call</a> <a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a>.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; arity 0 cannot be indirect called *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">1<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(* For other arities there is an indirect <a href="x86_dsl.ml.html#L121" title="ocaml/asmcomp/x86_dsl.ml:121">call</a> <a href="cmm_invariants.ml.html#L79" title="ocaml/asmcomp/cmm_invariants.ml:79">handler</a>.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if arity &gt;= 2 it is caml_curry...<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if arity &lt; 0 it is caml_tuplify... *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">sz</span> <span class="Statement">:=</span> <span class="Statement">!</span><span class="ocamlLCIdentifier">sz</span> + <span class="Constant">1</span> + <span class="Constant">2</span> + <span class="ocamlLCIdentifier">indirect_call_code_pointer_size</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">fundecls</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">!</span><span class="ocamlLCIdentifier">sz<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Emit <a href="x86_ast.mli.html#L44" title="ocaml/asmcomp/x86_ast.mli:44">constant</a> closures *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L655" title="ocaml/asmcomp/cmm_helpers.mli:655">emit_constant_closure</a></span> <span class="Statement">((_</span>, <span class="ocamlLCIdentifier">global_symb</span><span class="Statement">)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">symb</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">fundecls</span> <span class="ocamlLCIdentifier">clos_vars</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">closure_symbol</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> : <span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">ufunction</span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Config</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">flambda</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L623" title="ocaml/asmcomp/cmm_helpers.mli:623">cdefine_symbol</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span>.<span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span> <span class="Statement">^</span> <span class="Constant">&quot;_closure&quot;</span>, <span class="ocamlLCIdentifier">global_symb</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">[]<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">fundecls</span> : <span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">ufunction</span> <span class="Type">list</span><span class="Statement">)</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">[]</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* This should probably not happen: dead code has normally been<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; eliminated and <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> closure cannot be accessed without going through<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <a href="amd64/selection.ml.html#L43" title="ocaml/asmcomp/amd64/selection.ml:43">a</a> [Project_closure], which depends on the function. *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">assert</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">clos_vars</span> <span class="Statement">=</span> <span class="Constant">[]</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L623" title="ocaml/asmcomp/cmm_helpers.mli:623">cdefine_symbol</a></span> <span class="ocamlLCIdentifier">symb</span> @ <span class="ocamlLCIdentifier">clos_vars</span> @ <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">f1</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">remainder</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L653" title="ocaml/asmcomp/cmm_helpers.mli:653">fundecls_size</a></span> <span class="ocamlLCIdentifier">fundecls</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">emit_others</span> <span class="ocamlLCIdentifier">pos</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">clos_vars</span> @ <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f2</span> : <span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">ufunction</span><span class="Statement">)</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier">rem</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">f2</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">f2</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L51" title="ocaml/asmcomp/cmm_helpers.mli:51">infix_header</a></span> <span class="ocamlLCIdentifier">pos</span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">closure_symbol</span> <span class="ocamlLCIdentifier">f2</span><span class="Statement">)</span> @<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier">f2</span>.<span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L68" title="ocaml/asmcomp/cmm_helpers.mli:68">closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span>:<span class="ocamlLCIdentifier">f2</span>.<span class="ocamlLCIdentifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span>:<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> - <span class="ocamlLCIdentifier">pos</span><span class="Statement">))</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">emit_others</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pos</span> + <span class="Constant">3</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">rem<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L51" title="ocaml/asmcomp/cmm_helpers.mli:51">infix_header</a></span> <span class="ocamlLCIdentifier">pos</span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">closure_symbol</span> <span class="ocamlLCIdentifier">f2</span><span class="Statement">)</span> @<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L337" title="ocaml/asmcomp/cmm_helpers.mli:337">curry_function_sym</a></span> <span class="ocamlLCIdentifier">f2</span>.<span class="ocamlLCIdentifier">arity</span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L68" title="ocaml/asmcomp/cmm_helpers.mli:68">closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span>:<span class="ocamlLCIdentifier">f2</span>.<span class="ocamlLCIdentifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span>:<span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span> - <span class="ocamlLCIdentifier">pos</span><span class="Statement">))</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier">f2</span>.<span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">emit_others</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pos</span> + <span class="Constant">4</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">rem</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L48" title="ocaml/asmcomp/cmm_helpers.mli:48">black_closure_header</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L653" title="ocaml/asmcomp/cmm_helpers.mli:653">fundecls_size</a></span> <span class="ocamlLCIdentifier">fundecls<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; + <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier">clos_vars</span><span class="Statement">))</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L623" title="ocaml/asmcomp/cmm_helpers.mli:623">cdefine_symbol</a></span> <span class="ocamlLCIdentifier">symb</span> @<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">closure_symbol</span> <span class="ocamlLCIdentifier">f1</span><span class="Statement">)</span> @<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">f1</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">f1</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">arity</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier">f1</span>.<span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L68" title="ocaml/asmcomp/cmm_helpers.mli:68">closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span>:<span class="ocamlLCIdentifier">f1</span>.<span class="ocamlLCIdentifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">emit_others</span> <span class="Constant">3</span> <span class="ocamlLCIdentifier">remainder<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L337" title="ocaml/asmcomp/cmm_helpers.mli:337">curry_function_sym</a></span> <span class="ocamlLCIdentifier">f1</span>.<span class="ocamlLCIdentifier">arity</span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L68" title="ocaml/asmcomp/cmm_helpers.mli:68">closure_info</a></span> <span class="Statement">~</span><span class="Identifier">arity</span>:<span class="ocamlLCIdentifier">f1</span>.<span class="ocamlLCIdentifier">arity</span> <span class="Statement">~</span><span class="Identifier"><a href="cmmgen.ml.html#L376" title="ocaml/asmcomp/cmmgen.ml:376">startenv</a></span><span class="Statement">)</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier">f1</span>.<span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">emit_others</span> <span class="Constant">4</span> <span class="ocamlLCIdentifier">remainder<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Build the NULL terminated array of gc roots *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">emit_gc_roots_table</span> <span class="Statement">~</span><span class="Identifier">symbols</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">table_symbol</span> <span class="Statement">=</span> <span class="PreProc">Compilenv</span>.<span class="ocamlLCIdentifier">make_symbol</span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">&quot;gc_roots&quot;</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span><span class="Statement">(</span><span class="Constant">Cglobal_symbol</span> <span class="ocamlLCIdentifier">table_symbol</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cdefine_symbol</span> <span class="ocamlLCIdentifier">table_symbol</span> <span class="Statement">::<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span> <span class="Statement">-&gt;</span> <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="deadcode.ml.html#L60" title="ocaml/asmcomp/deadcode.ml:60">s</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">symbols</span> @<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[</span><span class="Constant">Cint</span> <span class="Constant">0n</span><span class="Statement">])<br/></li>
<li></span>&nbsp; <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Build preallocated blocks (used for Flambda [Initialize_symbol]<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; constructs, and Clambda <a href="x86_dsl.ml.html#L98" title="ocaml/asmcomp/x86_dsl.ml:98">global</a> module) *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">preallocate_block</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">{</span> <span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">symbol</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">exported</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">tag</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">fields</span> <span class="Statement">}</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L109" title="ocaml/asmcomp/x86_dsl.ml:109">space</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* These words will be registered as roots and as such must contain<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; valid values, in case we are in no-naked-pointers <a href="asmlink.ml.html#L324" title="ocaml/asmcomp/asmlink.ml:324">mode</a>.&nbsp; Likewise<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; the block header must be black, below (see [caml_darken]), since<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; the overall record may be referenced. *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">field</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">field</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cint</span> <span class="Statement">(</span><span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">of_int</span> <span class="Constant">1</span> <span class="Comment">(* Val_unit *)</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">(</span><span class="PreProc">Clambda</span>.<span class="Constant">Uconst_field_int</span> <span class="ocamlLCIdentifier">n</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L90" title="ocaml/asmcomp/cmm_helpers.mli:90">cint_const</a></span> <span class="ocamlLCIdentifier">n<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">(</span><span class="PreProc">Clambda</span>.<span class="Constant">Uconst_field_ref</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Csymbol_address</span> <span class="ocamlLCIdentifier"><a href="cmm.ml.html#L110" title="ocaml/asmcomp/cmm.ml:110">label</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">fields<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L98" title="ocaml/asmcomp/x86_dsl.ml:98">global</a></span> <span class="Statement">=</span> <span class="PreProc">Cmmgen_state</span>.<span class="Statement">(if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">exported</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Constant">Global</span> <span class="Statement">else</span> <span class="Constant">Local</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">symb</span> <span class="Statement">=</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">symbol</span>, <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L98" title="ocaml/asmcomp/x86_dsl.ml:98">global</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="emit.mli.html#L19" title="ocaml/asmcomp/emit.mli:19">data</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L629" title="ocaml/asmcomp/cmm_helpers.mli:629">emit_block</a></span> <span class="ocamlLCIdentifier">symb</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L41" title="ocaml/asmcomp/cmm_helpers.mli:41">block_header</a></span> <span class="ocamlLCIdentifier">tag</span> <span class="Statement">(</span><span class="PreProc">List</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier">fields</span><span class="Statement">))</span> <span class="ocamlLCIdentifier"><a href="x86_dsl.ml.html#L109" title="ocaml/asmcomp/x86_dsl.ml:109">space</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cdata</span> <span class="ocamlLCIdentifier"><a href="emit.mli.html#L19" title="ocaml/asmcomp/emit.mli:19">data</a></span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmm_helpers.mli.html#L659" title="ocaml/asmcomp/cmm_helpers.mli:659">emit_preallocated_blocks</a></span> <span class="ocamlLCIdentifier">preallocated_blocks</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">symbols</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="Statement">({</span> <span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">symbol</span> <span class="Statement">}</span>:<span class="PreProc">Clambda</span>.<span class="ocamlLCIdentifier">preallocated_block</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">symbol</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">preallocated_blocks<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">emit_gc_roots_table</span> <span class="Statement">~</span><span class="Identifier">symbols</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1505" title="ocaml/asmcomp/cmmgen.ml:1505">cont</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">fold_left</span> <span class="ocamlLCIdentifier">preallocate_block</span> <span class="ocamlLCIdentifier"><a href="cmmgen.ml.html#L1528" title="ocaml/asmcomp/cmmgen.ml:1528">c1</a></span> <span class="ocamlLCIdentifier">preallocated_blocks<br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
