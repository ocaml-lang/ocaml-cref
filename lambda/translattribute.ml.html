<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/lambda/translattribute.ml - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/lambda/translattribute.ml - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L435">add_function_attributes</a></li>
<li><a href="#L401">check_attribute</a></li>
<li><a href="#L420">check_attribute_on_module</a></li>
<li><a href="#L211">check_local_inline</a></li>
<li><a href="#L219">check_poll_inline</a></li>
<li><a href="#L228">check_poll_local</a></li>
<li><a href="#L49">find_attribute</a></li>
<li><a href="#L104">get_bool_from_exp</a></li>
<li><a href="#L96">get_construct_from_exp</a></li>
<li><a href="#L195">get_inline_attribute</a></li>
<li><a href="#L86">get_int_from_exp</a></li>
<li><a href="#L203">get_local_attribute</a></li>
<li><a href="#L74">get_optional_payload</a></li>
<li><a href="#L68">get_payload</a></li>
<li><a href="#L207">get_poll_attribute</a></li>
<li><a href="#L199">get_specialise_attribute</a></li>
<li><a href="#L20">is_inline_attribute</a></li>
<li><a href="#L24">is_inlined_attribute</a></li>
<li><a href="#L37">is_local_attribute</a></li>
<li><a href="#L45">is_poll_attribute</a></li>
<li><a href="#L29">is_specialise_attribute</a></li>
<li><a href="#L33">is_specialised_attribute</a></li>
<li><a href="#L41">is_tmc_attribute</a></li>
<li><a href="#L63">is_unrolled</a></li>
<li><a href="#L237">lfunction_with_attr</a></li>
<li><a href="#L114">msg</a></li>
<li><a href="#L395">msg</a></li>
<li><a href="#L131">parse_inline_attribute</a></li>
<li><a href="#L169">parse_local_attribute</a></li>
<li><a href="#L183">parse_poll_attribute</a></li>
<li><a href="#L156">parse_specialise_attribute</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Pierre Chambart, OCamlPro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 2015 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This file is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the file LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Typedtree<br/></li>
<li></span><span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Lambda<br/></li>
<li></span><span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Location<br/></li>
<li></span><br/></li>
<li><a id="L20">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_inline_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">)}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L24">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_inlined_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;inlined&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.inlined&quot;</span><span class="Statement">)}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;unrolled&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.unrolled&quot;</span><span class="Statement">)}</span> <span class="Statement">when</span> <span class="PreProc">Config</span>.<span class="ocamlLCIdentifier">flambda</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L29">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_specialise_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;specialise&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.specialise&quot;</span><span class="Statement">)}</span> <span class="Statement">when</span> <span class="PreProc">Config</span>.<span class="ocamlLCIdentifier">flambda</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L33">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_specialised_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;specialised&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.specialised&quot;</span><span class="Statement">)}</span> <span class="Statement">when</span> <span class="PreProc">Config</span>.<span class="ocamlLCIdentifier">flambda</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L37">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_local_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;local&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.local&quot;</span><span class="Statement">)}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L41">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_tmc_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;tail_mod_cons&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.tail_mod_cons&quot;</span><span class="Statement">)}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L45">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_poll_attribute</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;poll&quot;</span><span class="Statement">)}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L49">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">find_attribute</span></span> <span class="ocamlLCIdentifier">p</span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="lambda.mli.html#L220" title="ocaml/lambda/lambda.mli:220">inline_attribute</a></span>, <span class="ocamlLCIdentifier">other_attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">partition</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">a</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">p</span> <span class="ocamlLCIdentifier">a</span>.<span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">attributes<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="lambda.mli.html#L220" title="ocaml/lambda/lambda.mli:220">inline_attribute</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="Constant">None<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">]</span> <span class="Statement">-&gt;</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">::</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">};</span> <span class="Statement">_}</span> <span class="Statement">::</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Duplicated_attribute</span> <span class="ocamlLCIdentifier">txt</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="ocamlLCIdentifier">other_attributes<br/></li>
<li></span><br/></li>
<li><a id="L63">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_unrolled</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=</span><span class="Constant">&quot;unrolled&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.unrolled&quot;</span><span class="Statement">}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=</span><span class="Constant">&quot;<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">|</span><span class="Constant">&quot;inlined&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.inlined&quot;</span><span class="Statement">}</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L68">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_payload</span></span> <span class="ocamlLCIdentifier">get_from_exp</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Parsetree</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">PStr</span> <span class="Statement">[{</span><span class="ocamlLCIdentifier">pstr_desc</span> <span class="Statement">=</span> <span class="Constant">Pstr_eval</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L1144" title="ocaml/lambda/translcore.ml:1144">exp</a></span>, <span class="Constant">[]</span><span class="Statement">)}]</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">get_from_exp</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L1144" title="ocaml/lambda/translcore.ml:1144">exp</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Error</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L74">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_optional_payload</span></span> <span class="ocamlLCIdentifier">get_from_exp</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Parsetree</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">PStr</span> <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Ok</span> <span class="Constant">None<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">other</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="ocamlLCIdentifier"><a href="matching.ml.html#L922" title="ocaml/lambda/matching.ml:922">map</a></span> <span class="PreProc">Option</span>.<span class="ocamlLCIdentifier">some</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L68" title="ocaml/lambda/translattribute.ml:68">get_payload</a></span> <span class="ocamlLCIdentifier">get_from_exp</span> <span class="ocamlLCIdentifier">other</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">get_id_from_exp</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Parsetree</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">pexp_desc</span> <span class="Statement">=</span> <span class="Constant">Pexp_ident</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">txt</span> <span class="Statement">=</span> <span class="PreProc">Longident</span>.<span class="Constant">Lident</span> <span class="ocamlLCIdentifier"><a href="translmod.ml.html#L634" title="ocaml/lambda/translmod.ml:634">id</a></span> <span class="Statement">}</span> <span class="Statement">}</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Ok</span> <span class="ocamlLCIdentifier"><a href="translmod.ml.html#L634" title="ocaml/lambda/translmod.ml:634">id</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Error</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L86">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_int_from_exp</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Parsetree</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">pexp_desc</span> <span class="Statement">=</span> <span class="Constant">Pexp_constant</span> <span class="Statement">(</span><span class="Constant">Pconst_integer</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="translclass.ml.html#L563" title="ocaml/lambda/translclass.ml:563">s</a></span>, <span class="Constant">None</span><span class="Statement">))</span> <span class="Statement">}</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="PreProc">Misc</span><span class="ocamlEnd">.</span><span class="PreProc">Int_literal_converter</span><span class="ocamlEnd">.</span><span class="Type"><a href="translobj.ml.html#L84" title="ocaml/lambda/translobj.ml:84">int</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translclass.ml.html#L563" title="ocaml/lambda/translclass.ml:563">s</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="PreProc">Result</span><span class="ocamlEnd">.</span><span class="Constant">Ok</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">exception</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="Constant">Failure</span><span class="ocamlEnd"> </span><span class="Statement">_)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="PreProc">Result</span><span class="ocamlEnd">.</span><span class="Constant">Error</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Error</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L96">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_construct_from_exp</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement"><a href="matching.ml.html#L419" title="ocaml/lambda/matching.ml:419">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Parsetree</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">pexp_desc</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Pexp_construct</span> <span class="Statement">({</span> <span class="ocamlLCIdentifier">txt</span> <span class="Statement">=</span> <span class="PreProc">Longident</span>.<span class="Constant">Lident</span> <span class="ocamlLCIdentifier">constr</span> <span class="Statement">}</span>, <span class="Constant">None</span><span class="Statement">)</span> <span class="Statement">}</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">Result</span>.<span class="Constant">Ok</span> <span class="ocamlLCIdentifier">constr<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Error</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L104">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_bool_from_exp</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L1144" title="ocaml/lambda/translcore.ml:1144">exp</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Result</span>.<span class="ocamlLCIdentifier"><a href="matching.ml.html#L2350" title="ocaml/lambda/matching.ml:2350">bind</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L96" title="ocaml/lambda/translattribute.ml:96">get_construct_from_exp</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L1144" title="ocaml/lambda/translcore.ml:1144">exp</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(function<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">&quot;true&quot;</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Ok</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">&quot;false&quot;</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Ok</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="PreProc">Result</span>.<span class="Constant">Error</span> <span class="Constant">()</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">parse_id_payload</span> <span class="ocamlLCIdentifier">txt</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">~</span><span class="Identifier">default</span> <span class="Statement">~</span><span class="Identifier"><a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a></span> <span class="ocamlLCIdentifier">cases</span> <span class="ocamlLCIdentifier">payload</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let[</span>@<span class="ocamlLCIdentifier">local</span><span class="Statement">]</span> <span class="ocamlLCIdentifier">warn</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">(</span> %<span class="Statement">&gt;</span> <span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="translmod.ml.html#L1385" title="ocaml/lambda/translmod.ml:1385">f</a></span> <span class="ocamlLCIdentifier">g</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">g</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="translmod.ml.html#L1385" title="ocaml/lambda/translmod.ml:1385">f</a></span> <span class="ocamlLCIdentifier">x</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li><a id="L114">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">msg</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">cases<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|&gt;</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier"><a href="matching.ml.html#L922" title="ocaml/lambda/matching.ml:922">map</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">fst</span> %<span class="Statement">&gt;</span> <span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier">sprintf</span> <span class="Constant">&quot;'%<a href="translclass.ml.html#L563" title="ocaml/lambda/translclass.ml:563">s</a>'&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|&gt;</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier">concat</span> <span class="Constant">&quot;, &quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|&gt;</span> <span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier">sprintf</span> <span class="Constant">&quot;It must be either %<a href="translclass.ml.html#L563" title="ocaml/lambda/translclass.ml:563">s</a> or <a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a>&quot;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Attribute_payload</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">txt</span>, <span class="ocamlLCIdentifier"><a href="#L114" title="ocaml/lambda/translattribute.ml:114">msg</a></span><span class="Statement">));<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">default<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L74" title="ocaml/lambda/translattribute.ml:74">get_optional_payload</a></span> <span class="ocamlLCIdentifier">get_id_from_exp</span> <span class="ocamlLCIdentifier">payload</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Error</span> <span class="Constant">()</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">warn</span> <span class="Constant">()<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ok</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ok</span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="translmod.ml.html#L634" title="ocaml/lambda/translmod.ml:634">id</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">assoc_opt</span> <span class="ocamlLCIdentifier"><a href="translmod.ml.html#L634" title="ocaml/lambda/translmod.ml:634">id</a></span> <span class="ocamlLCIdentifier">cases</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="matching.ml.html#L2555" title="ocaml/lambda/matching.ml:2555">r</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="matching.ml.html#L2555" title="ocaml/lambda/matching.ml:2555">r</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">warn</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L131">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">parse_inline_attribute</span></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="Constant">Default_inline<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="translmod.ml.html#L634" title="ocaml/lambda/translmod.ml:634">id</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">attr_payload</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">payload</span><span class="Statement">}</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L63" title="ocaml/lambda/translattribute.ml:63">is_unrolled</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="translmod.ml.html#L634" title="ocaml/lambda/translmod.ml:634">id</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Comment">(* the 'unrolled' attributes must be used as [@unrolled n]. *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">txt</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Attribute_payload<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="ocamlLCIdentifier">txt</span><span class="ocamlEnd">, </span><span class="Constant">&quot;It must be an integer literal&quot;</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L68" title="ocaml/lambda/translattribute.ml:68">get_payload</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L86" title="ocaml/lambda/translattribute.ml:86">get_int_from_exp</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">payload</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Ok</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">Unroll</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Error</span><span class="ocamlEnd"> </span><span class="Constant">()</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">txt</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Default_inline<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">parse_id_payload</span> <span class="ocamlLCIdentifier">txt</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier">default</span>:<span class="Constant">Default_inline<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier"><a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a></span>:<span class="Constant">Always_inline<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;never&quot;</span>, <span class="Constant">Never_inline</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;always&quot;</span>, <span class="Constant">Always_inline</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;hint&quot;</span>, <span class="Constant">Hint_inline</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">payload<br/></li>
<li></span><br/></li>
<li><a id="L156">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">parse_specialise_attribute</span></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="Constant">Default_specialise<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">};</span> <span class="ocamlLCIdentifier">attr_payload</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">payload</span><span class="Statement">}</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">parse_id_payload</span> <span class="ocamlLCIdentifier">txt</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier">default</span>:<span class="Constant">Default_specialise<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier"><a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a></span>:<span class="Constant">Always_specialise<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;never&quot;</span>, <span class="Constant">Never_specialise</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;always&quot;</span>, <span class="Constant">Always_specialise</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">payload<br/></li>
<li></span><br/></li>
<li><a id="L169">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">parse_local_attribute</span></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="Constant">Default_local<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">};</span> <span class="ocamlLCIdentifier">attr_payload</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">payload</span><span class="Statement">}</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">parse_id_payload</span> <span class="ocamlLCIdentifier">txt</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier">default</span>:<span class="Constant">Default_local<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier"><a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a></span>:<span class="Constant">Always_local<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;never&quot;</span>, <span class="Constant">Never_local</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;always&quot;</span>, <span class="Constant">Always_local</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;maybe&quot;</span>, <span class="Constant">Default_local</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">payload<br/></li>
<li></span><br/></li>
<li><a id="L183">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">parse_poll_attribute</span></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="Constant">Default_poll<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">};</span> <span class="ocamlLCIdentifier">attr_payload</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">payload</span><span class="Statement">}</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">parse_id_payload</span> <span class="ocamlLCIdentifier">txt</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier">default</span>:<span class="Constant">Default_poll<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">~</span><span class="Identifier"><a href="matching.ml.html#L533" title="ocaml/lambda/matching.ml:533">empty</a></span>:<span class="Constant">Default_poll<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">[<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;<a href="translprim.mli.html#L46" title="ocaml/lambda/translprim.mli:46">error</a>&quot;</span>, <span class="Constant">Error_poll</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">]<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">payload<br/></li>
<li></span><br/></li>
<li><a id="L195">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_inline_attribute</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L20" title="ocaml/lambda/translattribute.ml:20">is_inline_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L131" title="ocaml/lambda/translattribute.ml:131">parse_inline_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span><br/></li>
<li><a id="L199">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_specialise_attribute</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L29" title="ocaml/lambda/translattribute.ml:29">is_specialise_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L156" title="ocaml/lambda/translattribute.ml:156">parse_specialise_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span><br/></li>
<li><a id="L203">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_local_attribute</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/lambda/translattribute.ml:37">is_local_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L169" title="ocaml/lambda/translattribute.ml:169">parse_local_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span><br/></li>
<li><a id="L207">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_poll_attribute</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L45" title="ocaml/lambda/translattribute.ml:45">is_poll_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L708" title="ocaml/lambda/translcore.ml:708">l</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L183" title="ocaml/lambda/translattribute.ml:183">parse_poll_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span><br/></li>
<li><a id="L211">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_local_inline</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>.<span class="ocamlLCIdentifier">local</span>, <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>.<span class="ocamlLCIdentifier"><a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Always_local</span>, <span class="Statement">(</span><span class="Constant">Always_inline</span> <span class="Statement">|</span> <span class="Constant">Hint_inline</span> <span class="Statement">|</span> <span class="Constant">Unroll</span> <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Duplicated_attribute</span> <span class="Constant">&quot;local/<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L219">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_poll_inline</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>.<span class="ocamlLCIdentifier">poll</span>, <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>.<span class="ocamlLCIdentifier"><a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Error_poll</span>, <span class="Statement">(</span><span class="Constant">Always_inline</span> <span class="Statement">|</span> <span class="Constant">Hint_inline</span> <span class="Statement">|</span> <span class="Constant">Unroll</span> <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Inlining_impossible<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;[@poll <a href="translprim.mli.html#L46" title="ocaml/lambda/translprim.mli:46">error</a>] is incompatible with inlining&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L228">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_poll_local</span></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>.<span class="ocamlLCIdentifier">poll</span>, <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>.<span class="ocamlLCIdentifier">local</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Error_poll</span>, <span class="Constant">Always_local</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Inlining_impossible<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">&quot;[@poll <a href="translprim.mli.html#L46" title="ocaml/lambda/translprim.mli:46">error</a>] is incompatible with local function optimization&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L237">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">lfunction_with_attr</span></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">{</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L383" title="ocaml/lambda/translcore.ml:383">kind</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translprim.ml.html#L784" title="ocaml/lambda/translprim.ml:784">params</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier">return</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L601" title="ocaml/lambda/translcore.ml:601">body</a></span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">=_;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">}</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="translclass.ml.html#L30" title="ocaml/lambda/translclass.ml:30">lfunction</a></span> <span class="Statement">~</span><span class="Identifier"><a href="translcore.ml.html#L383" title="ocaml/lambda/translcore.ml:383">kind</a></span> <span class="Statement">~</span><span class="Identifier"><a href="translprim.ml.html#L784" title="ocaml/lambda/translprim.ml:784">params</a></span> <span class="Statement">~</span><span class="Identifier">return</span> <span class="Statement">~</span><span class="Identifier"><a href="translcore.ml.html#L601" title="ocaml/lambda/translcore.ml:601">body</a></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">~</span><span class="Identifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L26" title="ocaml/lambda/translattribute.mli:26">add_inline_attribute</a></span> <span class="ocamlLCIdentifier">expr</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">expr</span>, <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L32" title="ocaml/lambda/translattribute.mli:32">get_inline_attribute</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Constant">Default_inline</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">expr<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lfunction</span><span class="Statement">({</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">stub</span> <span class="Statement">=</span> <span class="Constant">false</span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">funct</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Default_inline</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Always_inline</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Hint_inline</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Never_inline</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Unroll</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Duplicated_attribute</span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with</span> <span class="ocamlLCIdentifier"><a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a></span> <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L211" title="ocaml/lambda/translattribute.ml:211">check_local_inline</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L219" title="ocaml/lambda/translattribute.ml:219">check_poll_inline</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L237" title="ocaml/lambda/translattribute.ml:237">lfunction_with_attr</a></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="ocamlLCIdentifier">funct<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Statement">(</span><span class="Constant">Always_inline</span> <span class="Statement">|</span> <span class="Constant">Hint_inline</span> <span class="Statement">|</span> <span class="Constant">Never_inline</span> <span class="Statement">|</span> <span class="Constant">Unroll</span> <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="Constant">&quot;<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">expr<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L36" title="ocaml/lambda/translattribute.mli:36">add_specialise_attribute</a></span> <span class="ocamlLCIdentifier">expr</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">expr</span>, <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L42" title="ocaml/lambda/translattribute.mli:42">get_specialise_attribute</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Constant">Default_specialise</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">expr<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lfunction</span><span class="Statement">({</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">stub</span> <span class="Statement">=</span> <span class="Constant">false</span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">funct</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier">specialise</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">specialise</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Default_specialise</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Always_specialise</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Never_specialise</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Duplicated_attribute</span><span class="ocamlEnd"> </span><span class="Constant">&quot;specialise&quot;</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">specialise</span> <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L237" title="ocaml/lambda/translattribute.ml:237">lfunction_with_attr</a></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="ocamlLCIdentifier">funct<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Statement">(</span><span class="Constant">Always_specialise</span> <span class="Statement">|</span> <span class="Constant">Never_specialise</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="Constant">&quot;specialise&quot;</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">expr<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L46" title="ocaml/lambda/translattribute.mli:46">add_local_attribute</a></span> <span class="ocamlLCIdentifier">expr</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">expr</span>, <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L52" title="ocaml/lambda/translattribute.mli:52">get_local_attribute</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Constant">Default_local</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">expr<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lfunction</span><span class="Statement">({</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">stub</span> <span class="Statement">=</span> <span class="Constant">false</span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">funct</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier">local</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">local</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Default_local</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Always_local</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Never_local</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Duplicated_attribute</span><span class="ocamlEnd"> </span><span class="Constant">&quot;local&quot;</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">local</span> <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L211" title="ocaml/lambda/translattribute.ml:211">check_local_inline</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L228" title="ocaml/lambda/translattribute.ml:228">check_poll_local</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L237" title="ocaml/lambda/translattribute.ml:237">lfunction_with_attr</a></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="ocamlLCIdentifier">funct<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Statement">(</span><span class="Constant">Always_local</span> <span class="Statement">|</span> <span class="Constant">Never_local</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="Constant">&quot;local&quot;</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">expr<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">add_tmc_attribute</span> <span class="ocamlLCIdentifier">expr</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L41" title="ocaml/lambda/translattribute.ml:41">is_tmc_attribute</a></span> <span class="ocamlLCIdentifier">a</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L41" title="ocaml/lambda/translattribute.ml:41">is_tmc_attribute</a></span> <span class="ocamlLCIdentifier">a</span>.<span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">List</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">exists</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L41" title="ocaml/lambda/translattribute.ml:41">is_tmc_attribute</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">attributes</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">expr</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Lfunction</span> <span class="ocamlLCIdentifier">funct</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">funct</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">tmc_candidate</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Duplicated_attribute</span> <span class="Constant">&quot;tail_mod_cons&quot;</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">funct</span>.<span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">tmc_candidate</span> <span class="Statement">=</span> <span class="Constant">true</span> <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L237" title="ocaml/lambda/translattribute.ml:237">lfunction_with_attr</a></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="ocamlLCIdentifier">funct<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="Constant">&quot;tail_mod_cons&quot;</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">expr<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">expr<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">add_poll_attribute</span> <span class="ocamlLCIdentifier">expr</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">expr</span>, <span class="ocamlLCIdentifier"><a href="#L207" title="ocaml/lambda/translattribute.ml:207">get_poll_attribute</a></span> <span class="ocamlLCIdentifier">attributes</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Constant">Default_poll</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">expr<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lfunction</span><span class="Statement">({</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">stub</span> <span class="Statement">=</span> <span class="Constant">false</span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">}</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">funct</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier">poll</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">poll</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Default_poll</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Error_poll</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Duplicated_attribute</span><span class="ocamlEnd"> </span><span class="Constant">&quot;error_poll&quot;</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">poll</span> <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L219" title="ocaml/lambda/translattribute.ml:219">check_poll_inline</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L228" title="ocaml/lambda/translattribute.ml:228">check_poll_local</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with</span> <span class="ocamlLCIdentifier"><a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a></span> <span class="Statement">=</span> <span class="Constant">Never_inline</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">local</span> <span class="Statement">=</span> <span class="Constant">Never_local</span> <span class="Statement">}</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L237" title="ocaml/lambda/translattribute.ml:237">lfunction_with_attr</a></span> <span class="Statement">~</span><span class="Identifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="ocamlLCIdentifier">funct<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">expr</span>, <span class="Constant">Error_poll</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="Constant">&quot;error_poll&quot;</span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">expr<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Get the [@inlined] attribute payload (or default if not present).<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; It also returns the expression without this attribute. This is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; used to ensure that this attribute is not misplaced: If it<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; appears on any expression, it is an <a href="translprim.mli.html#L46" title="ocaml/lambda/translprim.mli:46">error</a>, otherwise it would<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; have been removed by this function *)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L56" title="ocaml/lambda/translattribute.mli:56">get_and_remove_inlined_attribute</a></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="ocamlLCIdentifier">exp_attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L24" title="ocaml/lambda/translattribute.ml:24">is_inlined_attribute</a></span> <span class="ocamlLCIdentifier">e</span>.<span class="ocamlLCIdentifier">exp_attributes<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">inlined</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L131" title="ocaml/lambda/translattribute.ml:131">parse_inline_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">inlined</span>, <span class="Statement">{</span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">exp_attributes</span> <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L60" title="ocaml/lambda/translattribute.mli:60">get_and_remove_inlined_attribute_on_module</a></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">get_and_remove</span> <span class="ocamlLCIdentifier">mod_expr</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="ocamlLCIdentifier">mod_attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L24" title="ocaml/lambda/translattribute.ml:24">is_inlined_attribute</a></span> <span class="ocamlLCIdentifier">mod_expr</span>.<span class="ocamlLCIdentifier">mod_attributes<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L131" title="ocaml/lambda/translattribute.ml:131">parse_inline_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="ocamlLCIdentifier">mod_desc</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">mod_expr</span>.<span class="PreProc">Typedtree</span>.<span class="ocamlLCIdentifier">mod_desc</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Tmod_constraint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">me</span>, <span class="ocamlLCIdentifier">mt</span>, <span class="ocamlLCIdentifier">mtc</span>, <span class="ocamlLCIdentifier">mc</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">inner_attr</span>, <span class="ocamlLCIdentifier">me</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">get_and_remove</span> <span class="ocamlLCIdentifier">me</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Always_inline</span> <span class="Statement">|</span> <span class="Constant">Hint_inline</span> <span class="Statement">|</span> <span class="Constant">Never_inline</span> <span class="Statement">|</span> <span class="Constant">Unroll</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Default_inline</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">inner_attr<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="Constant">Tmod_constraint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">me</span>, <span class="ocamlLCIdentifier">mt</span>, <span class="ocamlLCIdentifier">mtc</span>, <span class="ocamlLCIdentifier">mc</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">md</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="ocamlLCIdentifier">md<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="Statement">{</span> <span class="ocamlLCIdentifier">mod_expr</span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">mod_desc</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">mod_attributes</span> <span class="Statement">}<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">get_and_remove</span> <span class="ocamlLCIdentifier">e<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L64" title="ocaml/lambda/translattribute.mli:64">get_and_remove_specialised_attribute</a></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span>, <span class="ocamlLCIdentifier">exp_attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/lambda/translattribute.ml:49">find_attribute</a></span> <span class="ocamlLCIdentifier"><a href="#L33" title="ocaml/lambda/translattribute.ml:33">is_specialised_attribute</a></span> <span class="ocamlLCIdentifier">e</span>.<span class="ocamlLCIdentifier">exp_attributes<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">specialised</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L156" title="ocaml/lambda/translattribute.ml:156">parse_specialise_attribute</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">specialised</span>, <span class="Statement">{</span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">exp_attributes</span> <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* It also removes the attribute from the expression, like<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; get_inlined_attribute *)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L68" title="ocaml/lambda/translattribute.mli:68">get_tailcall_attribute</a></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">is_tailcall_attribute</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">=(</span><span class="Constant">&quot;tailcall&quot;</span><span class="Statement">|</span><span class="Constant">&quot;ocaml.tailcall&quot;</span><span class="Statement">)};</span> <span class="Statement">_}</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">tailcalls</span>, <span class="ocamlLCIdentifier">other_attributes</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">partition</span> <span class="ocamlLCIdentifier">is_tailcall_attribute</span> <span class="ocamlLCIdentifier">e</span>.<span class="ocamlLCIdentifier">exp_attributes<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="lambda.mli.html#L214" title="ocaml/lambda/lambda.mli:214">tailcall_attribute</a></span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">tailcalls</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="Constant">Default_tailcall<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">};</span> <span class="ocamlLCIdentifier">attr_payload</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">payload</span><span class="Statement">}</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="matching.ml.html#L2555" title="ocaml/lambda/matching.ml:2555">r</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="matching.ml.html#L2555" title="ocaml/lambda/matching.ml:2555">r</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">[]</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">{</span><span class="PreProc">Parsetree</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">attr_name</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">{</span><span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="Statement">};</span><span class="ocamlEnd"> </span><span class="Statement">_}</span><span class="ocamlEnd"> </span><span class="Statement">::</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Duplicated_attribute</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">txt</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L74" title="ocaml/lambda/translattribute.ml:74">get_optional_payload</a></span> <span class="ocamlLCIdentifier"><a href="#L104" title="ocaml/lambda/translattribute.ml:104">get_bool_from_exp</a></span> <span class="ocamlLCIdentifier">payload</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Ok</span> <span class="Statement">(</span><span class="Constant">None</span> <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Constant">true</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Constant">Tailcall_expectation</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Ok</span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">false</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Constant">Tailcall_expectation</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Error</span> <span class="Constant">()</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L395">&#x200c;</a></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">msg</span></span> <span class="Statement">=</span> <span class="Constant">&quot;Only an optional boolean literal is supported.&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Attribute_payload</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">txt</span>, <span class="ocamlLCIdentifier"><a href="#L114" title="ocaml/lambda/translattribute.ml:114">msg</a></span><span class="Statement">));<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Default_tailcall<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="lambda.mli.html#L214" title="ocaml/lambda/lambda.mli:214">tailcall_attribute</a></span>, <span class="Statement">{</span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">with</span> <span class="ocamlLCIdentifier">exp_attributes</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">other_attributes</span> <span class="Statement">}<br/></li>
<li></span><br/></li>
<li><a id="L401">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_attribute</span></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">};</span> <span class="Statement">_}</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">txt</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;specialise&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.specialise&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;poll&quot;</span> <span class="Statement">-&gt;</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">e</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">exp_desc</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Texp_function</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Misplaced_attribute</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">txt</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;inlined&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.inlined&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;specialised&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.specialised&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;tailcall&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.tailcall&quot;</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* Removed by the Texp_apply cases *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="ocamlLCIdentifier">txt</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L420">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_attribute_on_module</span></span> <span class="ocamlLCIdentifier">e</span> <span class="Statement">{</span><span class="PreProc">Parsetree</span>.<span class="ocamlLCIdentifier">attr_name</span> <span class="Statement">=</span> <span class="Statement">{</span> <span class="ocamlLCIdentifier">txt</span><span class="Statement">;</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="Statement">};</span> <span class="Statement">_}</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">txt</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.<a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a>&quot;</span> <span class="Statement">-&gt;</span>&nbsp; <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">e</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">mod_desc</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Tmod_functor</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Location</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">prerr_warning</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="PreProc">Warnings</span><span class="ocamlEnd">.</span><span class="Constant">Misplaced_attribute</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">txt</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;inlined&quot;</span> <span class="Statement">|</span> <span class="Constant">&quot;ocaml.inlined&quot;</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* Removed by the Texp_apply cases *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Location</span>.<span class="ocamlLCIdentifier">prerr_warning</span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Warnings</span>.<span class="Constant">Misplaced_attribute</span> <span class="ocamlLCIdentifier">txt</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L435">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">add_function_attributes</span></span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L26" title="ocaml/lambda/translattribute.mli:26">add_inline_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L36" title="ocaml/lambda/translattribute.mli:36">add_specialise_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="translattribute.mli.html#L46" title="ocaml/lambda/translattribute.mli:46">add_local_attribute</a></span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">add_tmc_attribute</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* <a href="matching.ml.html#L2491" title="ocaml/lambda/matching.ml:2491">last</a> because poll overrides <a href="debuginfo.ml.html#L180" title="ocaml/lambda/debuginfo.ml:180">inline</a> and local *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">add_poll_attribute</span> <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a></span> <span class="ocamlLCIdentifier"><a href="translcore.ml.html#L62" title="ocaml/lambda/translcore.ml:62">loc</a></span> <span class="ocamlLCIdentifier"><a href="simplif.ml.html#L760" title="ocaml/lambda/simplif.ml:760">attr</a><br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="translobj.ml.html#L145" title="ocaml/lambda/translobj.ml:145">lam</a><br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
