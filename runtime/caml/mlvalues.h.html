<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/runtime/caml/mlvalues.h - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

  <h1>ocaml/runtime/caml/mlvalues.h - ocaml</h1>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L64">atomic_value</a></li>
<li><a href="#L67">code_t</a></li>
<li><a href="#L62">color_t</a></li>
<li><a href="#L58">header_t</a></li>
<li><a href="#L63">mark_t</a></li>
<li><a href="#L60">mlsize_t</a></li>
<li><a href="#L66">opcode_t</a></li>
<li><a href="#L59">reserved_t</a></li>
<li><a href="#L61">tag_t</a></li>
<li><a href="#L57">value</a></li>
<li><a href="#L65">value_ptr</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L376">Double_field</a></li>
<li><a href="#L268">Ptr_val</a></li>
<li><a href="#L383">Store_double_field</a></li>
<li><a href="#L263">Val_ptr</a></li>
</ul>
 <h2>Macros defined</h2>
 <ul class="toc">
<li><a href="#L324">Abstract_tag</a></li>
<li><a href="#L284">Arity_closinfo</a></li>
<li><a href="#L289">Arity_closinfo</a></li>
<li><a href="#L419">Atom</a></li>
<li><a href="#L184">Bhsize_bosize</a></li>
<li><a href="#L194">Bhsize_hd</a></li>
<li><a href="#L193">Bhsize_hp</a></li>
<li><a href="#L183">Bhsize_wosize</a></li>
<li><a href="#L424">Bool_val</a></li>
<li><a href="#L187">Bosize_bp</a></li>
<li><a href="#L188">Bosize_hd</a></li>
<li><a href="#L186">Bosize_op</a></li>
<li><a href="#L185">Bosize_val</a></li>
<li><a href="#L169">Bp_hp</a></li>
<li><a href="#L312">Bp_val</a></li>
<li><a href="#L181">Bsize_wsize</a></li>
<li><a href="#L315">Byte</a></li>
<li><a href="#L316">Byte_u</a></li>
<li><a href="#L330">Bytes_val</a></li>
<li><a href="#L17">CAML_MLVALUES_H</a></li>
<li><a href="#L456">Caml_out_of_heap_header</a></li>
<li><a href="#L449">Caml_out_of_heap_header_with_reserved</a></li>
<li><a href="#L254">Class_val</a></li>
<li><a href="#L135">Cleanhd_hd</a></li>
<li><a href="#L277">Closinfo_val</a></li>
<li><a href="#L275">Closure_tag</a></li>
<li><a href="#L276">Code_val</a></li>
<li><a href="#L153">Color_hd</a></li>
<li><a href="#L160">Color_val</a></li>
<li><a href="#L300">Cont_tag</a></li>
<li><a href="#L401">Custom_tag</a></li>
<li><a href="#L325">Data_abstract_val</a></li>
<li><a href="#L402">Data_custom_val</a></li>
<li><a href="#L362">Double_array_field</a></li>
<li><a href="#L365">Double_array_field</a></li>
<li><a href="#L349">Double_array_tag</a></li>
<li><a href="#L373">Double_field</a></li>
<li><a href="#L353">Double_flat_field</a></li>
<li><a href="#L336">Double_tag</a></li>
<li><a href="#L339">Double_val</a></li>
<li><a href="#L344">Double_val</a></li>
<li><a href="#L337">Double_wosize</a></li>
<li><a href="#L91">Extract_exception</a></li>
<li><a href="#L228">Field</a></li>
<li><a href="#L304">Forcing_tag</a></li>
<li><a href="#L239">Forward_tag</a></li>
<li><a href="#L240">Forward_val</a></li>
<li><a href="#L113">HEADER_BITS</a></li>
<li><a href="#L118">HEADER_COLOR_BITS</a></li>
<li><a href="#L120">HEADER_COLOR_MASK</a></li>
<li><a href="#L119">HEADER_COLOR_SHIFT</a></li>
<li><a href="#L140">HEADER_RESERVED_SHIFT</a></li>
<li><a href="#L115">HEADER_TAG_BITS</a></li>
<li><a href="#L116">HEADER_TAG_MASK</a></li>
<li><a href="#L123">HEADER_WOSIZE_BITS</a></li>
<li><a href="#L126">HEADER_WOSIZE_MASK</a></li>
<li><a href="#L125">HEADER_WOSIZE_SHIFT</a></li>
<li><a href="#L162">Hd_hp</a></li>
<li><a href="#L142">Hd_reserved</a></li>
<li><a href="#L147">Hd_reserved</a></li>
<li><a href="#L157">Hd_val</a></li>
<li><a href="#L154">Hd_with_color</a></li>
<li><a href="#L130">Hd_with_tag</a></li>
<li><a href="#L156">Hp_atomic_val</a></li>
<li><a href="#L165">Hp_bp</a></li>
<li><a href="#L164">Hp_op</a></li>
<li><a href="#L163">Hp_val</a></li>
<li><a href="#L249">Infix_offset_hd</a></li>
<li><a href="#L250">Infix_offset_val</a></li>
<li><a href="#L248">Infix_tag</a></li>
<li><a href="#L407">Int32_val</a></li>
<li><a href="#L410">Int64_val</a></li>
<li><a href="#L413">Int64_val</a></li>
<li><a href="#L82">Int_val</a></li>
<li><a href="#L73">Is_block</a></li>
<li><a href="#L90">Is_exception_result</a></li>
<li><a href="#L72">Is_long</a></li>
<li><a href="#L442">Is_none</a></li>
<li><a href="#L443">Is_some</a></li>
<li><a href="#L297">Lazy_tag</a></li>
<li><a href="#L78">Long_val</a></li>
<li><a href="#L286">Make_closinfo</a></li>
<li><a href="#L291">Make_closinfo</a></li>
<li><a href="#L89">Make_exception_result</a></li>
<li><a href="#L79">Max_long</a></li>
<li><a href="#L172">Max_wosize</a></li>
<li><a href="#L80">Min_long</a></li>
<li><a href="#L408">Nativeint_val</a></li>
<li><a href="#L219">No_scan_tag</a></li>
<li><a href="#L171">Num_tags</a></li>
<li><a href="#L253">Object_tag</a></li>
<li><a href="#L255">Oid_val</a></li>
<li><a href="#L226">Op_atomic_val</a></li>
<li><a href="#L168">Op_hp</a></li>
<li><a href="#L225">Op_val</a></li>
<li><a href="#L141">Reserved_hd</a></li>
<li><a href="#L146">Reserved_hd</a></li>
<li><a href="#L196">Reserved_val</a></li>
<li><a href="#L440">Some_val</a></li>
<li><a href="#L285">Start_env_closinfo</a></li>
<li><a href="#L290">Start_env_closinfo</a></li>
<li><a href="#L363">Store_double_array_field</a></li>
<li><a href="#L367">Store_double_array_field</a></li>
<li><a href="#L374">Store_double_field</a></li>
<li><a href="#L354">Store_double_flat_field</a></li>
<li><a href="#L340">Store_double_val</a></li>
<li><a href="#L345">Store_double_val</a></li>
<li><a href="#L328">String_tag</a></li>
<li><a href="#L329">String_val</a></li>
<li><a href="#L435">Tag_cons</a></li>
<li><a href="#L129">Tag_hd</a></li>
<li><a href="#L201">Tag_hp</a></li>
<li><a href="#L206">Tag_hp</a></li>
<li><a href="#L441">Tag_some</a></li>
<li><a href="#L199">Tag_val</a></li>
<li><a href="#L204">Tag_val</a></li>
<li><a href="#L210">Unsafe_store_tag_val</a></li>
<li><a href="#L84">Unsigned_int_val</a></li>
<li><a href="#L83">Unsigned_long_val</a></li>
<li><a href="#L423">Val_bool</a></li>
<li><a href="#L313">Val_bp</a></li>
<li><a href="#L434">Val_emptylist</a></li>
<li><a href="#L425">Val_false</a></li>
<li><a href="#L167">Val_hp</a></li>
<li><a href="#L81">Val_int</a></li>
<li><a href="#L77">Val_long</a></li>
<li><a href="#L439">Val_none</a></li>
<li><a href="#L427">Val_not</a></li>
<li><a href="#L166">Val_op</a></li>
<li><a href="#L426">Val_true</a></li>
<li><a href="#L431">Val_unit</a></li>
<li><a href="#L191">Whsize_bp</a></li>
<li><a href="#L192">Whsize_hd</a></li>
<li><a href="#L189">Whsize_hp</a></li>
<li><a href="#L190">Whsize_val</a></li>
<li><a href="#L178">Whsize_wosize</a></li>
<li><a href="#L180">Wosize_bhsize</a></li>
<li><a href="#L176">Wosize_bp</a></li>
<li><a href="#L131">Wosize_hd</a></li>
<li><a href="#L177">Wosize_hp</a></li>
<li><a href="#L175">Wosize_op</a></li>
<li><a href="#L174">Wosize_val</a></li>
<li><a href="#L179">Wosize_whsize</a></li>
<li><a href="#L182">Wsize_bsize</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">/**************************************************************************/<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Xavier Leroy <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> Damien Doligez, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; Copyright 1996 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; All rights reserved.&nbsp; This file is distributed under the terms of&nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; special exception on linking described in the file LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/**************************************************************************/<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifndef <a href="#L17" title="ocaml/runtime/caml/mlvalues.h:17">CAML_MLVALUES_H</a><br/></li>
<li><a id="L17">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">CAML_MLVALUES_H</span><br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;config.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;misc.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifdef __cplusplus<br/></li>
<li></span><span class="Type">extern</span> <span class="Constant">&quot;C&quot;</span> {<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Definitions<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; word: Four bytes on 32 <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> 16 bit architectures,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; eight bytes on 64 bit architectures.<br/></li>
<li></span><span class="Comment">&nbsp; long: <a href="../shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a> C integer having the same number of bytes as a word.<br/></li>
<li></span><span class="Comment">&nbsp; val: The ML representation of something.&nbsp; <a href="../shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a> long <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a> a block <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a> a pointer<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; outside the heap.&nbsp; If it is a block, it is the (encoded) address<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; of an object.&nbsp; If it is a long, it is encoded as well.<br/></li>
<li></span><span class="Comment">&nbsp; block: Something allocated.&nbsp; It always has a header <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> some<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fields <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a> some number of bytes (a multiple of the word size).<br/></li>
<li></span><span class="Comment">&nbsp; field: <a href="../shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a> word-sized val which is part of a block.<br/></li>
<li></span><span class="Comment">&nbsp; bp: Pointer to the first byte of a block.&nbsp; (a char *)<br/></li>
<li></span><span class="Comment">&nbsp; op: Pointer to the first field of a block.&nbsp; (a <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> *)<br/></li>
<li></span><span class="Comment">&nbsp; hp: Pointer to the header of a block.&nbsp; (a char *)<br/></li>
<li></span><span class="Comment">&nbsp; <a href="config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a>: Four bytes on all architectures.<br/></li>
<li></span><span class="Comment">&nbsp; <a href="config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a>: Eight bytes on all architectures.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; Remark: <a href="../shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a> block size is always a multiple of the word size, <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> at least<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; one word plus the header.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; bosize: Size (in bytes) of the &quot;bytes&quot; part.<br/></li>
<li></span><span class="Comment">&nbsp; wosize: Size (in words) of the &quot;fields&quot; part.<br/></li>
<li></span><span class="Comment">&nbsp; bhsize: Size (in bytes) of the block with its header.<br/></li>
<li></span><span class="Comment">&nbsp; whsize: Size (in words) of the block with its header.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; hd: <a href="../shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a> header.<br/></li>
<li></span><span class="Comment">&nbsp; tag: The <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> of the tag field of the header.<br/></li>
<li></span><span class="Comment">&nbsp; color: The <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> of the color field of the header.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; This is for use only by the GC.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><a id="L57">&#x200c;</a><span class="Type">typedef</span> <a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">value</span>;<br/></li>
<li><a id="L58">&#x200c;</a><span class="Type">typedef</span> <a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">header_t</span>;<br/></li>
<li><a id="L59">&#x200c;</a><span class="Type">typedef</span> <a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a> <span class="linkable">reserved_t</span>;<br/></li>
<li><a id="L60">&#x200c;</a><span class="Type">typedef</span> <a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">mlsize_t</span>;<br/></li>
<li><a id="L61">&#x200c;</a><span class="Type">typedef</span> <span class="Type">unsigned</span> <span class="Type">int</span> <span class="linkable">tag_t</span>;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* Actually, an unsigned char */<br/></li>
<li><a id="L62">&#x200c;</a></span><span class="Type">typedef</span> <a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">color_t</span>;<br/></li>
<li><a id="L63">&#x200c;</a><span class="Type">typedef</span> <a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">mark_t</span>;<br/></li>
<li><a id="L64">&#x200c;</a><span class="Type">typedef</span> <a href="camlatomic.h.html#L33" title="ocaml/runtime/caml/camlatomic.h:33">atomic_intnat</a> <span class="linkable">atomic_value</span>;<br/></li>
<li><a id="L65">&#x200c;</a><span class="Type">typedef</span> <span class="Type">volatile</span> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> * <span class="linkable">value_ptr</span>;<br/></li>
<li><a id="L66">&#x200c;</a><span class="Type">typedef</span> <span class="Type"><a href="config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> <span class="linkable">opcode_t</span>;<br/></li>
<li><a id="L67">&#x200c;</a><span class="Type">typedef</span> <a href="#L66" title="ocaml/runtime/caml/mlvalues.h:66">opcode_t</a> * <span class="linkable">code_t</span>;<br/></li>
<li><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&quot;domain_state.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Longs vs blocks. */<br/></li>
<li><a id="L72">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Is_long</span>(x)&nbsp;&nbsp; (((x) &amp; </span><span class="Constant">1</span><span class="PreProc">) != </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L73">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Is_block</span>(x)&nbsp; (((x) &amp; </span><span class="Constant">1</span><span class="PreProc">) == </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Conversion macro names are always of the form&nbsp; &quot;to_from&quot;. */<br/></li>
<li></span><span class="Comment">/* Example: <a href="#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a> as in &quot;Val from long&quot; <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a> &quot;Val of long&quot;. */<br/></li>
<li><a id="L77">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_long</span>(x)&nbsp; &nbsp;&nbsp; ((<a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) (((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(x) &lt;&lt; </span><span class="Constant">1</span><span class="PreProc">)) + </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L78">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Long_val</span>(x)&nbsp; &nbsp;&nbsp; ((x) &gt;&gt; </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L79">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Max_long</span> (((<a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)</span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; (</span><span class="Constant">8</span><span class="PreProc"> * </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) - </span><span class="Constant">2</span><span class="PreProc">)) - </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L80">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Min_long</span> (-((<a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)</span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; (</span><span class="Constant">8</span><span class="PreProc"> * </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) - </span><span class="Constant">2</span><span class="PreProc">)))<br/></li>
<li><a id="L81">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_int</span>(x) <a href="#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a>(x)<br/></li>
<li><a id="L82">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Int_val</span>(x) ((</span><span class="Type">int</span><span class="PreProc">) <a href="#L78" title="ocaml/runtime/caml/mlvalues.h:78">Long_val</a>(x))<br/></li>
<li><a id="L83">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Unsigned_long_val</span>(x) ((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(x) &gt;&gt; </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L84">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Unsigned_int_val</span>(x)&nbsp; ((</span><span class="Type">int</span><span class="PreProc">) <a href="#L83" title="ocaml/runtime/caml/mlvalues.h:83">Unsigned_long_val</a>(x))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Encoded exceptional return values, when functions are suffixed with<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; _exn. Encoded exceptions are invalid values <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> must not be seen<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; by the garbage collector. */<br/></li>
<li><a id="L89">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Make_exception_result</span>(v) ((v) | </span><span class="Constant">2</span><span class="PreProc">)<br/></li>
<li><a id="L90">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Is_exception_result</span>(v) (((v) &amp; </span><span class="Constant">3</span><span class="PreProc">) == </span><span class="Constant">2</span><span class="PreProc">)<br/></li>
<li><a id="L91">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Extract_exception</span>(v) ((v) &amp; ~</span><span class="Constant">3</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Structure of the header:<br/></li>
<li></span><br/></li>
<li><span class="Comment">For 16-bit <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> 32-bit architectures:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; +--------+-------+-----+<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; | wosize | color | tag |<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; +--------+-------+-----+<br/></li>
<li></span><span class="Comment">bits&nbsp; 31&nbsp; &nbsp; 10 9&nbsp; &nbsp;&nbsp; 8 7&nbsp;&nbsp; 0<br/></li>
<li></span><br/></li>
<li><span class="Comment">For 64-bit architectures:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; +----------+--------+-------+-----+<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; | reserved | wosize | color | tag |<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; +----------+--------+-------+-----+<br/></li>
<li></span><span class="Comment">bits&nbsp; 63&nbsp; &nbsp; 64-R 63-R&nbsp; 10 9&nbsp; &nbsp;&nbsp; 8 7&nbsp;&nbsp; 0<br/></li>
<li></span><br/></li>
<li><span class="Comment">where 0 &lt;= R &lt;= 31 is HEADER_RESERVED_BITS, set with the<br/></li>
<li></span><span class="Comment">--enable-reserved-header-bits=R argument to configure.<br/></li>
<li></span><br/></li>
<li><span class="Comment">*/<br/></li>
<li></span><br/></li>
<li><a id="L113">&#x200c;</a><span class="PreProc">#define <span class="linkable">HEADER_BITS</span> (</span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>) * </span><span class="Constant">CHAR_BIT</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><a id="L115">&#x200c;</a><span class="PreProc">#define <span class="linkable">HEADER_TAG_BITS</span> </span><span class="Constant">8<br/></li>
<li><a id="L116">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">HEADER_TAG_MASK</span> ((</span><span class="Constant">1ull</span><span class="PreProc"> &lt;&lt; <a href="#L115" title="ocaml/runtime/caml/mlvalues.h:115">HEADER_TAG_BITS</a>) - </span><span class="Constant">1ull</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><a id="L118">&#x200c;</a><span class="PreProc">#define <span class="linkable">HEADER_COLOR_BITS</span> </span><span class="Constant">2<br/></li>
<li><a id="L119">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">HEADER_COLOR_SHIFT</span> <a href="#L115" title="ocaml/runtime/caml/mlvalues.h:115">HEADER_TAG_BITS</a><br/></li>
<li><a id="L120">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">HEADER_COLOR_MASK</span> (((</span><span class="Constant">1ull</span><span class="PreProc"> &lt;&lt; <a href="#L118" title="ocaml/runtime/caml/mlvalues.h:118">HEADER_COLOR_BITS</a>) - </span><span class="Constant">1ull</span><span class="PreProc">) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;&lt; <a href="#L119" title="ocaml/runtime/caml/mlvalues.h:119">HEADER_COLOR_SHIFT</a>)<br/></li>
<li></span><br/></li>
<li><a id="L123">&#x200c;</a><span class="PreProc">#define <span class="linkable">HEADER_WOSIZE_BITS</span> (<a href="#L113" title="ocaml/runtime/caml/mlvalues.h:113">HEADER_BITS</a> - <a href="#L115" title="ocaml/runtime/caml/mlvalues.h:115">HEADER_TAG_BITS</a> \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; - <a href="#L118" title="ocaml/runtime/caml/mlvalues.h:118">HEADER_COLOR_BITS</a> - HEADER_RESERVED_BITS)<br/></li>
<li><a id="L125">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">HEADER_WOSIZE_SHIFT</span> (<a href="#L119" title="ocaml/runtime/caml/mlvalues.h:119">HEADER_COLOR_SHIFT</a>&nbsp; + <a href="#L118" title="ocaml/runtime/caml/mlvalues.h:118">HEADER_COLOR_BITS</a>)<br/></li>
<li><a id="L126">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">HEADER_WOSIZE_MASK</span> (((</span><span class="Constant">1ull</span><span class="PreProc"> &lt;&lt; <a href="#L123" title="ocaml/runtime/caml/mlvalues.h:123">HEADER_WOSIZE_BITS</a>) - </span><span class="Constant">1ull</span><span class="PreProc">) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &lt;&lt; <a href="#L125" title="ocaml/runtime/caml/mlvalues.h:125">HEADER_WOSIZE_SHIFT</a>)<br/></li>
<li></span><br/></li>
<li><a id="L129">&#x200c;</a><span class="PreProc">#define <span class="linkable">Tag_hd</span>(hd) ((<a href="#L61" title="ocaml/runtime/caml/mlvalues.h:61">tag_t</a>) ((hd) &amp; <a href="#L116" title="ocaml/runtime/caml/mlvalues.h:116">HEADER_TAG_MASK</a>))<br/></li>
<li><a id="L130">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hd_with_tag</span>(hd, tag) (((hd) &amp;~ <a href="#L116" title="ocaml/runtime/caml/mlvalues.h:116">HEADER_TAG_MASK</a>) | (tag))<br/></li>
<li><a id="L131">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wosize_hd</span>(hd) ((<a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a>) (((hd) &amp; <a href="#L126" title="ocaml/runtime/caml/mlvalues.h:126">HEADER_WOSIZE_MASK</a>) \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &gt;&gt; <a href="#L125" title="ocaml/runtime/caml/mlvalues.h:125">HEADER_WOSIZE_SHIFT</a>))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* <a href="../shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a> &quot;clean&quot; header, without reserved <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a> color bits. */<br/></li>
<li><a id="L135">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Cleanhd_hd</span>(hd) (((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>)(hd)) &amp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (<a href="#L116" title="ocaml/runtime/caml/mlvalues.h:116">HEADER_TAG_MASK</a> | <a href="#L126" title="ocaml/runtime/caml/mlvalues.h:126">HEADER_WOSIZE_MASK</a>))<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#if HEADER_RESERVED_BITS &gt; </span><span class="Constant">0<br/></li>
<li></span><br/></li>
<li><a id="L140">&#x200c;</a><span class="PreProc">#define <span class="linkable">HEADER_RESERVED_SHIFT</span> (<a href="#L113" title="ocaml/runtime/caml/mlvalues.h:113">HEADER_BITS</a> - HEADER_RESERVED_BITS)<br/></li>
<li><a id="L141">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Reserved_hd</span>(hd)&nbsp;&nbsp; (((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>) (hd)) &gt;&gt; <a href="#L140" title="ocaml/runtime/caml/mlvalues.h:140">HEADER_RESERVED_SHIFT</a>)<br/></li>
<li><a id="L142">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hd_reserved</span>(res)&nbsp; ((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>)(res) &lt;&lt; <a href="#L140" title="ocaml/runtime/caml/mlvalues.h:140">HEADER_RESERVED_SHIFT</a>)<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#else</span> <span class="Comment">/* HEADER_RESERVED_BITS is 0 */<br/></li>
<li></span><br/></li>
<li><a id="L146">&#x200c;</a><span class="PreProc">#define <span class="linkable">Reserved_hd</span>(hd)&nbsp;&nbsp; ((<a href="#L59" title="ocaml/runtime/caml/mlvalues.h:59">reserved_t</a>)</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L147">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hd_reserved</span>(res)&nbsp; ((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>)</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Color values are pre-shifted */<br/></li>
<li></span><br/></li>
<li><a id="L153">&#x200c;</a><span class="PreProc">#define <span class="linkable">Color_hd</span>(hd) ((hd) &amp; <a href="#L120" title="ocaml/runtime/caml/mlvalues.h:120">HEADER_COLOR_MASK</a>)<br/></li>
<li><a id="L154">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hd_with_color</span>(hd, color) (((hd) &amp;~ <a href="#L120" title="ocaml/runtime/caml/mlvalues.h:120">HEADER_COLOR_MASK</a>) | (color))<br/></li>
<li></span><br/></li>
<li><a id="L156">&#x200c;</a><span class="PreProc">#define <span class="linkable">Hp_atomic_val</span>(val) ((<a href="camlatomic.h.html#L32" title="ocaml/runtime/caml/camlatomic.h:32">atomic_uintnat</a> *)(val) - </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L157">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hd_val</span>(val) ((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>) \<br/></li>
<li></span><span class="PreProc">&nbsp; (<a href="camlatomic.h.html#L64" title="ocaml/runtime/caml/camlatomic.h:64">atomic_load_explicit</a>(<a href="#L156" title="ocaml/runtime/caml/mlvalues.h:156">Hp_atomic_val</a>(val), memory_order_relaxed)))<br/></li>
<li></span><br/></li>
<li><a id="L160">&#x200c;</a><span class="PreProc">#define <span class="linkable">Color_val</span>(val) (<a href="#L153" title="ocaml/runtime/caml/mlvalues.h:153">Color_hd</a> (<a href="#L157" title="ocaml/runtime/caml/mlvalues.h:157">Hd_val</a> (val)))<br/></li>
<li></span><br/></li>
<li><a id="L162">&#x200c;</a><span class="PreProc">#define <span class="linkable">Hd_hp</span>(hp) (* ((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a> *) (hp)))&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li><a id="L163">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hp_val</span>(val) (((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a> *) (val)) - </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L164">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hp_op</span>(op) (<a href="#L163" title="ocaml/runtime/caml/mlvalues.h:163">Hp_val</a> (op))<br/></li>
<li><a id="L165">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Hp_bp</span>(bp) (<a href="#L163" title="ocaml/runtime/caml/mlvalues.h:163">Hp_val</a> (bp))<br/></li>
<li><a id="L166">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_op</span>(op) ((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) (op))<br/></li>
<li><a id="L167">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_hp</span>(hp) ((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) (((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a> *) (hp)) + </span><span class="Constant">1</span><span class="PreProc">))<br/></li>
<li><a id="L168">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Op_hp</span>(hp) ((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> *) <a href="#L167" title="ocaml/runtime/caml/mlvalues.h:167">Val_hp</a> (hp))<br/></li>
<li><a id="L169">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bp_hp</span>(hp) ((</span><span class="Type">char</span><span class="PreProc"> *) <a href="#L167" title="ocaml/runtime/caml/mlvalues.h:167">Val_hp</a> (hp))<br/></li>
<li></span><br/></li>
<li><a id="L171">&#x200c;</a><span class="PreProc">#define <span class="linkable">Num_tags</span> (</span><span class="Constant">1ull</span><span class="PreProc"> &lt;&lt; <a href="#L115" title="ocaml/runtime/caml/mlvalues.h:115">HEADER_TAG_BITS</a>)<br/></li>
<li><a id="L172">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Max_wosize</span> ((</span><span class="Constant">1ull</span><span class="PreProc"> &lt;&lt; <a href="#L123" title="ocaml/runtime/caml/mlvalues.h:123">HEADER_WOSIZE_BITS</a>) - </span><span class="Constant">1ull</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><a id="L174">&#x200c;</a><span class="PreProc">#define <span class="linkable">Wosize_val</span>(val) (<a href="#L131" title="ocaml/runtime/caml/mlvalues.h:131">Wosize_hd</a> (<a href="#L157" title="ocaml/runtime/caml/mlvalues.h:157">Hd_val</a> (val)))<br/></li>
<li><a id="L175">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wosize_op</span>(op) (<a href="#L174" title="ocaml/runtime/caml/mlvalues.h:174">Wosize_val</a> (op))<br/></li>
<li><a id="L176">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wosize_bp</span>(bp) (<a href="#L174" title="ocaml/runtime/caml/mlvalues.h:174">Wosize_val</a> (bp))<br/></li>
<li><a id="L177">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wosize_hp</span>(hp) (<a href="#L131" title="ocaml/runtime/caml/mlvalues.h:131">Wosize_hd</a> (<a href="#L162" title="ocaml/runtime/caml/mlvalues.h:162">Hd_hp</a> (hp)))<br/></li>
<li><a id="L178">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Whsize_wosize</span>(sz) ((sz) + </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L179">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wosize_whsize</span>(sz) ((sz) - </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L180">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wosize_bhsize</span>(sz) ((sz) / </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc"> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) - </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L181">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bsize_wsize</span>(sz) ((sz) * </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc"> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>))<br/></li>
<li><a id="L182">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Wsize_bsize</span>(sz) ((sz) / </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc"> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>))<br/></li>
<li><a id="L183">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bhsize_wosize</span>(sz) (<a href="#L181" title="ocaml/runtime/caml/mlvalues.h:181">Bsize_wsize</a> (<a href="#L178" title="ocaml/runtime/caml/mlvalues.h:178">Whsize_wosize</a> (sz)))<br/></li>
<li><a id="L184">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bhsize_bosize</span>(sz) ((sz) + </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc"> (<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>))<br/></li>
<li><a id="L185">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bosize_val</span>(val) (<a href="#L181" title="ocaml/runtime/caml/mlvalues.h:181">Bsize_wsize</a> (<a href="#L174" title="ocaml/runtime/caml/mlvalues.h:174">Wosize_val</a> (val)))<br/></li>
<li><a id="L186">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bosize_op</span>(op) (<a href="#L185" title="ocaml/runtime/caml/mlvalues.h:185">Bosize_val</a> (<a href="#L166" title="ocaml/runtime/caml/mlvalues.h:166">Val_op</a> (op)))<br/></li>
<li><a id="L187">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bosize_bp</span>(bp) (<a href="#L185" title="ocaml/runtime/caml/mlvalues.h:185">Bosize_val</a> (<a href="#L313" title="ocaml/runtime/caml/mlvalues.h:313">Val_bp</a> (bp)))<br/></li>
<li><a id="L188">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bosize_hd</span>(hd) (<a href="#L181" title="ocaml/runtime/caml/mlvalues.h:181">Bsize_wsize</a> (<a href="#L131" title="ocaml/runtime/caml/mlvalues.h:131">Wosize_hd</a> (hd)))<br/></li>
<li><a id="L189">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Whsize_hp</span>(hp) (<a href="#L178" title="ocaml/runtime/caml/mlvalues.h:178">Whsize_wosize</a> (<a href="#L177" title="ocaml/runtime/caml/mlvalues.h:177">Wosize_hp</a> (hp)))<br/></li>
<li><a id="L190">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Whsize_val</span>(val) (<a href="#L189" title="ocaml/runtime/caml/mlvalues.h:189">Whsize_hp</a> (<a href="#L163" title="ocaml/runtime/caml/mlvalues.h:163">Hp_val</a> (val)))<br/></li>
<li><a id="L191">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Whsize_bp</span>(bp) (<a href="#L190" title="ocaml/runtime/caml/mlvalues.h:190">Whsize_val</a> (<a href="#L313" title="ocaml/runtime/caml/mlvalues.h:313">Val_bp</a> (bp)))<br/></li>
<li><a id="L192">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Whsize_hd</span>(hd) (<a href="#L178" title="ocaml/runtime/caml/mlvalues.h:178">Whsize_wosize</a> (<a href="#L131" title="ocaml/runtime/caml/mlvalues.h:131">Wosize_hd</a> (hd)))<br/></li>
<li><a id="L193">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bhsize_hp</span>(hp) (<a href="#L181" title="ocaml/runtime/caml/mlvalues.h:181">Bsize_wsize</a> (<a href="#L189" title="ocaml/runtime/caml/mlvalues.h:189">Whsize_hp</a> (hp)))<br/></li>
<li><a id="L194">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bhsize_hd</span>(hd) (<a href="#L181" title="ocaml/runtime/caml/mlvalues.h:181">Bsize_wsize</a> (<a href="#L192" title="ocaml/runtime/caml/mlvalues.h:192">Whsize_hd</a> (hd)))<br/></li>
<li></span><br/></li>
<li><a id="L196">&#x200c;</a><span class="PreProc">#define <span class="linkable">Reserved_val</span>(val) (<a href="#L141" title="ocaml/runtime/caml/mlvalues.h:141">Reserved_hd</a> (<a href="#L157" title="ocaml/runtime/caml/mlvalues.h:157">Hd_val</a> (val)))<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifdef ARCH_BIG_ENDIAN<br/></li>
<li><a id="L199">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Tag_val</span>(val) (((</span><span class="Type">volatile</span><span class="PreProc"> </span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) (val)) [-</span><span class="Constant">1</span><span class="PreProc">])<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li><a id="L201">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Tag_hp</span>(hp) (((</span><span class="Type">volatile</span><span class="PreProc"> </span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) (hp)) [</span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)-</span><span class="Constant">1</span><span class="PreProc">])<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L204">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Tag_val</span>(val) (((</span><span class="Type">volatile</span><span class="PreProc"> </span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) (val)) [-</span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)])<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li><a id="L206">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Tag_hp</span>(hp) (((</span><span class="Type">volatile</span><span class="PreProc"> </span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) (hp)) [</span><span class="Constant">0</span><span class="PreProc">])<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><a id="L210">&#x200c;</a><span class="PreProc">#define <span class="linkable">Unsafe_store_tag_val</span>(dst, val) (<a href="#L199" title="ocaml/runtime/caml/mlvalues.h:199">Tag_val</a>(dst) = val)<br/></li>
<li></span><span class="Comment">/* Currently [<a href="#L199" title="ocaml/runtime/caml/mlvalues.h:199">Tag_val</a>(dst)] is an lvalue, but in the future we may<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; have to break this property by using explicit (relaxed) atomics to<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; avoid undefined behaviors. [<a href="#L210" title="ocaml/runtime/caml/mlvalues.h:210">Unsafe_store_tag_val</a>(dst, val)] is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; provided to avoid direct uses of [<a href="#L199" title="ocaml/runtime/caml/mlvalues.h:199">Tag_val</a>(dst)] on the left of an<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; assignment. The use of [Unsafe] emphasizes that the function<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; may result in unsafe data races in a concurrent setting. */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The lowest tag for blocks containing no <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li><a id="L219">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">No_scan_tag</span> </span><span class="Constant">251<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* 1- If tag &lt; <a href="#L219" title="ocaml/runtime/caml/mlvalues.h:219">No_scan_tag</a> : a tuple of fields.&nbsp; */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Pointer to the first field. */<br/></li>
<li><a id="L225">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Op_val</span>(x) ((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> *) (x))<br/></li>
<li><a id="L226">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Op_atomic_val</span>(x) ((<a href="#L64" title="ocaml/runtime/caml/mlvalues.h:64">atomic_value</a> *) (x))<br/></li>
<li></span><span class="Comment">/* Fields are numbered from 0. */<br/></li>
<li><a id="L228">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Field</span>(x, i) (((</span><span class="Type">volatile</span><span class="PreProc"> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> *)(x)) [i]) </span><span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* NOTE: [<a href="#L239" title="ocaml/runtime/caml/mlvalues.h:239">Forward_tag</a>] <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> [<a href="#L248" title="ocaml/runtime/caml/mlvalues.h:248">Infix_tag</a>] must be just under<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="#L219" title="ocaml/runtime/caml/mlvalues.h:219">No_scan_tag</a>], with [<a href="#L248" title="ocaml/runtime/caml/mlvalues.h:248">Infix_tag</a>] the lower one.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; See [caml_oldify_one] in minor_gc.c for more details.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; NOTE: Update stdlib/obj.ml whenever you change the tags.<br/></li>
<li></span><span class="Comment"> */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* <a href="#L239" title="ocaml/runtime/caml/mlvalues.h:239">Forward_tag</a>: forwarding pointer that the GC may silently shortcut.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; See stdlib/lazy.ml. */<br/></li>
<li><a id="L239">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Forward_tag</span> </span><span class="Constant">250<br/></li>
<li><a id="L240">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Forward_val</span>(v) <a href="#L228" title="ocaml/runtime/caml/mlvalues.h:228">Field</a>(v, </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><span class="Comment">/* </span><span class="Todo">FIXME</span><span class="Comment">: not immutable once shortcutting is implemented */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* If tag == <a href="#L248" title="ocaml/runtime/caml/mlvalues.h:248">Infix_tag</a> : an infix header inside a closure */<br/></li>
<li></span><span class="Comment">/* <a href="#L248" title="ocaml/runtime/caml/mlvalues.h:248">Infix_tag</a> must be odd so that the infix header is scanned as an integer */<br/></li>
<li></span><span class="Comment">/* <a href="#L248" title="ocaml/runtime/caml/mlvalues.h:248">Infix_tag</a> must be 1 modulo 2 <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> infix headers can only occur in blocks<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; with tag <a href="#L275" title="ocaml/runtime/caml/mlvalues.h:275">Closure_tag</a> (see compact.c). */<br/></li>
<li></span><br/></li>
<li><a id="L248">&#x200c;</a><span class="PreProc">#define <span class="linkable">Infix_tag</span> </span><span class="Constant">249<br/></li>
<li><a id="L249">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Infix_offset_hd</span>(hd) (<a href="#L188" title="ocaml/runtime/caml/mlvalues.h:188">Bosize_hd</a>(hd))<br/></li>
<li><a id="L250">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Infix_offset_val</span>(v) <a href="#L249" title="ocaml/runtime/caml/mlvalues.h:249">Infix_offset_hd</a>(<a href="#L157" title="ocaml/runtime/caml/mlvalues.h:157">Hd_val</a>(v))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Another special case: objects */<br/></li>
<li><a id="L253">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Object_tag</span> </span><span class="Constant">248<br/></li>
<li><a id="L254">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Class_val</span>(val) <a href="#L228" title="ocaml/runtime/caml/mlvalues.h:228">Field</a>((val), </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L255">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Oid_val</span>(val) <a href="#L78" title="ocaml/runtime/caml/mlvalues.h:78">Long_val</a>(<a href="#L228" title="ocaml/runtime/caml/mlvalues.h:228">Field</a>((val), </span><span class="Constant">1</span><span class="PreProc">))<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <a href="../obj.c.html#L257" title="ocaml/runtime/obj.c:257">caml_get_public_method</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> obj, <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> tag);<br/></li>
<li><span class="Comment">/* Called as:<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="../callback.c.html#L291" title="ocaml/runtime/callback.c:291">caml_callback</a>(<a href="../obj.c.html#L257" title="ocaml/runtime/obj.c:257">caml_get_public_method</a>(obj, <a href="../hash.c.html#L311" title="ocaml/runtime/hash.c:311">caml_hash_variant</a>(name)), obj) */<br/></li>
<li></span><span class="Comment">/* <a href="../obj.c.html#L257" title="ocaml/runtime/obj.c:257">caml_get_public_method</a> returns 0 if tag not in the table.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Note however that tags being hashed, same tag does not necessarily mean<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; same method name. */<br/></li>
<li></span><br/></li>
<li><a id="L263">&#x200c;</a><a href="config.h.html#L42" title="ocaml/runtime/caml/config.h:42">Caml_inline</a> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">Val_ptr</span>(<span class="Type">void</span>* p)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="misc.h.html#L247" title="ocaml/runtime/caml/misc.h:247">CAMLassert</a>(((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)p &amp; <span class="Constant">1</span>) == <span class="Constant">0</span>);<br/></li>
<li>&nbsp; <span class="Statement">return</span> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)p + <span class="Constant">1</span>;<br/></li>
<li>}<br/></li>
<li><a id="L268">&#x200c;</a><a href="config.h.html#L42" title="ocaml/runtime/caml/config.h:42">Caml_inline</a> <span class="Type">void</span>* <span class="linkable">Ptr_val</span>(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> val)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="misc.h.html#L247" title="ocaml/runtime/caml/misc.h:247">CAMLassert</a>(val &amp; <span class="Constant">1</span>);<br/></li>
<li>&nbsp; <span class="Statement">return</span> (<span class="Type">void</span>*)(val - <span class="Constant">1</span>);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/* Special case of tuples of fields: closures */<br/></li>
<li><a id="L275">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Closure_tag</span> </span><span class="Constant">247<br/></li>
<li><a id="L276">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Code_val</span>(val) (((<a href="#L67" title="ocaml/runtime/caml/mlvalues.h:67">code_t</a> *) (val)) [</span><span class="Constant">0</span><span class="PreProc">])&nbsp; &nbsp;&nbsp; </span><span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li><a id="L277">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Closinfo_val</span>(val) <a href="#L228" title="ocaml/runtime/caml/mlvalues.h:228">Field</a>((val), </span><span class="Constant">1</span><span class="PreProc">)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Arity <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> start env */<br/></li>
<li></span><span class="Comment">/* In the closure info field, the top 8 bits are the arity (signed).<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The low bit is set to one, to look like an integer.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; The remaining bits are the field number for the first word of the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; environment, <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a>, in other words, the offset (in words) from the closure<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; to the environment part. */<br/></li>
<li></span><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li><a id="L284">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Arity_closinfo</span>(info) ((<a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)(info) &gt;&gt; </span><span class="Constant">56</span><span class="PreProc">)<br/></li>
<li><a id="L285">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Start_env_closinfo</span>(info) (((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(info) &lt;&lt; </span><span class="Constant">8</span><span class="PreProc">) &gt;&gt; </span><span class="Constant">9</span><span class="PreProc">)<br/></li>
<li><a id="L286">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Make_closinfo</span>(arity,delta) \<br/></li>
<li></span><span class="PreProc">&nbsp; (((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(arity) &lt;&lt; </span><span class="Constant">56</span><span class="PreProc">) + ((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(delta) &lt;&lt; </span><span class="Constant">1</span><span class="PreProc">) + </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L289">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Arity_closinfo</span>(info) ((<a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)(info) &gt;&gt; </span><span class="Constant">24</span><span class="PreProc">)<br/></li>
<li><a id="L290">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Start_env_closinfo</span>(info) (((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(info) &lt;&lt; </span><span class="Constant">8</span><span class="PreProc">) &gt;&gt; </span><span class="Constant">9</span><span class="PreProc">)<br/></li>
<li><a id="L291">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Make_closinfo</span>(arity,delta) \<br/></li>
<li></span><span class="PreProc">&nbsp; (((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(arity) &lt;&lt; </span><span class="Constant">24</span><span class="PreProc">) + ((<a href="config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)(delta) &lt;&lt; </span><span class="Constant">1</span><span class="PreProc">) + </span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* This tag is used (with <a href="#L304" title="ocaml/runtime/caml/mlvalues.h:304">Forcing_tag</a> &amp; <a href="#L239" title="ocaml/runtime/caml/mlvalues.h:239">Forward_tag</a>) to implement lazy values.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; See major_gc.c <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> stdlib/lazy.ml. */<br/></li>
<li><a id="L297">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Lazy_tag</span> </span><span class="Constant">246<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Tag used for continuations (see fiber.c) */<br/></li>
<li><a id="L300">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Cont_tag</span> </span><span class="Constant">245<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* This tag is used (with <a href="#L297" title="ocaml/runtime/caml/mlvalues.h:297">Lazy_tag</a> &amp; <a href="#L239" title="ocaml/runtime/caml/mlvalues.h:239">Forward_tag</a>) to implement lazy values.<br/></li>
<li></span><span class="Comment"> * See major_gc.c <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> stdlib/lazy.ml. */<br/></li>
<li><a id="L304">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Forcing_tag</span> </span><span class="Constant">244<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Another special case: variants */<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <a href="../hash.c.html#L311" title="ocaml/runtime/hash.c:311">caml_hash_variant</a>(<span class="Type">char</span> <span class="Type">const</span> * tag);<br/></li>
<li><br/></li>
<li><span class="Comment">/* 2- If tag &gt;= <a href="#L219" title="ocaml/runtime/caml/mlvalues.h:219">No_scan_tag</a> : a sequence of bytes. */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Pointer to the first byte */<br/></li>
<li><a id="L312">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bp_val</span>(v) ((</span><span class="Type">char</span><span class="PreProc"> *) (v))<br/></li>
<li><a id="L313">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_bp</span>(p) ((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) (p))<br/></li>
<li></span><span class="Comment">/* Bytes are numbered from 0. */<br/></li>
<li><a id="L315">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Byte</span>(x, i) (((</span><span class="Type">char</span><span class="PreProc"> *) (x)) [i])&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li><a id="L316">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Byte_u</span>(x, i) (((</span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) (x)) [i]) </span><span class="Comment">/* Also an l-<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>. */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Abstract things.&nbsp; Their contents is not traced by the GC; therefore<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; they must not contain any [<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>]. Must have odd number so that<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; headers with this tag cannot be mistaken for pointers. Previously<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; used in caml_obj_truncate for a header of the truncated tail of the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; object.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L324">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Abstract_tag</span> </span><span class="Constant">251<br/></li>
<li><a id="L325">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Data_abstract_val</span>(v) ((</span><span class="Type">void</span><span class="PreProc">*) <a href="#L225" title="ocaml/runtime/caml/mlvalues.h:225">Op_val</a>(v))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Strings. */<br/></li>
<li><a id="L328">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">String_tag</span> </span><span class="Constant">252<br/></li>
<li><a id="L329">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">String_val</span>(x) ((</span><span class="Type">const</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) <a href="#L312" title="ocaml/runtime/caml/mlvalues.h:312">Bp_val</a>(x))<br/></li>
<li><a id="L330">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bytes_val</span>(x) ((</span><span class="Type">unsigned</span><span class="PreProc"> </span><span class="Type">char</span><span class="PreProc"> *) <a href="#L312" title="ocaml/runtime/caml/mlvalues.h:312">Bp_val</a>(x))<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a> <a href="../str.c.html#L31" title="ocaml/runtime/str.c:31">caml_string_length</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>);&nbsp;&nbsp; <span class="Comment">/* size in bytes */<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <span class="Type">int</span> <a href="../str.c.html#L53" title="ocaml/runtime/str.c:53">caml_string_is_c_safe</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>);<br/></li>
<li>&nbsp; <span class="Comment">/* true if string contains no '\0' null characters */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Floating-point numbers. */<br/></li>
<li><a id="L336">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Double_tag</span> </span><span class="Constant">253<br/></li>
<li><a id="L337">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Double_wosize</span> ((</span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(</span><span class="Type">double</span><span class="PreProc">) / </span><span class="Statement"><a href="fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)))<br/></li>
<li></span><span class="PreProc">#ifndef ARCH_ALIGN_DOUBLE<br/></li>
<li><a id="L339">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Double_val</span>(v) (* (</span><span class="Type">double</span><span class="PreProc"> *)(v))<br/></li>
<li><a id="L340">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Store_double_val</span>(v,d) (* (</span><span class="Type">double</span><span class="PreProc"> *)(v) = (d))<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <span class="Type">double</span> <a href="../floats.c.html#L84" title="ocaml/runtime/floats.c:84">caml_Double_val</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>);<br/></li>
<li><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <span class="Type">void</span> <a href="../floats.c.html#L94" title="ocaml/runtime/floats.c:94">caml_Store_double_val</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>,<span class="Type">double</span>);<br/></li>
<li><a id="L344">&#x200c;</a><span class="PreProc">#define <span class="linkable">Double_val</span>(v) <a href="../floats.c.html#L84" title="ocaml/runtime/floats.c:84">caml_Double_val</a>(v)<br/></li>
<li><a id="L345">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Store_double_val</span>(v,d) <a href="../floats.c.html#L94" title="ocaml/runtime/floats.c:94">caml_Store_double_val</a>(v,d)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Arrays of floating-point numbers. */<br/></li>
<li><a id="L349">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Double_array_tag</span> </span><span class="Constant">254<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The [_flat_field] macros are for [floatarray] values <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> float-only records.<br/></li>
<li></span><span class="Comment">*/<br/></li>
<li><a id="L353">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Double_flat_field</span>(v,i) <a href="#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a>((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)((</span><span class="Type">double</span><span class="PreProc"> *)(v) + (i)))<br/></li>
<li><a id="L354">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Store_double_flat_field</span>(v,i,d) </span><span class="Statement">do</span><span class="PreProc">{ \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a> caml__temp_i = (i); \<br/></li>
<li></span><span class="PreProc">&nbsp; </span><span class="Type">double</span><span class="PreProc"> caml__temp_d = (d); \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="#L340" title="ocaml/runtime/caml/mlvalues.h:340">Store_double_val</a>((<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>)((</span><span class="Type">double</span><span class="PreProc"> *) (v) + caml__temp_i), caml__temp_d); \<br/></li>
<li></span><span class="PreProc">}</span><span class="Statement">while</span><span class="PreProc">(</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The [_array_field] macros are for [float array]. */<br/></li>
<li></span><span class="PreProc">#ifdef FLAT_FLOAT_ARRAY<br/></li>
<li><a id="L362">&#x200c;</a></span>&nbsp; <span class="PreProc">#define <span class="linkable">Double_array_field</span>(v,i) <a href="#L353" title="ocaml/runtime/caml/mlvalues.h:353">Double_flat_field</a>(v,i)<br/></li>
<li><a id="L363">&#x200c;</a></span>&nbsp; <span class="PreProc">#define <span class="linkable">Store_double_array_field</span>(v,i,d) <a href="#L354" title="ocaml/runtime/caml/mlvalues.h:354">Store_double_flat_field</a>(v,i,d)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L365">&#x200c;</a></span>&nbsp; <span class="PreProc">#define <span class="linkable">Double_array_field</span>(v,i) <a href="#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a> (<a href="#L228" title="ocaml/runtime/caml/mlvalues.h:228">Field</a>(v,i))<br/></li>
<li></span>&nbsp; <a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <span class="Type">void</span> <a href="../floats.c.html#L163" title="ocaml/runtime/floats.c:163">caml_Store_double_array_field</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>, <a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a>, <span class="Type">double</span>);<br/></li>
<li><a id="L367">&#x200c;</a>&nbsp; <span class="PreProc">#define <span class="linkable">Store_double_array_field</span>(v,i,d) <a href="../floats.c.html#L163" title="ocaml/runtime/floats.c:163">caml_Store_double_array_field</a> (v,i,d)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The old [_field] macros are for backward compatibility only.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; They work with [floatarray], float-only records, <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> [float array]. */<br/></li>
<li></span><span class="PreProc">#ifdef FLAT_FLOAT_ARRAY<br/></li>
<li><a id="L373">&#x200c;</a></span>&nbsp; <span class="PreProc">#define <span class="linkable">Double_field</span>(v,i) <a href="#L353" title="ocaml/runtime/caml/mlvalues.h:353">Double_flat_field</a>(v,i)<br/></li>
<li><a id="L374">&#x200c;</a></span>&nbsp; <span class="PreProc">#define <span class="linkable">Store_double_field</span>(v,i,d) <a href="#L354" title="ocaml/runtime/caml/mlvalues.h:354">Store_double_flat_field</a>(v,i,d)<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li><a id="L376">&#x200c;</a></span>&nbsp; <a href="config.h.html#L42" title="ocaml/runtime/caml/config.h:42">Caml_inline</a> <span class="Type">double</span> <span class="linkable">Double_field</span> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v, <a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a> i) {<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (<a href="#L199" title="ocaml/runtime/caml/mlvalues.h:199">Tag_val</a> (v) == <a href="#L349" title="ocaml/runtime/caml/mlvalues.h:349">Double_array_tag</a>){<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <a href="#L353" title="ocaml/runtime/caml/mlvalues.h:353">Double_flat_field</a> (v, i);<br/></li>
<li>&nbsp; &nbsp; }<span class="Statement">else</span>{<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">return</span> <a href="#L362" title="ocaml/runtime/caml/mlvalues.h:362">Double_array_field</a> (v, i);<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; }<br/></li>
<li><a id="L383">&#x200c;</a>&nbsp; <a href="config.h.html#L42" title="ocaml/runtime/caml/config.h:42">Caml_inline</a> <span class="Type">void</span> <span class="linkable">Store_double_field</span> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v, <a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a> i, <span class="Type">double</span> d) {<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (<a href="#L199" title="ocaml/runtime/caml/mlvalues.h:199">Tag_val</a> (v) == <a href="#L349" title="ocaml/runtime/caml/mlvalues.h:349">Double_array_tag</a>){<br/></li>
<li>&nbsp; &nbsp; &nbsp; <a href="#L354" title="ocaml/runtime/caml/mlvalues.h:354">Store_double_flat_field</a> (v, i, d);<br/></li>
<li>&nbsp; &nbsp; }<span class="Statement">else</span>{<br/></li>
<li>&nbsp; &nbsp; &nbsp; <a href="#L363" title="ocaml/runtime/caml/mlvalues.h:363">Store_double_array_field</a> (v, i, d);<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; }<br/></li>
<li><span class="PreProc">#endif</span> <span class="Comment">/* FLAT_FLOAT_ARRAY */<br/></li>
<li></span><br/></li>
<li><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <a href="#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a> <a href="../array.c.html#L32" title="ocaml/runtime/array.c:32">caml_array_length</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>);&nbsp;&nbsp; <span class="Comment">/* size in items */<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <span class="Type">int</span> <a href="../array.c.html#L42" title="ocaml/runtime/array.c:42">caml_is_double_array</a> (<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>);&nbsp;&nbsp; <span class="Comment">/* 0 is false, 1 is true */<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">/* Custom blocks.&nbsp; They contain a pointer to a &quot;method suite&quot;<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; of functions (for finalization, comparison, hashing, etc)<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; followed by raw data.&nbsp; The contents of custom blocks is not traced by<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the GC; therefore, they must not contain any [<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; See [custom.h] for operations on method suites. */<br/></li>
<li><a id="L401">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Custom_tag</span> </span><span class="Constant">255<br/></li>
<li><a id="L402">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Data_custom_val</span>(v) ((</span><span class="Type">void</span><span class="PreProc"> *) (<a href="#L225" title="ocaml/runtime/caml/mlvalues.h:225">Op_val</a>(v) + </span><span class="Constant">1</span><span class="PreProc">))<br/></li>
<li></span><span class="Type">struct</span> <a href="custom.h.html#L27" title="ocaml/runtime/caml/custom.h:27">custom_operations</a>;&nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">/* defined in [custom.h] */<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Int32.t, Int64.t <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> Nativeint.t are represented as custom blocks. */<br/></li>
<li></span><br/></li>
<li><a id="L407">&#x200c;</a><span class="PreProc">#define <span class="linkable">Int32_val</span>(v) (*((</span><span class="Type"><a href="config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span><span class="PreProc"> *) <a href="#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(v)))<br/></li>
<li><a id="L408">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Nativeint_val</span>(v) (*((<a href="config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> *) <a href="#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(v)))<br/></li>
<li></span><span class="PreProc">#ifndef ARCH_ALIGN_INT64<br/></li>
<li><a id="L410">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Int64_val</span>(v) (*((</span><span class="Type"><a href="config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc"> *) <a href="#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(v)))<br/></li>
<li></span><span class="PreProc">#else<br/></li>
<li></span><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <span class="Type"><a href="config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> <a href="../ints.c.html#L370" title="ocaml/runtime/ints.c:370">caml_Int64_val</a>(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v);<br/></li>
<li><a id="L413">&#x200c;</a><span class="PreProc">#define <span class="linkable">Int64_val</span>(v) <a href="../ints.c.html#L370" title="ocaml/runtime/ints.c:370">caml_Int64_val</a>(v)<br/></li>
<li></span><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* 3- Atoms are 0-tuples.&nbsp; They are statically allocated once <a href="../ints.c.html#L488" title="ocaml/runtime/ints.c:488">and</a> for all. */<br/></li>
<li></span><br/></li>
<li><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <a href="../shared_heap.c.html#L689" title="ocaml/runtime/shared_heap.c:689">caml_atom</a>(<a href="#L61" title="ocaml/runtime/caml/mlvalues.h:61">tag_t</a>);<br/></li>
<li><a id="L419">&#x200c;</a><span class="PreProc">#define <span class="linkable">Atom</span>(tag) <a href="../shared_heap.c.html#L689" title="ocaml/runtime/shared_heap.c:689">caml_atom</a>(tag)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Booleans are integers 0 <a href="../ints.c.html#L491" title="ocaml/runtime/ints.c:491">or</a> 1 */<br/></li>
<li></span><br/></li>
<li><a id="L423">&#x200c;</a><span class="PreProc">#define <span class="linkable">Val_bool</span>(x) <a href="#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>((x) != </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L424">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Bool_val</span>(x) <a href="#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(x)<br/></li>
<li><a id="L425">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_false</span> <a href="#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L426">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_true</span> <a href="#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(</span><span class="Constant">1</span><span class="PreProc">)<br/></li>
<li><a id="L427">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_not</span>(x) (<a href="#L425" title="ocaml/runtime/caml/mlvalues.h:425">Val_false</a> + <a href="#L426" title="ocaml/runtime/caml/mlvalues.h:426">Val_true</a> - (x))<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* The unit <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> is 0 (tagged) */<br/></li>
<li></span><br/></li>
<li><a id="L431">&#x200c;</a><span class="PreProc">#define <span class="linkable">Val_unit</span> <a href="#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* List constructors */<br/></li>
<li><a id="L434">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Val_emptylist</span> <a href="#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L435">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Tag_cons</span> </span><span class="Constant">0<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Option constructors */<br/></li>
<li></span><br/></li>
<li><a id="L439">&#x200c;</a><span class="PreProc">#define <span class="linkable">Val_none</span> <a href="#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(</span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L440">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Some_val</span>(v) <a href="#L228" title="ocaml/runtime/caml/mlvalues.h:228">Field</a>(v, </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li><a id="L441">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Tag_some</span> </span><span class="Constant">0<br/></li>
<li><a id="L442">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Is_none</span>(v) ((v) == <a href="#L439" title="ocaml/runtime/caml/mlvalues.h:439">Val_none</a>)<br/></li>
<li><a id="L443">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">Is_some</span>(v) <a href="#L73" title="ocaml/runtime/caml/mlvalues.h:73">Is_block</a>(v)<br/></li>
<li></span><br/></li>
<li><a href="misc.h.html#L125" title="ocaml/runtime/caml/misc.h:125">CAMLextern</a> <a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <a href="../obj.c.html#L284" title="ocaml/runtime/obj.c:284">caml_set_oo_id</a>(<a href="#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> obj);<br/></li>
<li><br/></li>
<li><span class="Comment">/* Header for out-of-heap blocks. */<br/></li>
<li></span><br/></li>
<li><a id="L449">&#x200c;</a><span class="PreProc">#define <span class="linkable">Caml_out_of_heap_header_with_reserved</span>(wosize, tag, reserved)&nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; (</span><span class="Comment">/*<a href="misc.h.html#L247" title="ocaml/runtime/caml/misc.h:247">CAMLassert</a> ((wosize) &lt;= <a href="#L172" title="ocaml/runtime/caml/mlvalues.h:172">Max_wosize</a>),*/</span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp;&nbsp; ((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>) (<a href="#L142" title="ocaml/runtime/caml/mlvalues.h:142">Hd_reserved</a>(reserved))&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + ((<a href="#L58" title="ocaml/runtime/caml/mlvalues.h:58">header_t</a>) (wosize) &lt;&lt; <a href="#L125" title="ocaml/runtime/caml/mlvalues.h:125">HEADER_WOSIZE_SHIFT</a>)&nbsp; &nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + (</span><span class="Constant">3</span><span class="PreProc"> &lt;&lt; <a href="#L119" title="ocaml/runtime/caml/mlvalues.h:119">HEADER_COLOR_SHIFT</a>) </span><span class="Comment">/* [NOT_MARKABLE] */</span><span class="PreProc">&nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + (<a href="#L61" title="ocaml/runtime/caml/mlvalues.h:61">tag_t</a>) (tag)))<br/></li>
<li></span><br/></li>
<li><a id="L456">&#x200c;</a><span class="PreProc">#define <span class="linkable">Caml_out_of_heap_header</span>(wosize, tag)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; <a href="#L449" title="ocaml/runtime/caml/mlvalues.h:449">Caml_out_of_heap_header_with_reserved</a>(wosize, tag, </span><span class="Constant">0</span><span class="PreProc">)<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifdef __cplusplus<br/></li>
<li></span>}<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#endif</span> <span class="Comment">/* <a href="#L17" title="ocaml/runtime/caml/mlvalues.h:17">CAML_MLVALUES_H</a> */<br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="../index.html">Top Level</a></span>
 </p>

 </body>
</html>
