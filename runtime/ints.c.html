<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/runtime/ints.c - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/runtime/ints.c - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L217">caml_int32_ops</a></li>
<li><a href="#L416">caml_int64_ops</a></li>
<li><a href="#L713">caml_nativeint_ops</a></li>
<li><a href="#L215">int32_length</a></li>
<li><a href="#L414">int64_length</a></li>
<li><a href="#L712">nativeint_length</a></li>
</ul>
 <h2>Functions defined</h2>
 <ul class="toc">
<li><a href="#L461">add</a></li>
<li><a href="#L488">and</a></li>
<li><a href="#L370">caml_Int64_val</a></li>
<li><a href="#L123">caml_bswap16</a></li>
<li><a href="#L117">caml_bswap16_direct</a></li>
<li><a href="#L228">caml_copy_int32</a></li>
<li><a href="#L427">caml_copy_int64</a></li>
<li><a href="#L724">caml_copy_nativeint</a></li>
<li><a href="#L170">caml_format_int</a></li>
<li><a href="#L238">caml_int32_add</a></li>
<li><a href="#L269">caml_int32_and</a></li>
<li><a href="#L356">caml_int32_bits_of_float</a></li>
<li><a href="#L342">caml_int32_bits_of_float_unboxed</a></li>
<li><a href="#L298">caml_int32_bswap</a></li>
<li><a href="#L324">caml_int32_compare</a></li>
<li><a href="#L319">caml_int32_compare_unboxed</a></li>
<li><a href="#L295">caml_int32_direct_bswap</a></li>
<li><a href="#L247">caml_int32_div</a></li>
<li><a href="#L361">caml_int32_float_of_bits</a></li>
<li><a href="#L349">caml_int32_float_of_bits_unboxed</a></li>
<li><a href="#L329">caml_int32_format</a></li>
<li><a href="#L258">caml_int32_mod</a></li>
<li><a href="#L244">caml_int32_mul</a></li>
<li><a href="#L235">caml_int32_neg</a></li>
<li><a href="#L310">caml_int32_of_float</a></li>
<li><a href="#L307">caml_int32_of_float_unboxed</a></li>
<li><a href="#L301">caml_int32_of_int</a></li>
<li><a href="#L337">caml_int32_of_string</a></li>
<li><a href="#L272">caml_int32_or</a></li>
<li><a href="#L278">caml_int32_shift_left</a></li>
<li><a href="#L281">caml_int32_shift_right</a></li>
<li><a href="#L284">caml_int32_shift_right_unsigned</a></li>
<li><a href="#L241">caml_int32_sub</a></li>
<li><a href="#L316">caml_int32_to_float</a></li>
<li><a href="#L313">caml_int32_to_float_unboxed</a></li>
<li><a href="#L304">caml_int32_to_int</a></li>
<li><a href="#L275">caml_int32_xor</a></li>
<li><a href="#L642">caml_int64_bits_of_float</a></li>
<li><a href="#L622">caml_int64_bits_of_float_unboxed</a></li>
<li><a href="#L523">caml_int64_bswap</a></li>
<li><a href="#L572">caml_int64_compare</a></li>
<li><a href="#L567">caml_int64_compare_unboxed</a></li>
<li><a href="#L519">caml_int64_direct_bswap</a></li>
<li><a href="#L647">caml_int64_float_of_bits</a></li>
<li><a href="#L632">caml_int64_float_of_bits_unboxed</a></li>
<li><a href="#L577">caml_int64_format</a></li>
<li><a href="#L546">caml_int64_of_float</a></li>
<li><a href="#L543">caml_int64_of_float_unboxed</a></li>
<li><a href="#L537">caml_int64_of_int</a></li>
<li><a href="#L555">caml_int64_of_int32</a></li>
<li><a href="#L561">caml_int64_of_nativeint</a></li>
<li><a href="#L585">caml_int64_of_string</a></li>
<li><a href="#L497">caml_int64_shift_left</a></li>
<li><a href="#L500">caml_int64_shift_right</a></li>
<li><a href="#L503">caml_int64_shift_right_unsigned</a></li>
<li><a href="#L552">caml_int64_to_float</a></li>
<li><a href="#L549">caml_int64_to_float_unboxed</a></li>
<li><a href="#L540">caml_int64_to_int</a></li>
<li><a href="#L558">caml_int64_to_int32</a></li>
<li><a href="#L564">caml_int64_to_nativeint</a></li>
<li><a href="#L132">caml_int_compare</a></li>
<li><a href="#L137">caml_int_of_string</a></li>
<li><a href="#L734">caml_nativeint_add</a></li>
<li><a href="#L769">caml_nativeint_and</a></li>
<li><a href="#L796">caml_nativeint_bswap</a></li>
<li><a href="#L834">caml_nativeint_compare</a></li>
<li><a href="#L829">caml_nativeint_compare_unboxed</a></li>
<li><a href="#L787">caml_nativeint_direct_bswap</a></li>
<li><a href="#L745">caml_nativeint_div</a></li>
<li><a href="#L840">caml_nativeint_format</a></li>
<li><a href="#L756">caml_nativeint_mod</a></li>
<li><a href="#L740">caml_nativeint_mul</a></li>
<li><a href="#L731">caml_nativeint_neg</a></li>
<li><a href="#L814">caml_nativeint_of_float</a></li>
<li><a href="#L811">caml_nativeint_of_float_unboxed</a></li>
<li><a href="#L805">caml_nativeint_of_int</a></li>
<li><a href="#L823">caml_nativeint_of_int32</a></li>
<li><a href="#L848">caml_nativeint_of_string</a></li>
<li><a href="#L772">caml_nativeint_or</a></li>
<li><a href="#L778">caml_nativeint_shift_left</a></li>
<li><a href="#L781">caml_nativeint_shift_right</a></li>
<li><a href="#L784">caml_nativeint_shift_right_unsigned</a></li>
<li><a href="#L737">caml_nativeint_sub</a></li>
<li><a href="#L820">caml_nativeint_to_float</a></li>
<li><a href="#L817">caml_nativeint_to_float_unboxed</a></li>
<li><a href="#L808">caml_nativeint_to_int</a></li>
<li><a href="#L826">caml_nativeint_to_int32</a></li>
<li><a href="#L775">caml_nativeint_xor</a></li>
<li><a href="#L287">caml_swap32</a></li>
<li><a href="#L507">caml_swap64</a></li>
<li><a href="#L470">div</a></li>
<li><a href="#L190">int32_cmp</a></li>
<li><a href="#L209">int32_deserialize</a></li>
<li><a href="#L197">int32_hash</a></li>
<li><a href="#L202">int32_serialize</a></li>
<li><a href="#L380">int64_cmp</a></li>
<li><a href="#L401">int64_deserialize</a></li>
<li><a href="#L387">int64_hash</a></li>
<li><a href="#L394">int64_serialize</a></li>
<li><a href="#L479">mod</a></li>
<li><a href="#L467">mul</a></li>
<li><a href="#L654">nativeint_cmp</a></li>
<li><a href="#L693">nativeint_deserialize</a></li>
<li><a href="#L661">nativeint_hash</a></li>
<li><a href="#L673">nativeint_serialize</a></li>
<li><a href="#L458">neg</a></li>
<li><a href="#L491">or</a></li>
<li><a href="#L60">parse_digit</a></li>
<li><a href="#L144">parse_format</a></li>
<li><a href="#L77">parse_intnat</a></li>
<li><a href="#L33">parse_sign_and_base</a></li>
<li><a href="#L464">sub</a></li>
<li><a href="#L494">xor</a></li>
</ul>
 <h2>Macros defined</h2>
 <ul class="toc">
<li><a href="#L16">CAML_INTERNALS</a></li>
<li><a href="#L441">CAMLprim_int64_1</a></li>
<li><a href="#L449">CAMLprim_int64_2</a></li>
<li><a href="#L30">COMPARE_INT</a></li>
<li><a href="#L142">FORMAT_BUFFER_SIZE</a></li>
<li><a href="#L73">INT32_ERRMSG</a></li>
<li><a href="#L74">INT64_ERRMSG</a></li>
<li><a href="#L75">INTNAT_ERRMSG</a></li>
<li><a href="#L72">INT_ERRMSG</a></li>
<li><a href="#L743">Nativeint_min_int</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">/**************************************************************************/<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Xavier Leroy, projet Cristal, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; Copyright 1996 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; All rights reserved.&nbsp; This file is distributed under the terms of&nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp;&nbsp; special exception on linking described in the file LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; */<br/></li>
<li></span><span class="Comment">/**************************************************************************/<br/></li>
<li></span><br/></li>
<li><a id="L16">&#x200c;</a><span class="PreProc">#define <span class="linkable">CAML_INTERNALS</span><br/></li>
<li></span><br/></li>
<li><span class="PreProc">#include </span><span class="Constant">&lt;stdio.h&gt;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&lt;string.h&gt;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/alloc.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/custom.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/fail.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/intext.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/memory.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/misc.h&quot;<br/></li>
<li></span><span class="PreProc">#include </span><span class="Constant">&quot;caml/mlvalues.h&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">/* Comparison resulting in -1,0,1, with type <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; without extra integer width conversion (GPR#2250). */<br/></li>
<li><a id="L30">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">COMPARE_INT</span>(v1, v2) \<br/></li>
<li></span><span class="PreProc">&nbsp; (<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)(v1 &gt; v2) - (<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)(v1 &lt; v2)<br/></li>
<li></span><br/></li>
<li><a id="L33">&#x200c;</a><span class="Type">static</span> <span class="Type">const</span> <span class="Type">char</span> * <span class="linkable">parse_sign_and_base</span>(<span class="Type">const</span> <span class="Type">char</span> * p,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*out*/</span> <span class="Type">int</span> * base,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*out*/</span> <span class="Type">int</span> * signedness,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">/*out*/</span> <span class="Type">int</span> * sign)<br/></li>
<li>{<br/></li>
<li>&nbsp; *sign = <span class="Constant">1</span>;<br/></li>
<li>&nbsp; <span class="Statement">if</span> (*p == <span class="Constant">'-'</span>) {<br/></li>
<li>&nbsp; &nbsp; *sign = -<span class="Constant">1</span>;<br/></li>
<li>&nbsp; &nbsp; p++;<br/></li>
<li>&nbsp; } <span class="Statement">else</span> <span class="Statement">if</span> (*p == <span class="Constant">'+'</span>)<br/></li>
<li>&nbsp; &nbsp; p++;<br/></li>
<li>&nbsp; *base = <span class="Constant">10</span>; *signedness = <span class="Constant">1</span>;<br/></li>
<li>&nbsp; <span class="Statement">if</span> (*p == <span class="Constant">'0'</span>) {<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">switch</span> (p[<span class="Constant">1</span>]) {<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">case</span> <span class="Constant">'x'</span>: <span class="Statement">case</span> <span class="Constant">'X'</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; *base = <span class="Constant">16</span>; *signedness = <span class="Constant">0</span>; p += <span class="Constant">2</span>; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">case</span> <span class="Constant">'o'</span>: <span class="Statement">case</span> <span class="Constant">'O'</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; *base = <span class="Constant">8</span>; *signedness = <span class="Constant">0</span>; p += <span class="Constant">2</span>; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">case</span> <span class="Constant">'<a href="bigarray.c.html#L951" title="ocaml/runtime/bigarray.c:951">b</a>'</span>: <span class="Statement">case</span> <span class="Constant">'B'</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; *base = <span class="Constant">2</span>; *signedness = <span class="Constant">0</span>; p += <span class="Constant">2</span>; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">case</span> <span class="Constant">'u'</span>: <span class="Statement">case</span> <span class="Constant">'U'</span>:<br/></li>
<li>&nbsp; &nbsp; &nbsp; *signedness = <span class="Constant">0</span>; p += <span class="Constant">2</span>; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">return</span> p;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L60">&#x200c;</a><span class="Type">static</span> <span class="Type">int</span> <span class="linkable">parse_digit</span>(<span class="Type">char</span> c)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">if</span> (c &gt;= <span class="Constant">'0'</span> &amp;&amp; c &lt;= <span class="Constant">'9'</span>)<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> c - <span class="Constant">'0'</span>;<br/></li>
<li>&nbsp; <span class="Statement">else</span> <span class="Statement">if</span> (c &gt;= <span class="Constant">'<a href="shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a>'</span> &amp;&amp; c &lt;= <span class="Constant">'F'</span>)<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> c - <span class="Constant">'<a href="shared_heap.c.html#L657" title="ocaml/runtime/shared_heap.c:657">A</a>'</span> + <span class="Constant">10</span>;<br/></li>
<li>&nbsp; <span class="Statement">else</span> <span class="Statement">if</span> (c &gt;= <span class="Constant">'a'</span> &amp;&amp; c &lt;= <span class="Constant">'f'</span>)<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> c - <span class="Constant">'a'</span> + <span class="Constant">10</span>;<br/></li>
<li>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">return</span> -<span class="Constant">1</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L72">&#x200c;</a><span class="PreProc">#define <span class="linkable">INT_ERRMSG</span> </span><span class="Constant">&quot;int_of_string&quot;<br/></li>
<li><a id="L73">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">INT32_ERRMSG</span> </span><span class="Constant">&quot;Int32.of_string&quot;<br/></li>
<li><a id="L74">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">INT64_ERRMSG</span> </span><span class="Constant">&quot;Int64.of_string&quot;<br/></li>
<li><a id="L75">&#x200c;</a></span><span class="PreProc">#define <span class="linkable">INTNAT_ERRMSG</span> </span><span class="Constant">&quot;Nativeint.of_string&quot;<br/></li>
<li></span><br/></li>
<li><a id="L77">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">parse_intnat</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> s, <span class="Type">int</span> nbits, <span class="Type">const</span> <span class="Type">char</span> *errmsg)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">const</span> <span class="Type">char</span> * p;<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> res, threshold;<br/></li>
<li>&nbsp; <span class="Type">int</span> sign, base, signedness, d;<br/></li>
<li><br/></li>
<li>&nbsp; p = <a href="#L33" title="ocaml/runtime/ints.c:33">parse_sign_and_base</a>(<a href="caml/mlvalues.h.html#L329" title="ocaml/runtime/caml/mlvalues.h:329">String_val</a>(s), &amp;base, &amp;signedness, &amp;sign);<br/></li>
<li>&nbsp; threshold = ((<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>) -<span class="Constant">1</span>) / base;<br/></li>
<li>&nbsp; d = <a href="#L60" title="ocaml/runtime/ints.c:60">parse_digit</a>(*p);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (d &lt; <span class="Constant">0</span> || d &gt;= base) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; <span class="Statement">for</span> (p++, res = d; <span class="Comment">/*nothing*/</span>; p++) {<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span> c = *p;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (c == <span class="Constant">'_'</span>) <span class="Statement">continue</span>;<br/></li>
<li>&nbsp; &nbsp; d = <a href="#L60" title="ocaml/runtime/ints.c:60">parse_digit</a>(c);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (d &lt; <span class="Constant">0</span> || d &gt;= base) <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Detect overflow in multiplication base * res */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (res &gt; threshold) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; &nbsp; res = base * res + d;<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Detect overflow in addition (base * res) + d */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (res &lt; (<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>) d) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">if</span> (p != <a href="caml/mlvalues.h.html#L329" title="ocaml/runtime/caml/mlvalues.h:329">String_val</a>(s) + <a href="str.c.html#L31" title="ocaml/runtime/str.c:31">caml_string_length</a>(s)){<br/></li>
<li>&nbsp; &nbsp; <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">if</span> (signedness) {<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Signed representation expected, allow -2^(nbits-1) to 2^(nbits-1) - 1 */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (sign &gt;= <span class="Constant">0</span>) {<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (res &gt;= (<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)<span class="Constant">1</span> &lt;&lt; (nbits - <span class="Constant">1</span>)) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; &nbsp; } <span class="Statement">else</span> {<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (res &gt;&nbsp; (<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)<span class="Constant">1</span> &lt;&lt; (nbits - <span class="Constant">1</span>)) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; } <span class="Statement">else</span> {<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Unsigned representation expected, allow 0 to 2^nbits - 1<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; <a href="#L488" title="ocaml/runtime/ints.c:488">and</a> tolerate -(2^nbits - 1) to 0 */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (nbits &lt; <span class="Statement"><a href="caml/fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span>(<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>) * <span class="Constant">8</span> &amp;&amp; res &gt;= (<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)<span class="Constant">1</span> &lt;&lt; nbits)<br/></li>
<li>&nbsp; &nbsp; &nbsp; <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(errmsg);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">return</span> sign &lt; <span class="Constant">0</span> ? -((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) res) : (<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L117">&#x200c;</a><a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_bswap16_direct</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> x)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> ((((x &amp; <span class="Constant">0x00FF</span>) &lt;&lt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0xFF00</span>) &gt;&gt; <span class="Constant">8</span>)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L123">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_bswap16</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> x = <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v);<br/></li>
<li>&nbsp; <span class="Statement">return</span> (<a href="caml/mlvalues.h.html#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a> ((((x &amp; <span class="Constant">0x00FF</span>) &lt;&lt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((x &amp; <span class="Constant">0xFF00</span>) &gt;&gt; <span class="Constant">8</span>))));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/* Tagged integers */<br/></li>
<li></span><br/></li>
<li><a id="L132">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int_compare</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a>(<a href="#L30" title="ocaml/runtime/ints.c:30">COMPARE_INT</a>(v1, v2));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L137">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int_of_string</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> s)<br/></li>
<li>{<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a>(<a href="#L77" title="ocaml/runtime/ints.c:77">parse_intnat</a>(s, <span class="Constant">8</span> * <span class="Statement"><a href="caml/fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>) - <span class="Constant">1</span>, <a href="#L72" title="ocaml/runtime/ints.c:72">INT_ERRMSG</a>));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L142">&#x200c;</a><span class="PreProc">#define <span class="linkable">FORMAT_BUFFER_SIZE</span> </span><span class="Constant">32<br/></li>
<li></span><br/></li>
<li><a id="L144">&#x200c;</a><span class="Type">static</span> <span class="Type">char</span> <span class="linkable">parse_format</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> fmt,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">char</span> * suffix,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Type">char</span> format_string[<a href="#L142" title="ocaml/runtime/ints.c:142">FORMAT_BUFFER_SIZE</a>])<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">char</span> * p;<br/></li>
<li>&nbsp; <span class="Type">char</span> lastletter;<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L60" title="ocaml/runtime/caml/mlvalues.h:60">mlsize_t</a> len, len_suffix;<br/></li>
<li><br/></li>
<li>&nbsp; <span class="Comment">/* Copy OCaml format fmt to format_string,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; adding the suffix before the last letter of the format */<br/></li>
<li></span>&nbsp; len = <a href="str.c.html#L31" title="ocaml/runtime/str.c:31">caml_string_length</a>(fmt);<br/></li>
<li>&nbsp; len_suffix = strlen(suffix);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (len + len_suffix + <span class="Constant">1</span> &gt;= <a href="#L142" title="ocaml/runtime/ints.c:142">FORMAT_BUFFER_SIZE</a>)<br/></li>
<li>&nbsp; &nbsp; <a href="fail_nat.c.html#L140" title="ocaml/runtime/fail_nat.c:140">caml_invalid_argument</a>(<span class="Constant">&quot;format_int: format too long&quot;</span>);<br/></li>
<li>&nbsp; memmove(format_string, <a href="caml/mlvalues.h.html#L329" title="ocaml/runtime/caml/mlvalues.h:329">String_val</a>(fmt), len);<br/></li>
<li>&nbsp; p = format_string + len - <span class="Constant">1</span>;<br/></li>
<li>&nbsp; lastletter = *p;<br/></li>
<li>&nbsp; <span class="Comment">/* Compress two-letter formats, ignoring the [lnL] annotation */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (p[-<span class="Constant">1</span>] == <span class="Constant">'l'</span> || p[-<span class="Constant">1</span>] == <span class="Constant">'n'</span> || p[-<span class="Constant">1</span>] == <span class="Constant">'L'</span>) p--;<br/></li>
<li>&nbsp; memmove(p, suffix, len_suffix);&nbsp; p += len_suffix;<br/></li>
<li>&nbsp; *p++ = lastletter;<br/></li>
<li>&nbsp; *p = <span class="Constant">0</span>;<br/></li>
<li>&nbsp; <span class="Comment">/* Return the conversion type (last letter) */<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> lastletter;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L170">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_format_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> fmt, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> arg)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">char</span> format_string[<a href="#L142" title="ocaml/runtime/ints.c:142">FORMAT_BUFFER_SIZE</a>];<br/></li>
<li>&nbsp; <span class="Type">char</span> conv;<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> res;<br/></li>
<li><br/></li>
<li>&nbsp; conv = <a href="#L144" title="ocaml/runtime/ints.c:144">parse_format</a>(fmt, <a href="caml/config.h.html#L142" title="ocaml/runtime/caml/config.h:142">ARCH_INTNAT_PRINTF_FORMAT</a>, format_string);<br/></li>
<li>&nbsp; <span class="Statement">switch</span> (conv) {<br/></li>
<li>&nbsp; <span class="Statement">case</span> <span class="Constant">'u'</span>: <span class="Statement">case</span> <span class="Constant">'x'</span>: <span class="Statement">case</span> <span class="Constant">'X'</span>: <span class="Statement">case</span> <span class="Constant">'o'</span>:<br/></li>
<li>&nbsp; &nbsp; res = <a href="str.c.html#L390" title="ocaml/runtime/str.c:390">caml_alloc_sprintf</a>(format_string, <a href="caml/mlvalues.h.html#L83" title="ocaml/runtime/caml/mlvalues.h:83">Unsigned_long_val</a>(arg));<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; <span class="Statement">default</span>:<br/></li>
<li>&nbsp; &nbsp; res = <a href="str.c.html#L390" title="ocaml/runtime/str.c:390">caml_alloc_sprintf</a>(format_string, <a href="caml/mlvalues.h.html#L78" title="ocaml/runtime/caml/mlvalues.h:78">Long_val</a>(arg));<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">return</span> res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/* 32-bit integers */<br/></li>
<li></span><br/></li>
<li><a id="L190">&#x200c;</a><span class="Type">static</span> <span class="Type">int</span> <span class="linkable">int32_cmp</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i1 = <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1);<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i2 = <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">return</span> (i1 &gt; i2) - (i1 &lt; i2);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L197">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">int32_hash</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L202">&#x200c;</a><span class="Type">static</span> <span class="Type">void</span> <span class="linkable">int32_serialize</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v, <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> * bsize_32,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> * bsize_64)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="extern.c.html#L1220" title="ocaml/runtime/extern.c:1220">caml_serialize_int_4</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v));<br/></li>
<li>&nbsp; *bsize_32 = *bsize_64 = <span class="Constant">4</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L209">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">int32_deserialize</span>(<span class="Type">void</span> * dst)<br/></li>
<li>{<br/></li>
<li>&nbsp; *((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) dst) = <a href="intern.c.html#L1071" title="ocaml/runtime/intern.c:1071">caml_deserialize_sint_4</a>();<br/></li>
<li>&nbsp; <span class="Statement">return</span> <span class="Constant">4</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L215">&#x200c;</a><span class="Type">static</span> <span class="Type">const</span> <span class="Type">struct</span> <a href="caml/custom.h.html#L22" title="ocaml/runtime/caml/custom.h:22">custom_fixed_length</a> <span class="linkable">int32_length</span> = { <span class="Constant">4</span>, <span class="Constant">4</span> };<br/></li>
<li><br/></li>
<li><a id="L217">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <span class="Type">const</span> <span class="Type">struct</span> <a href="caml/custom.h.html#L27" title="ocaml/runtime/caml/custom.h:27">custom_operations</a> <span class="linkable">caml_int32_ops</span> = {<br/></li>
<li>&nbsp; <span class="Constant">&quot;_i&quot;</span>,<br/></li>
<li>&nbsp; <a href="caml/custom.h.html#L40" title="ocaml/runtime/caml/custom.h:40">custom_finalize_default</a>,<br/></li>
<li>&nbsp; <a href="#L190" title="ocaml/runtime/ints.c:190">int32_cmp</a>,<br/></li>
<li>&nbsp; <a href="#L197" title="ocaml/runtime/ints.c:197">int32_hash</a>,<br/></li>
<li>&nbsp; <a href="#L202" title="ocaml/runtime/ints.c:202">int32_serialize</a>,<br/></li>
<li>&nbsp; <a href="#L209" title="ocaml/runtime/ints.c:209">int32_deserialize</a>,<br/></li>
<li>&nbsp; <a href="caml/custom.h.html#L45" title="ocaml/runtime/caml/custom.h:45">custom_compare_ext_default</a>,<br/></li>
<li>&nbsp; &amp;<a href="#L215" title="ocaml/runtime/ints.c:215">int32_length</a><br/></li>
<li>};<br/></li>
<li><br/></li>
<li><a id="L228">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_copy_int32</span>(<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> res = <a href="custom.c.html#L82" title="ocaml/runtime/custom.c:82">caml_alloc_custom</a>(&amp;<a href="#L217" title="ocaml/runtime/ints.c:217">caml_int32_ops</a>, <span class="Constant">4</span>, <span class="Constant">0</span>, <span class="Constant">1</span>);<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(res) = i;<br/></li>
<li>&nbsp; <span class="Statement">return</span> res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L235">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_neg</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(- <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L238">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_add</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) + <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L241">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_sub</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) - <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L244">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_mul</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) * <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L247">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_div</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> dividend = <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1);<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> divisor = <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (divisor == <span class="Constant">0</span>) <a href="fail_nat.c.html#L173" title="ocaml/runtime/fail_nat.c:173">caml_raise_zero_divide</a>();<br/></li>
<li>&nbsp; <span class="Comment">/* PR#4740: on some processors, division crashes on overflow.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Implement the same behavior as for type &quot;int&quot;. */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (dividend == (<span class="Constant">1</span>&lt;&lt;<span class="Constant">31</span>) &amp;&amp; divisor == -<span class="Constant">1</span>) <span class="Statement">return</span> v1;<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(dividend / divisor);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L258">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_mod</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> dividend = <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1);<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> divisor = <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (divisor == <span class="Constant">0</span>) <a href="fail_nat.c.html#L173" title="ocaml/runtime/fail_nat.c:173">caml_raise_zero_divide</a>();<br/></li>
<li>&nbsp; <span class="Comment">/* PR#4740: on some processors, modulus crashes if division overflows.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Implement the same behavior as for type &quot;int&quot;. */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (dividend == (<span class="Constant">1</span>&lt;&lt;<span class="Constant">31</span>) &amp;&amp; divisor == -<span class="Constant">1</span>) <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<span class="Constant">0</span>);<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(dividend % divisor);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L269">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_and</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) &amp; <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L272">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_or</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) | <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L275">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_xor</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) ^ <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L278">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_shift_left</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) &lt;&lt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L281">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_shift_right</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) &gt;&gt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L284">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_shift_right_unsigned</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>((<span class="Type"><a href="caml/config.h.html#L126" title="ocaml/runtime/caml/config.h:126">uint32_t</a></span>)<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1) &gt;&gt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L287">&#x200c;</a><span class="Type">static</span> <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> <span class="linkable">caml_swap32</span>(<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> x)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> (((x &amp; <span class="Constant">0x000000FF</span>) &lt;&lt; <span class="Constant">24</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((x &amp; <span class="Constant">0x0000FF00</span>) &lt;&lt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((x &amp; <span class="Constant">0x00FF0000</span>) &gt;&gt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((x &amp; <span class="Constant">0xFF000000</span>) &gt;&gt; <span class="Constant">24</span>));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L295">&#x200c;</a><a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_direct_bswap</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L287" title="ocaml/runtime/ints.c:287">caml_swap32</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) v); }<br/></li>
<li><br/></li>
<li><a id="L298">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_bswap</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="#L287" title="ocaml/runtime/ints.c:287">caml_swap32</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L301">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_of_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) <a href="caml/mlvalues.h.html#L78" title="ocaml/runtime/caml/mlvalues.h:78">Long_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L304">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_to_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L307">&#x200c;</a><span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> <span class="linkable">caml_int32_of_float_unboxed</span>(<span class="Type">double</span> x)<br/></li>
<li>{ <span class="Statement">return</span> (<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) x; }<br/></li>
<li><br/></li>
<li><a id="L310">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_of_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>)(<a href="caml/mlvalues.h.html#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L313">&#x200c;</a><span class="Type">double</span> <span class="linkable">caml_int32_to_float_unboxed</span>(<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> x)<br/></li>
<li>{ <span class="Statement">return</span> (<span class="Type">double</span>) x; }<br/></li>
<li><br/></li>
<li><a id="L316">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_to_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="floats.c.html#L152" title="ocaml/runtime/floats.c:152">caml_copy_double</a>((<span class="Type">double</span>)(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L319">&#x200c;</a><a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">caml_int32_compare_unboxed</span>(<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L30" title="ocaml/runtime/ints.c:30">COMPARE_INT</a>(i1, i2);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L324">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_compare</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(<a href="#L319" title="ocaml/runtime/ints.c:319">caml_int32_compare_unboxed</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v1),<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v2)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L329">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_format</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> fmt, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> arg)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">char</span> format_string[<a href="#L142" title="ocaml/runtime/ints.c:142">FORMAT_BUFFER_SIZE</a>];<br/></li>
<li><br/></li>
<li>&nbsp; <a href="#L144" title="ocaml/runtime/ints.c:144">parse_format</a>(fmt, <a href="caml/config.h.html#L87" title="ocaml/runtime/caml/config.h:87">ARCH_INT32_PRINTF_FORMAT</a>, format_string);<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="str.c.html#L390" title="ocaml/runtime/str.c:390">caml_alloc_sprintf</a>(format_string, <a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(arg));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L337">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_of_string</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> s)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) <a href="#L77" title="ocaml/runtime/ints.c:77">parse_intnat</a>(s, <span class="Constant">32</span>, <a href="#L73" title="ocaml/runtime/ints.c:73">INT32_ERRMSG</a>));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L342">&#x200c;</a><span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> <span class="linkable">caml_int32_bits_of_float_unboxed</span>(<span class="Type">double</span> d)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">union</span> { <span class="Type">float</span> f; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i; } u;<br/></li>
<li>&nbsp; u.f = (<span class="Type">float</span>) d;<br/></li>
<li>&nbsp; <span class="Statement">return</span> u.i;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L349">&#x200c;</a><span class="Type">double</span> <span class="linkable">caml_int32_float_of_bits_unboxed</span>(<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">union</span> { <span class="Type">float</span> f; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i; } u;<br/></li>
<li>&nbsp; u.i = i;<br/></li>
<li>&nbsp; <span class="Statement">return</span> (<span class="Type">double</span>) u.f;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L356">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_bits_of_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> vd)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>(<a href="#L342" title="ocaml/runtime/ints.c:342">caml_int32_bits_of_float_unboxed</a>(<a href="caml/mlvalues.h.html#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a>(vd)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L361">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int32_float_of_bits</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> vi)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="floats.c.html#L152" title="ocaml/runtime/floats.c:152">caml_copy_double</a>(<a href="#L349" title="ocaml/runtime/ints.c:349">caml_int32_float_of_bits_unboxed</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(vi)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/* 64-bit integers */<br/></li>
<li></span><br/></li>
<li><span class="PreProc">#ifdef ARCH_ALIGN_INT64<br/></li>
<li></span><br/></li>
<li><a id="L370">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> <span class="linkable">caml_Int64_val</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">union</span> { <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i[<span class="Constant">2</span>]; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> j; } buffer;<br/></li>
<li>&nbsp; buffer.i[<span class="Constant">0</span>] = ((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) <a href="caml/mlvalues.h.html#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(v))[<span class="Constant">0</span>];<br/></li>
<li>&nbsp; buffer.i[<span class="Constant">1</span>] = ((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) <a href="caml/mlvalues.h.html#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(v))[<span class="Constant">1</span>];<br/></li>
<li>&nbsp; <span class="Statement">return</span> buffer.j;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><a id="L380">&#x200c;</a><span class="Type">static</span> <span class="Type">int</span> <span class="linkable">int64_cmp</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1 = <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v1);<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2 = <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">return</span> (i1 &gt; i2) - (i1 &lt; i2);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L387">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">int64_hash</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> x = <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v);<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L126" title="ocaml/runtime/caml/config.h:126">uint32_t</a></span> lo = (<span class="Type"><a href="caml/config.h.html#L126" title="ocaml/runtime/caml/config.h:126">uint32_t</a></span>) x, hi = (<span class="Type"><a href="caml/config.h.html#L126" title="ocaml/runtime/caml/config.h:126">uint32_t</a></span>) (x &gt;&gt; <span class="Constant">32</span>);<br/></li>
<li>&nbsp; <span class="Statement">return</span> hi ^ lo;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L394">&#x200c;</a><span class="Type">static</span> <span class="Type">void</span> <span class="linkable">int64_serialize</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v, <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> * bsize_32,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> * bsize_64)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="extern.c.html#L1228" title="ocaml/runtime/extern.c:1228">caml_serialize_int_8</a>(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v));<br/></li>
<li>&nbsp; *bsize_32 = *bsize_64 = <span class="Constant">8</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L401">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">int64_deserialize</span>(<span class="Type">void</span> * dst)<br/></li>
<li>{<br/></li>
<li><span class="PreProc">#ifndef ARCH_ALIGN_INT64<br/></li>
<li></span>&nbsp; *((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> *) dst) = <a href="intern.c.html#L1084" title="ocaml/runtime/intern.c:1084">caml_deserialize_sint_8</a>();<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; <span class="Type">union</span> { <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i[<span class="Constant">2</span>]; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> j; } buffer;<br/></li>
<li>&nbsp; buffer.j = <a href="intern.c.html#L1084" title="ocaml/runtime/intern.c:1084">caml_deserialize_sint_8</a>();<br/></li>
<li>&nbsp; ((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) dst)[<span class="Constant">0</span>] = buffer.i[<span class="Constant">0</span>];<br/></li>
<li>&nbsp; ((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) dst)[<span class="Constant">1</span>] = buffer.i[<span class="Constant">1</span>];<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> <span class="Constant">8</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L414">&#x200c;</a><span class="Type">static</span> <span class="Type">const</span> <span class="Type">struct</span> <a href="caml/custom.h.html#L22" title="ocaml/runtime/caml/custom.h:22">custom_fixed_length</a> <span class="linkable">int64_length</span> = { <span class="Constant">8</span>, <span class="Constant">8</span> };<br/></li>
<li><br/></li>
<li><a id="L416">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <span class="Type">const</span> <span class="Type">struct</span> <a href="caml/custom.h.html#L27" title="ocaml/runtime/caml/custom.h:27">custom_operations</a> <span class="linkable">caml_int64_ops</span> = {<br/></li>
<li>&nbsp; <span class="Constant">&quot;_j&quot;</span>,<br/></li>
<li>&nbsp; <a href="caml/custom.h.html#L40" title="ocaml/runtime/caml/custom.h:40">custom_finalize_default</a>,<br/></li>
<li>&nbsp; <a href="#L380" title="ocaml/runtime/ints.c:380">int64_cmp</a>,<br/></li>
<li>&nbsp; <a href="#L387" title="ocaml/runtime/ints.c:387">int64_hash</a>,<br/></li>
<li>&nbsp; <a href="#L394" title="ocaml/runtime/ints.c:394">int64_serialize</a>,<br/></li>
<li>&nbsp; <a href="#L401" title="ocaml/runtime/ints.c:401">int64_deserialize</a>,<br/></li>
<li>&nbsp; <a href="caml/custom.h.html#L45" title="ocaml/runtime/caml/custom.h:45">custom_compare_ext_default</a>,<br/></li>
<li>&nbsp; &amp;<a href="#L414" title="ocaml/runtime/ints.c:414">int64_length</a><br/></li>
<li>};<br/></li>
<li><br/></li>
<li><a id="L427">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_copy_int64</span>(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> res = <a href="custom.c.html#L82" title="ocaml/runtime/custom.c:82">caml_alloc_custom</a>(&amp;<a href="#L416" title="ocaml/runtime/ints.c:416">caml_int64_ops</a>, <span class="Constant">8</span>, <span class="Constant">0</span>, <span class="Constant">1</span>);<br/></li>
<li><span class="PreProc">#ifndef ARCH_ALIGN_INT64<br/></li>
<li></span>&nbsp; <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(res) = i;<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; <span class="Type">union</span> { <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> i[<span class="Constant">2</span>]; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> j; } buffer;<br/></li>
<li>&nbsp; buffer.j = i;<br/></li>
<li>&nbsp; ((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) <a href="caml/mlvalues.h.html#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(res))[<span class="Constant">0</span>] = buffer.i[<span class="Constant">0</span>];<br/></li>
<li>&nbsp; ((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> *) <a href="caml/mlvalues.h.html#L402" title="ocaml/runtime/caml/mlvalues.h:402">Data_custom_val</a>(res))[<span class="Constant">1</span>] = buffer.i[<span class="Constant">1</span>];<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L441">&#x200c;</a><span class="PreProc">#define <span class="linkable">CAMLprim_int64_1</span>(name)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> </span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc"> caml_int64_##name##_native(</span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> caml_int64_##name(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; { </span><span class="Statement">return</span><span class="PreProc"> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>(caml_int64_##name##_native(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v))); } \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> </span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc"> caml_int64_##name##_native<br/></li>
<li></span><br/></li>
<li><a id="L449">&#x200c;</a><span class="PreProc">#define <span class="linkable">CAMLprim_int64_2</span>(name)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> </span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc"> caml_int64_##name##_native(</span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc">, </span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc">);&nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> caml_int64_##name(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; { </span><span class="Statement">return</span><span class="PreProc"> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>(caml_int64_##name##_native(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v1),&nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v2))); } \<br/></li>
<li></span><span class="PreProc">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \<br/></li>
<li></span><span class="PreProc">&nbsp; <a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> </span><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span><span class="PreProc"> caml_int64_##name##_native<br/></li>
<li></span><br/></li>
<li><a id="L458">&#x200c;</a><a href="#L441" title="ocaml/runtime/ints.c:441">CAMLprim_int64_1</a>(<span class="linkable">neg</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i)<br/></li>
<li>{ <span class="Statement">return</span> -i; }<br/></li>
<li><br/></li>
<li><a id="L461">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">add</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{ <span class="Statement">return</span> i1 + i2; }<br/></li>
<li><br/></li>
<li><a id="L464">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">sub</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{ <span class="Statement">return</span> i1 - i2; }<br/></li>
<li><br/></li>
<li><a id="L467">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">mul</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{ <span class="Statement">return</span> i1 * i2; }<br/></li>
<li><br/></li>
<li><a id="L470">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">div</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> dividend, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> divisor)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">if</span> (divisor == <span class="Constant">0</span>) <a href="fail_nat.c.html#L173" title="ocaml/runtime/fail_nat.c:173">caml_raise_zero_divide</a>();<br/></li>
<li>&nbsp; <span class="Comment">/* PR#4740: on some processors, division crashes on overflow.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Implement the same behavior as for type &quot;int&quot;. */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (dividend == ((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>)<span class="Constant">1</span> &lt;&lt; <span class="Constant">63</span>) &amp;&amp; divisor == -<span class="Constant">1</span>) <span class="Statement">return</span> dividend;<br/></li>
<li>&nbsp; <span class="Statement">return</span> dividend / divisor;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L479">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">mod</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> dividend, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> divisor)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">if</span> (divisor == <span class="Constant">0</span>) <a href="fail_nat.c.html#L173" title="ocaml/runtime/fail_nat.c:173">caml_raise_zero_divide</a>();<br/></li>
<li>&nbsp; <span class="Comment">/* PR#4740: on some processors, division crashes on overflow.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Implement the same behavior as for type &quot;int&quot;. */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (dividend == ((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>)<span class="Constant">1</span> &lt;&lt; <span class="Constant">63</span>) &amp;&amp; divisor == -<span class="Constant">1</span>) <span class="Statement">return</span> <span class="Constant">0</span>;<br/></li>
<li>&nbsp; <span class="Statement">return</span> dividend % divisor;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L488">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">and</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{ <span class="Statement">return</span> i1 &amp; i2; }<br/></li>
<li><br/></li>
<li><a id="L491">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">or</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{ <span class="Statement">return</span> i1 | i2; }<br/></li>
<li><br/></li>
<li><a id="L494">&#x200c;</a><a href="#L449" title="ocaml/runtime/ints.c:449">CAMLprim_int64_2</a>(<span class="linkable">xor</span>)(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{ <span class="Statement">return</span> i1 ^ i2; }<br/></li>
<li><br/></li>
<li><a id="L497">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_shift_left</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v1) &lt;&lt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L500">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_shift_right</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v1) &gt;&gt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L503">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_shift_right_unsigned</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>((<span class="Type"><a href="caml/config.h.html#L128" title="ocaml/runtime/caml/config.h:128">uint64_t</a></span>) (<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v1)) &gt;&gt;&nbsp; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li><a id="L507">&#x200c;</a></span><span class="Type">static</span> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_swap64</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> x)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> (((((x) &amp; <span class="Constant">0x00000000000000FF</span>) &lt;&lt; <span class="Constant">56</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0x000000000000FF00</span>) &lt;&lt; <span class="Constant">40</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0x0000000000FF0000</span>) &lt;&lt; <span class="Constant">24</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0x00000000FF000000</span>) &lt;&lt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0x000000FF00000000</span>) &gt;&gt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0x0000FF0000000000</span>) &gt;&gt; <span class="Constant">24</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0x00FF000000000000</span>) &gt;&gt; <span class="Constant">40</span>) |<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (((x) &amp; <span class="Constant">0xFF00000000000000</span>) &gt;&gt; <span class="Constant">56</span>)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L519">&#x200c;</a><a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_direct_bswap</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L507" title="ocaml/runtime/ints.c:507">caml_swap64</a>(v); }<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span><br/></li>
<li><a id="L523">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_bswap</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> x = <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v);<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a><br/></li>
<li>&nbsp; &nbsp; (((x &amp; <span class="Constant">0x00000000000000FFULL</span>) &lt;&lt; <span class="Constant">56</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0x000000000000FF00ULL</span>) &lt;&lt; <span class="Constant">40</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0x0000000000FF0000ULL</span>) &lt;&lt; <span class="Constant">24</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0x00000000FF000000ULL</span>) &lt;&lt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0x000000FF00000000ULL</span>) &gt;&gt; <span class="Constant">8</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0x0000FF0000000000ULL</span>) &gt;&gt; <span class="Constant">24</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0x00FF000000000000ULL</span>) &gt;&gt; <span class="Constant">40</span>) |<br/></li>
<li>&nbsp; &nbsp;&nbsp; ((x &amp; <span class="Constant">0xFF00000000000000ULL</span>) &gt;&gt; <span class="Constant">56</span>));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L537">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_of_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>) (<a href="caml/mlvalues.h.html#L78" title="ocaml/runtime/caml/mlvalues.h:78">Long_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L540">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_to_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a>((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) (<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L543">&#x200c;</a><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> <span class="linkable">caml_int64_of_float_unboxed</span>(<span class="Type">double</span> x)<br/></li>
<li>{ <span class="Statement">return</span> (<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>) x; }<br/></li>
<li><br/></li>
<li><a id="L546">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_of_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>) (<a href="caml/mlvalues.h.html#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L549">&#x200c;</a><span class="Type">double</span> <span class="linkable">caml_int64_to_float_unboxed</span>(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> x)<br/></li>
<li>{ <span class="Statement">return</span> (<span class="Type">double</span>) x; }<br/></li>
<li><br/></li>
<li><a id="L552">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_to_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="floats.c.html#L152" title="ocaml/runtime/floats.c:152">caml_copy_double</a>((<span class="Type">double</span>) (<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L555">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_of_int32</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>) (<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L558">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_to_int32</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) (<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L561">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_of_nativeint</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>((<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span>) (<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L564">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_to_nativeint</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) (<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L567">&#x200c;</a><a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">caml_int64_compare_unboxed</span>(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i1, <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L30" title="ocaml/runtime/ints.c:30">COMPARE_INT</a>(i1, i2);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L572">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_compare</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(<a href="#L567" title="ocaml/runtime/ints.c:567">caml_int64_compare_unboxed</a>(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v1),<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(v2)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L577">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_format</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> fmt, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> arg)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">char</span> format_string[<a href="#L142" title="ocaml/runtime/ints.c:142">FORMAT_BUFFER_SIZE</a>];<br/></li>
<li><br/></li>
<li>&nbsp; <a href="#L144" title="ocaml/runtime/ints.c:144">parse_format</a>(fmt, <a href="caml/config.h.html#L104" title="ocaml/runtime/caml/config.h:104">ARCH_INT64_PRINTF_FORMAT</a>, format_string);<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="str.c.html#L390" title="ocaml/runtime/str.c:390">caml_alloc_sprintf</a>(format_string, <a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(arg));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L585">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_of_string</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> s)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">const</span> <span class="Type">char</span> * p;<br/></li>
<li>&nbsp; <span class="Type"><a href="caml/config.h.html#L128" title="ocaml/runtime/caml/config.h:128">uint64_t</a></span> res, threshold;<br/></li>
<li>&nbsp; <span class="Type">int</span> sign, base, signedness, d;<br/></li>
<li><br/></li>
<li>&nbsp; p = <a href="#L33" title="ocaml/runtime/ints.c:33">parse_sign_and_base</a>(<a href="caml/mlvalues.h.html#L329" title="ocaml/runtime/caml/mlvalues.h:329">String_val</a>(s), &amp;base, &amp;signedness, &amp;sign);<br/></li>
<li>&nbsp; threshold = ((<span class="Type"><a href="caml/config.h.html#L128" title="ocaml/runtime/caml/config.h:128">uint64_t</a></span>) -<span class="Constant">1</span>) / base;<br/></li>
<li>&nbsp; d = <a href="#L60" title="ocaml/runtime/ints.c:60">parse_digit</a>(*p);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (d &lt; <span class="Constant">0</span> || d &gt;= base) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(<a href="#L74" title="ocaml/runtime/ints.c:74">INT64_ERRMSG</a>);<br/></li>
<li>&nbsp; res = d;<br/></li>
<li>&nbsp; <span class="Statement">for</span> (p++; <span class="Comment">/*nothing*/</span>; p++) {<br/></li>
<li>&nbsp; &nbsp; <span class="Type">char</span> c = *p;<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (c == <span class="Constant">'_'</span>) <span class="Statement">continue</span>;<br/></li>
<li>&nbsp; &nbsp; d = <a href="#L60" title="ocaml/runtime/ints.c:60">parse_digit</a>(c);<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">if</span> (d &lt; <span class="Constant">0</span> || d &gt;= base) <span class="Statement">break</span>;<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Detect overflow in multiplication base * res */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (res &gt; threshold) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(<a href="#L74" title="ocaml/runtime/ints.c:74">INT64_ERRMSG</a>);<br/></li>
<li>&nbsp; &nbsp; res = base * res + d;<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Detect overflow in addition (base * res) + d */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (res &lt; (<span class="Type"><a href="caml/config.h.html#L128" title="ocaml/runtime/caml/config.h:128">uint64_t</a></span>) d) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(<a href="#L74" title="ocaml/runtime/ints.c:74">INT64_ERRMSG</a>);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">if</span> (p != <a href="caml/mlvalues.h.html#L329" title="ocaml/runtime/caml/mlvalues.h:329">String_val</a>(s) + <a href="str.c.html#L31" title="ocaml/runtime/str.c:31">caml_string_length</a>(s)){<br/></li>
<li>&nbsp; &nbsp; <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(<a href="#L74" title="ocaml/runtime/ints.c:74">INT64_ERRMSG</a>);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">if</span> (signedness) {<br/></li>
<li>&nbsp; &nbsp; <span class="Comment">/* Signed representation expected, allow -2^63 to 2^63 - 1 only */<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span> (sign &gt;= <span class="Constant">0</span>) {<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (res &gt;= (<span class="Type"><a href="caml/config.h.html#L128" title="ocaml/runtime/caml/config.h:128">uint64_t</a></span>)<span class="Constant">1</span> &lt;&lt; <span class="Constant">63</span>) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(<a href="#L74" title="ocaml/runtime/ints.c:74">INT64_ERRMSG</a>);<br/></li>
<li>&nbsp; &nbsp; } <span class="Statement">else</span> {<br/></li>
<li>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span> (res &gt;&nbsp; (<span class="Type"><a href="caml/config.h.html#L128" title="ocaml/runtime/caml/config.h:128">uint64_t</a></span>)<span class="Constant">1</span> &lt;&lt; <span class="Constant">63</span>) <a href="fail_nat.c.html#L130" title="ocaml/runtime/fail_nat.c:130">caml_failwith</a>(<a href="#L74" title="ocaml/runtime/ints.c:74">INT64_ERRMSG</a>);<br/></li>
<li>&nbsp; &nbsp; }<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">if</span> (sign &lt; <span class="Constant">0</span>) res = - res;<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>(res);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L622">&#x200c;</a><span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> <span class="linkable">caml_int64_bits_of_float_unboxed</span>(<span class="Type">double</span> d)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">union</span> { <span class="Type">double</span> d; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> h[<span class="Constant">2</span>]; } u;<br/></li>
<li>&nbsp; u.d = d;<br/></li>
<li><span class="PreProc">#if defined(__arm__) &amp;&amp; !defined(__ARM_EABI__)<br/></li>
<li></span>&nbsp; { <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> t = u.h[<span class="Constant">0</span>]; u.h[<span class="Constant">0</span>] = u.h[<span class="Constant">1</span>]; u.h[<span class="Constant">1</span>] = t; }<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> u.i;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L632">&#x200c;</a><span class="Type">double</span> <span class="linkable">caml_int64_float_of_bits_unboxed</span>(<span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">union</span> { <span class="Type">double</span> d; <span class="Type"><a href="caml/config.h.html#L127" title="ocaml/runtime/caml/config.h:127">int64_t</a></span> i; <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> h[<span class="Constant">2</span>]; } u;<br/></li>
<li>&nbsp; u.i = i;<br/></li>
<li><span class="PreProc">#if defined(__arm__) &amp;&amp; !defined(__ARM_EABI__)<br/></li>
<li></span>&nbsp; { <span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span> t = u.h[<span class="Constant">0</span>]; u.h[<span class="Constant">0</span>] = u.h[<span class="Constant">1</span>]; u.h[<span class="Constant">1</span>] = t; }<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> u.d;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L642">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_bits_of_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> vd)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L427" title="ocaml/runtime/ints.c:427">caml_copy_int64</a>(<a href="#L622" title="ocaml/runtime/ints.c:622">caml_int64_bits_of_float_unboxed</a>(<a href="caml/mlvalues.h.html#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a>(vd)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L647">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_int64_float_of_bits</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> vi)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="floats.c.html#L152" title="ocaml/runtime/floats.c:152">caml_copy_double</a>(<a href="#L632" title="ocaml/runtime/ints.c:632">caml_int64_float_of_bits_unboxed</a>(<a href="caml/mlvalues.h.html#L410" title="ocaml/runtime/caml/mlvalues.h:410">Int64_val</a>(vi)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><span class="Comment">/* Native integers */<br/></li>
<li></span><br/></li>
<li><a id="L654">&#x200c;</a><span class="Type">static</span> <span class="Type">int</span> <span class="linkable">nativeint_cmp</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> i1 = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1);<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> i2 = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">return</span> (i1 &gt; i2) - (i1 &lt; i2);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L661">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">nativeint_hash</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> n = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v);<br/></li>
<li><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li></span>&nbsp; <span class="Comment">/* 32/64 bits compatibility trick.&nbsp; See explanations in file &quot;hash.c&quot;,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; function <a href="hash.c.html#L56" title="ocaml/runtime/hash.c:56">caml_hash_mix_intnat</a>. */<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> (n &gt;&gt; <span class="Constant">32</span>) ^ (n &gt;&gt; <span class="Constant">63</span>) ^ n;<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> n;<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><a id="L673">&#x200c;</a><span class="Type">static</span> <span class="Type">void</span> <span class="linkable">nativeint_serialize</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v, <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> * bsize_32,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> * bsize_64)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> l = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v);<br/></li>
<li><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (l &gt;= -((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)<span class="Constant">1</span> &lt;&lt; <span class="Constant">31</span>) &amp;&amp; l &lt; ((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)<span class="Constant">1</span> &lt;&lt; <span class="Constant">31</span>)) {<br/></li>
<li>&nbsp; &nbsp; <a href="extern.c.html#L1204" title="ocaml/runtime/extern.c:1204">caml_serialize_int_1</a>(<span class="Constant">1</span>);<br/></li>
<li>&nbsp; &nbsp; <a href="extern.c.html#L1220" title="ocaml/runtime/extern.c:1220">caml_serialize_int_4</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) l);<br/></li>
<li>&nbsp; } <span class="Statement">else</span> {<br/></li>
<li>&nbsp; &nbsp; <a href="extern.c.html#L1204" title="ocaml/runtime/extern.c:1204">caml_serialize_int_1</a>(<span class="Constant">2</span>);<br/></li>
<li>&nbsp; &nbsp; <a href="extern.c.html#L1228" title="ocaml/runtime/extern.c:1228">caml_serialize_int_8</a>(l);<br/></li>
<li>&nbsp; }<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; <a href="extern.c.html#L1204" title="ocaml/runtime/extern.c:1204">caml_serialize_int_1</a>(<span class="Constant">1</span>);<br/></li>
<li>&nbsp; <a href="extern.c.html#L1220" title="ocaml/runtime/extern.c:1220">caml_serialize_int_4</a>(l);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; *bsize_32 = <span class="Constant">4</span>;<br/></li>
<li>&nbsp; *bsize_64 = <span class="Constant">8</span>;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L693">&#x200c;</a><span class="Type">static</span> <a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a> <span class="linkable">nativeint_deserialize</span>(<span class="Type">void</span> * dst)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">switch</span> (<a href="intern.c.html#L1041" title="ocaml/runtime/intern.c:1041">caml_deserialize_uint_1</a>()) {<br/></li>
<li>&nbsp; <span class="Statement">case</span> <span class="Constant">1</span>:<br/></li>
<li>&nbsp; &nbsp; *((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> *) dst) = <a href="intern.c.html#L1071" title="ocaml/runtime/intern.c:1071">caml_deserialize_sint_4</a>();<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; <span class="Statement">case</span> <span class="Constant">2</span>:<br/></li>
<li><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li></span>&nbsp; &nbsp; *((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> *) dst) = <a href="intern.c.html#L1084" title="ocaml/runtime/intern.c:1084">caml_deserialize_sint_8</a>();<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; &nbsp; <a href="intern.c.html#L1173" title="ocaml/runtime/intern.c:1173">caml_deserialize_error</a>(<span class="Constant">&quot;input_value: native integer <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> too large&quot;</span>);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">break</span>;<br/></li>
<li>&nbsp; <span class="Statement">default</span>:<br/></li>
<li>&nbsp; &nbsp; <a href="intern.c.html#L1173" title="ocaml/runtime/intern.c:1173">caml_deserialize_error</a>(<span class="Constant">&quot;input_value: ill-formed native integer&quot;</span>);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">return</span> <span class="Statement"><a href="caml/fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span>(<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L712">&#x200c;</a><span class="Type">static</span> <span class="Type">const</span> <span class="Type">struct</span> <a href="caml/custom.h.html#L22" title="ocaml/runtime/caml/custom.h:22">custom_fixed_length</a> <span class="linkable">nativeint_length</span> = { <span class="Constant">4</span>, <span class="Constant">8</span> };<br/></li>
<li><a id="L713">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <span class="Type">const</span> <span class="Type">struct</span> <a href="caml/custom.h.html#L27" title="ocaml/runtime/caml/custom.h:27">custom_operations</a> <span class="linkable">caml_nativeint_ops</span> = {<br/></li>
<li>&nbsp; <span class="Constant">&quot;_n&quot;</span>,<br/></li>
<li>&nbsp; <a href="caml/custom.h.html#L40" title="ocaml/runtime/caml/custom.h:40">custom_finalize_default</a>,<br/></li>
<li>&nbsp; <a href="#L654" title="ocaml/runtime/ints.c:654">nativeint_cmp</a>,<br/></li>
<li>&nbsp; <a href="#L661" title="ocaml/runtime/ints.c:661">nativeint_hash</a>,<br/></li>
<li>&nbsp; <a href="#L673" title="ocaml/runtime/ints.c:673">nativeint_serialize</a>,<br/></li>
<li>&nbsp; <a href="#L693" title="ocaml/runtime/ints.c:693">nativeint_deserialize</a>,<br/></li>
<li>&nbsp; <a href="caml/custom.h.html#L45" title="ocaml/runtime/caml/custom.h:45">custom_compare_ext_default</a>,<br/></li>
<li>&nbsp; &amp;<a href="#L712" title="ocaml/runtime/ints.c:712">nativeint_length</a><br/></li>
<li>};<br/></li>
<li><br/></li>
<li><a id="L724">&#x200c;</a><a href="caml/misc.h.html#L123" title="ocaml/runtime/caml/misc.h:123">CAMLexport</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_copy_nativeint</span>(<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> i)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> res = <a href="custom.c.html#L82" title="ocaml/runtime/custom.c:82">caml_alloc_custom</a>(&amp;<a href="#L713" title="ocaml/runtime/ints.c:713">caml_nativeint_ops</a>, <span class="Statement"><a href="caml/fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span>(<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>), <span class="Constant">0</span>, <span class="Constant">1</span>);<br/></li>
<li>&nbsp; <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(res) = i;<br/></li>
<li>&nbsp; <span class="Statement">return</span> res;<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L731">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_neg</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(- <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L734">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_add</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) + <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L737">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_sub</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) - <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L740">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_mul</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) * <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L743">&#x200c;</a><span class="PreProc">#define <span class="linkable">Nativeint_min_int</span> ((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) </span><span class="Constant">1</span><span class="PreProc"> &lt;&lt; (</span><span class="Statement"><a href="caml/fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span><span class="PreProc">(<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) * </span><span class="Constant">8</span><span class="PreProc"> - </span><span class="Constant">1</span><span class="PreProc">))<br/></li>
<li></span><br/></li>
<li><a id="L745">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_div</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> dividend = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1);<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> divisor = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (divisor == <span class="Constant">0</span>) <a href="fail_nat.c.html#L173" title="ocaml/runtime/fail_nat.c:173">caml_raise_zero_divide</a>();<br/></li>
<li>&nbsp; <span class="Comment">/* PR#4740: on some processors, modulus crashes if division overflows.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Implement the same behavior as for type &quot;int&quot;. */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (dividend == <a href="#L743" title="ocaml/runtime/ints.c:743">Nativeint_min_int</a> &amp;&amp; divisor == -<span class="Constant">1</span>) <span class="Statement">return</span> v1;<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(dividend / divisor);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L756">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_mod</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> dividend = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1);<br/></li>
<li>&nbsp; <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> divisor = <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2);<br/></li>
<li>&nbsp; <span class="Statement">if</span> (divisor == <span class="Constant">0</span>) <a href="fail_nat.c.html#L173" title="ocaml/runtime/fail_nat.c:173">caml_raise_zero_divide</a>();<br/></li>
<li>&nbsp; <span class="Comment">/* PR#4740: on some processors, modulus crashes if division overflows.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Implement the same behavior as for type &quot;int&quot;. */<br/></li>
<li></span>&nbsp; <span class="Statement">if</span> (dividend == <a href="#L743" title="ocaml/runtime/ints.c:743">Nativeint_min_int</a> &amp;&amp; divisor == -<span class="Constant">1</span>){<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<span class="Constant">0</span>);<br/></li>
<li>&nbsp; }<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(dividend % divisor);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L769">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_and</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) &amp; <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L772">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_or</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) | <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L775">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_xor</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) ^ <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L778">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_shift_left</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) &lt;&lt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L781">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_shift_right</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) &gt;&gt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L784">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_shift_right_unsigned</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>((<a href="caml/config.h.html#L141" title="ocaml/runtime/caml/config.h:141">uintnat</a>)<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1) &gt;&gt; <a href="caml/mlvalues.h.html#L82" title="ocaml/runtime/caml/mlvalues.h:82">Int_val</a>(v2)); }<br/></li>
<li><br/></li>
<li><a id="L787">&#x200c;</a><a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_direct_bswap</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> <a href="#L507" title="ocaml/runtime/ints.c:507">caml_swap64</a>(v);<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> <a href="#L287" title="ocaml/runtime/ints.c:287">caml_swap32</a>(v);<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><a id="L796">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_bswap</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{<br/></li>
<li><span class="PreProc">#ifdef ARCH_SIXTYFOUR<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="#L507" title="ocaml/runtime/ints.c:507">caml_swap64</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v)));<br/></li>
<li><span class="PreProc">#else<br/></li>
<li></span>&nbsp; <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="#L287" title="ocaml/runtime/ints.c:287">caml_swap32</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v)));<br/></li>
<li><span class="PreProc">#endif<br/></li>
<li></span>}<br/></li>
<li><br/></li>
<li><a id="L805">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_of_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L78" title="ocaml/runtime/caml/mlvalues.h:78">Long_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L808">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_to_int</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L77" title="ocaml/runtime/caml/mlvalues.h:77">Val_long</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L811">&#x200c;</a><a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">caml_nativeint_of_float_unboxed</span>(<span class="Type">double</span> x)<br/></li>
<li>{ <span class="Statement">return</span> (<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>) x; }<br/></li>
<li><br/></li>
<li><a id="L814">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_of_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>((<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a>)(<a href="caml/mlvalues.h.html#L339" title="ocaml/runtime/caml/mlvalues.h:339">Double_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L817">&#x200c;</a><span class="Type">double</span> <span class="linkable">caml_nativeint_to_float_unboxed</span>(<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> x)<br/></li>
<li>{ <span class="Statement">return</span> (<span class="Type">double</span>) x; }<br/></li>
<li><br/></li>
<li><a id="L820">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_to_float</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="floats.c.html#L152" title="ocaml/runtime/floats.c:152">caml_copy_double</a>((<span class="Type">double</span>)(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v))); }<br/></li>
<li><br/></li>
<li><a id="L823">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_of_int32</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="caml/mlvalues.h.html#L407" title="ocaml/runtime/caml/mlvalues.h:407">Int32_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L826">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_to_int32</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v)<br/></li>
<li>{ <span class="Statement">return</span> <a href="#L228" title="ocaml/runtime/ints.c:228">caml_copy_int32</a>((<span class="Type"><a href="caml/config.h.html#L125" title="ocaml/runtime/caml/config.h:125">int32_t</a></span>) <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v)); }<br/></li>
<li><br/></li>
<li><a id="L829">&#x200c;</a><a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> <span class="linkable">caml_nativeint_compare_unboxed</span>(<a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> i1, <a href="caml/config.h.html#L140" title="ocaml/runtime/caml/config.h:140">intnat</a> i2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L30" title="ocaml/runtime/ints.c:30">COMPARE_INT</a>(i1, i2);<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L834">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_compare</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v1, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> v2)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="caml/mlvalues.h.html#L81" title="ocaml/runtime/caml/mlvalues.h:81">Val_int</a>(<a href="#L829" title="ocaml/runtime/ints.c:829">caml_nativeint_compare_unboxed</a>(<a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v1),<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(v2)));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L840">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_format</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> fmt, <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> arg)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Type">char</span> format_string[<a href="#L142" title="ocaml/runtime/ints.c:142">FORMAT_BUFFER_SIZE</a>];<br/></li>
<li><br/></li>
<li>&nbsp; <a href="#L144" title="ocaml/runtime/ints.c:144">parse_format</a>(fmt, <a href="caml/config.h.html#L142" title="ocaml/runtime/caml/config.h:142">ARCH_INTNAT_PRINTF_FORMAT</a>, format_string);<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="str.c.html#L390" title="ocaml/runtime/str.c:390">caml_alloc_sprintf</a>(format_string, <a href="caml/mlvalues.h.html#L408" title="ocaml/runtime/caml/mlvalues.h:408">Nativeint_val</a>(arg));<br/></li>
<li>}<br/></li>
<li><br/></li>
<li><a id="L848">&#x200c;</a><a href="caml/misc.h.html#L124" title="ocaml/runtime/caml/misc.h:124">CAMLprim</a> <a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> <span class="linkable">caml_nativeint_of_string</span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a> s)<br/></li>
<li>{<br/></li>
<li>&nbsp; <span class="Statement">return</span> <a href="#L724" title="ocaml/runtime/ints.c:724">caml_copy_nativeint</a>(<a href="#L77" title="ocaml/runtime/ints.c:77">parse_intnat</a>(s, <span class="Constant">8</span> * <span class="Statement"><a href="caml/fiber.h.html#L65" title="ocaml/runtime/caml/fiber.h:65">sizeof</a></span>(<a href="caml/mlvalues.h.html#L57" title="ocaml/runtime/caml/mlvalues.h:57">value</a>), <a href="#L75" title="ocaml/runtime/ints.c:75">INTNAT_ERRMSG</a>));<br/></li>
<li>}<br/></li>
</ol></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
