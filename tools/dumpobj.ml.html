<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/tools/dumpobj.ml - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/tools/dumpobj.ml - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L89">a</a></li>
<li><a href="#L525">arg_fun</a></li>
<li><a href="#L508">arg_list</a></li>
<li><a href="#L519">arg_usage</a></li>
<li><a href="#L505">code_size</a></li>
<li><a href="#L196">currpc</a></li>
<li><a href="#L121">currpos</a></li>
<li><a href="#L480">dump_exe</a></li>
<li><a href="#L458">dump_obj</a></li>
<li><a href="#L61">event_table</a></li>
<li><a href="#L499">evl</a></li>
<li><a href="#L130">find_reloc</a></li>
<li><a href="#L523">first_file</a></li>
<li><a href="#L55">globals</a></li>
<li><a href="#L39">inputs</a></li>
<li><a href="#L32">inputu</a></li>
<li><a href="#L538">main</a></li>
<li><a href="#L496">num_eventlists</a></li>
<li><a href="#L57">objfile</a></li>
<li><a href="#L216">op_shapes</a></li>
<li><a href="#L498">orig</a></li>
<li><a href="#L56">primitives</a></li>
<li><a href="#L26">print_banners</a></li>
<li><a href="#L441">print_code</a></li>
<li><a href="#L372">print_event</a></li>
<li><a href="#L135">print_getglobal_name</a></li>
<li><a href="#L380">print_instr</a></li>
<li><a href="#L27">print_locations</a></li>
<li><a href="#L176">print_primitive</a></li>
<li><a href="#L448">print_reloc</a></li>
<li><a href="#L28">print_reloc_info</a></li>
<li><a href="#L156">print_setglobal_name</a></li>
<li><a href="#L126">rassoc</a></li>
<li><a href="#L69">record_events</a></li>
<li><a href="#L54">reloc</a></li>
<li><a href="#L63">relocate_event</a></li>
<li><a href="#L53">start</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L49">global_table_entry</a></li>
<li><a href="#L199">shape</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Xavier Leroy, projet Cristal, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 1996 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This <a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a> is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the <a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a> LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Disassembler for executable and .cmo object <a href="ocamltex.ml.html#L67" title="ocaml/tools/ocamltex.ml:67">files</a> *)<br/></li>
<li></span><br/></li>
<li><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Config<br/></li>
<li></span><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Instruct<br/></li>
<li></span><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Location<br/></li>
<li></span><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Opcodes<br/></li>
<li></span><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Opnames<br/></li>
<li></span><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Cmo_format<br/></li>
<li></span><span class="Statement"><a href="ocamlcmt.ml.html#L53" title="ocaml/tools/ocamlcmt.ml:53">open</a></span><span class="ocamlNone"> </span><span class="PreProc">Printf<br/></li>
<li></span><br/></li>
<li><a id="L26">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_banners</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">true<br/></li>
<li><a id="L27">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_locations</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">true<br/></li>
<li><a id="L28">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_reloc_info</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Read signed and unsigned integers *)<br/></li>
<li></span><br/></li>
<li><a id="L32">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">inputu</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b2</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b3</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b4</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">b4</span> <span class="Statement">lsl</span> <span class="Constant">24</span><span class="Statement">)</span> + <span class="Statement">(</span><span class="ocamlLCIdentifier">b3</span> <span class="Statement">lsl</span> <span class="Constant">16</span><span class="Statement">)</span> + <span class="Statement">(</span><span class="ocamlLCIdentifier">b2</span> <span class="Statement">lsl</span> <span class="Constant">8</span><span class="Statement">)</span> + <span class="ocamlLCIdentifier">b1<br/></li>
<li></span><br/></li>
<li><a id="L39">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">inputs</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b1</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b2</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b3</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b4</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_byte</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">b4</span>' <span class="Statement">=</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">b4</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="Constant">128</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">b4</span>-<span class="Constant">256</span> <span class="Statement">else</span> <span class="ocamlLCIdentifier">b4</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">b4</span>' <span class="Statement">lsl</span> <span class="Constant">24</span><span class="Statement">)</span> + <span class="Statement">(</span><span class="ocamlLCIdentifier">b3</span> <span class="Statement">lsl</span> <span class="Constant">16</span><span class="Statement">)</span> + <span class="Statement">(</span><span class="ocamlLCIdentifier">b2</span> <span class="Statement">lsl</span> <span class="Constant">8</span><span class="Statement">)</span> + <span class="ocamlLCIdentifier">b1<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Global variables *)<br/></li>
<li></span><br/></li>
<li><a id="L49">&#x200c;</a><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">global_table_entry</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Global</span> <span class="Statement">of</span> <span class="PreProc">Ident</span>.<span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L411" title="ocaml/tools/ocamltex.ml:411">t</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Constant</span> <span class="Statement">of</span> <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L411" title="ocaml/tools/ocamltex.ml:411">t</a><br/></li>
<li></span><br/></li>
<li><a id="L53">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">start</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">0</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Position of beg. of code *)<br/></li>
<li><a id="L54">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">reloc</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">(</span><span class="Constant">[]</span> : <span class="Statement">(</span><span class="ocamlLCIdentifier">reloc_info</span> <span class="Statement">*</span> <span class="Type">int</span><span class="Statement">)</span> <span class="Type">list</span><span class="Statement">)</span> <span class="Comment">(* Relocation table *)<br/></li>
<li><a id="L55">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">globals</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">([||]</span> : <span class="ocamlLCIdentifier"><a href="#L49" title="ocaml/tools/dumpobj.ml:49">global_table_entry</a></span> <span class="Type">array</span><span class="Statement">)</span> <span class="Comment">(* Global map *)<br/></li>
<li><a id="L56">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">primitives</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Statement">([||]</span> : <span class="Type">string</span> <span class="Type">array</span><span class="Statement">)</span>&nbsp; &nbsp;&nbsp; <span class="Comment">(* Table of <span class="linkable">primitives</span> *)<br/></li>
<li><a id="L57">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">objfile</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">false</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* true if dumping <a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a> .cmo *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Events (indexed by PC) *)<br/></li>
<li></span><br/></li>
<li><a id="L61">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">event_table</span></span> <span class="Statement">=</span> <span class="Statement">(</span><span class="PreProc">Hashtbl</span>.<span class="ocamlLCIdentifier">create</span> <span class="Constant">253</span> : <span class="Statement">(</span><span class="Type">int</span>, <span class="ocamlLCIdentifier">debug_event</span><span class="Statement">)</span> <span class="PreProc">Hashtbl</span>.<span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L411" title="ocaml/tools/ocamltex.ml:411">t</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L63">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">relocate_event</span></span> <span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span> <span class="ocamlLCIdentifier">ev</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_pos</span> <span class="Statement">&lt;-</span> <span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span> + <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_pos</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_repr</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Event_parent</span> <span class="ocamlLCIdentifier">repr</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">repr</span> <span class="Statement">:=</span> <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_pos<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L69">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">record_events</span></span> <span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span> <span class="ocamlLCIdentifier"><a href="#L499" title="ocaml/tools/dumpobj.ml:499">evl</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">iter<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">ev</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L63" title="ocaml/tools/dumpobj.ml:63">relocate_event</a></span> <span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span> <span class="ocamlLCIdentifier">ev</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="PreProc">Hashtbl</span>.<span class="ocamlLCIdentifier">add</span> <span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/tools/dumpobj.ml:61">event_table</a></span> <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_pos</span> <span class="ocamlLCIdentifier">ev</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L499" title="ocaml/tools/dumpobj.ml:499">evl</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Print an obj *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">same_custom</span> <span class="ocamlLCIdentifier">x</span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Nativeint</span>.<span class="ocamlLCIdentifier">equal</span> <span class="Statement">(</span><span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">raw_field</span> <span class="ocamlLCIdentifier">x</span> <span class="Constant">0</span><span class="Statement">)</span> <span class="Statement">(</span><span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">raw_field</span> <span class="Statement">(</span><span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">repr</span> <span class="ocamlLCIdentifier">y</span><span class="Statement">)</span> <span class="Constant">0</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">print_obj</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">is_block</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">tag</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">string_tag</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;%S&quot;</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">magic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> : </span><span class="Type">string</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">double_tag</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;%.12g&quot;</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">magic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> : </span><span class="Type">float</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">double_array_tag</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Statement">begin<br/></li>
<li><a id="L89">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">a</span></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">magic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> : </span><span class="ocamlLCIdentifier">floatarray</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;[|&quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">to</span><span class="ocamlEnd"> </span><span class="PreProc">Array</span><span class="ocamlEnd">.</span><span class="PreProc">Floatarray</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">length</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a></span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlDo"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlDo"> </span><span class="Constant">&quot;%.12g&quot;</span><span class="ocamlDo"> </span><span class="Statement">(</span><span class="PreProc">Array</span><span class="ocamlDo">.</span><span class="PreProc">Floatarray</span><span class="ocamlDo">.</span><span class="ocamlLCIdentifier"><a href="lintapidiff.ml.html#L100" title="ocaml/tools/lintapidiff.ml:100">get</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">done;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;|]&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end</span><span class="ocamlEnd"> </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">custom_tag</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">same_custom</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlNone"> </span><span class="Constant">0l</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;%ldl&quot;</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">magic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> : </span><span class="Type">int32</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">custom_tag</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">same_custom</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlNone"> </span><span class="Constant">0n</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;%ndn&quot;</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">magic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> : </span><span class="Type">nativeint</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">custom_tag</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">same_custom</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlNone"> </span><span class="Constant">0L</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;%LdL&quot;</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">magic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> : </span><span class="Type">int64</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="PreProc">Obj</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">no_scan_tag</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;%d&gt;&quot;</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">tag</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">size</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">0</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;(&quot;</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_obj</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">field</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;)&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;(&quot;</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_obj</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">field</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">to</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlDo"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">print_obj</span><span class="ocamlDo"> </span><span class="Statement">(</span><span class="PreProc">Obj</span><span class="ocamlDo">.</span><span class="ocamlLCIdentifier">field</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">x</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">done;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;)&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end</span><span class="ocamlEnd"> </span><span class="Statement">else<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">printf</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;tag %d&gt;&quot;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tag<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;%d&quot;</span> <span class="Statement">(</span><span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier">magic</span> <span class="ocamlLCIdentifier">x</span> : <span class="Type">int</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Current position in input <a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a> *)<br/></li>
<li></span><br/></li>
<li><a id="L121">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">currpos</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">pos_in</span> <span class="ocamlLCIdentifier">ic</span> - <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L53" title="ocaml/tools/dumpobj.ml:53">start</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Access in the relocation table *)<br/></li>
<li></span><br/></li>
<li><a id="L126">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">rassoc</span></span> <span class="ocamlLCIdentifier">key</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">[]</span> <span class="Statement">-&gt;</span> <span class="Statement">raise</span> <span class="Constant">Not_found<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a></span>,<span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="Statement">::</span> <span class="ocamlLCIdentifier"><a href="ocamlprof.ml.html#L187" title="ocaml/tools/ocamlprof.ml:187">l</a></span> <span class="Statement">-&gt;</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">b</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">key</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a></span> <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="#L126" title="ocaml/tools/dumpobj.ml:126">rassoc</a></span> <span class="ocamlLCIdentifier">key</span> <span class="ocamlLCIdentifier"><a href="ocamlprof.ml.html#L187" title="ocaml/tools/ocamlprof.ml:187">l</a><br/></li>
<li></span><br/></li>
<li><a id="L130">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">find_reloc</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L126" title="ocaml/tools/dumpobj.ml:126">rassoc</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pos_in</span> <span class="ocamlLCIdentifier">ic</span> - <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L53" title="ocaml/tools/dumpobj.ml:53">start</a></span><span class="Statement">)</span> <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Symbolic printing of global names, etc *)<br/></li>
<li></span><br/></li>
<li><a id="L135">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_getglobal_name</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L57" title="ocaml/tools/dumpobj.ml:57">objfile</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">try<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L130" title="ocaml/tools/dumpobj.ml:130">find_reloc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Reloc_getglobal</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Ident</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L539" title="ocaml/tools/ocamltex.ml:539">name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Reloc_literal</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">sc</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_obj</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">sc<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;wrong <a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">with</span><span class="ocamlEnd"> </span><span class="Constant">Not_found</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;no <a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ignore</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="PreProc">Array</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">length</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L55" title="ocaml/tools/dumpobj.ml:55">globals</a></span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;global table overflow&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L55" title="ocaml/tools/dumpobj.ml:55">globals</a></span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Global</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="Statement">(</span><span class="PreProc">Ident</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L539" title="ocaml/tools/ocamltex.ml:539">name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Constant</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">obj</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_obj</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">obj<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><a id="L156">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_setglobal_name</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L57" title="ocaml/tools/dumpobj.ml:57">objfile</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">try<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L130" title="ocaml/tools/dumpobj.ml:130">find_reloc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Reloc_setglobal</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Ident</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L539" title="ocaml/tools/ocamltex.ml:539">name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;wrong <a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">with</span><span class="ocamlEnd"> </span><span class="Constant">Not_found</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;no <a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ignore</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="PreProc">Array</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">length</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L55" title="ocaml/tools/dumpobj.ml:55">globals</a></span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;global table overflow&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L55" title="ocaml/tools/dumpobj.ml:55">globals</a></span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Constant">Global</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="Statement">(</span><span class="PreProc">Ident</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L539" title="ocaml/tools/ocamltex.ml:539">name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">id</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;???&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><a id="L176">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_primitive</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L57" title="ocaml/tools/dumpobj.ml:57">objfile</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">try<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L130" title="ocaml/tools/dumpobj.ml:130">find_reloc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Reloc_primitive</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a></span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;wrong <a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">with</span><span class="ocamlEnd"> </span><span class="Constant">Not_found</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;&lt;no <a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&gt;&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ignore</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="PreProc">Array</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">length</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L56" title="ocaml/tools/dumpobj.ml:56">primitives</a></span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L56" title="ocaml/tools/dumpobj.ml:56">primitives</a></span><span class="ocamlEnd">.</span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Disassemble one instruction *)<br/></li>
<li></span><br/></li>
<li><a id="L196">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">currpc</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L121" title="ocaml/tools/dumpobj.ml:121">currpos</a></span> <span class="ocamlLCIdentifier">ic</span> / <span class="Constant">4<br/></li>
<li></span><br/></li>
<li><a id="L199">&#x200c;</a><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">shape</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nothing<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Uint<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sint<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Uint_Uint<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Disp<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Uint_Disp<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Sint_Disp<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Getglobal<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Getglobal_Uint<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Setglobal<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Primitive<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Uint_Primitive<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Switch<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Closurerec<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Pubmet<br/></li>
<li></span><br/></li>
<li><a id="L216">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">op_shapes</span></span> <span class="Statement">=</span> <span class="Statement">[<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC4</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC5</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC6</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC7</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opACC</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSH</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC4</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC5</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC6</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC7</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHACC</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPOP</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opASSIGN</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opENVACC1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opENVACC2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opENVACC3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opENVACC4</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opENVACC</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHENVACC1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHENVACC2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHENVACC3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHENVACC4</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHENVACC</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSH_RETADDR</span>, <span class="Constant">Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPLY</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPLY1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPLY2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPLY3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPTERM</span>, <span class="Constant">Uint_Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPTERM1</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPTERM2</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opAPPTERM3</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRETURN</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRESTART</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGRAB</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCLOSURE</span>, <span class="Constant">Uint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCLOSUREREC</span>, <span class="Constant">Closurerec</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opOFFSETCLOSUREM3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opOFFSETCLOSURE0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opOFFSETCLOSURE3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opOFFSETCLOSURE</span>, <span class="Constant">Sint</span><span class="Statement">;</span>&nbsp; <span class="Comment">(* was Uint *)<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHOFFSETCLOSUREM3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHOFFSETCLOSURE0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHOFFSETCLOSURE3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHOFFSETCLOSURE</span>, <span class="Constant">Sint</span><span class="Statement">;</span> <span class="Comment">(* was Nothing *)<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETGLOBAL</span>, <span class="Constant">Getglobal</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHGETGLOBAL</span>, <span class="Constant">Getglobal</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETGLOBALFIELD</span>, <span class="Constant">Getglobal_Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHGETGLOBALFIELD</span>, <span class="Constant">Getglobal_Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETGLOBAL</span>, <span class="Constant">Setglobal</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opATOM0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opATOM</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHATOM0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHATOM</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMAKEBLOCK</span>, <span class="Constant">Uint_Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMAKEBLOCK1</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMAKEBLOCK2</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMAKEBLOCK3</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMAKEFLOATBLOCK</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETFIELD0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETFIELD1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETFIELD2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETFIELD3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETFIELD</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETFLOATFIELD</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETFIELD0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETFIELD1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETFIELD2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETFIELD3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETFIELD</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETFLOATFIELD</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opVECTLENGTH</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETVECTITEM</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETVECTITEM</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETSTRINGCHAR</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETBYTESCHAR</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSETBYTESCHAR</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBRANCH</span>, <span class="Constant">Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBRANCHIF</span>, <span class="Constant">Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBRANCHIFNOT</span>, <span class="Constant">Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSWITCH</span>, <span class="Constant">Switch</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBOOLNOT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHTRAP</span>, <span class="Constant">Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPOPTRAP</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRAISE</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCHECK_SIGNALS</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opC_CALL1</span>, <span class="Constant">Primitive</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opC_CALL2</span>, <span class="Constant">Primitive</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opC_CALL3</span>, <span class="Constant">Primitive</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opC_CALL4</span>, <span class="Constant">Primitive</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opC_CALL5</span>, <span class="Constant">Primitive</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opC_CALLN</span>, <span class="Constant">Uint_Primitive</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCONST0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCONST1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCONST2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCONST3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opCONSTINT</span>, <span class="Constant">Sint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHCONST0</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHCONST1</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHCONST2</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHCONST3</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPUSHCONSTINT</span>, <span class="Constant">Sint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opNEGINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opADDINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSUBINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMULINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opDIVINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opMODINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opANDINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opORINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opXORINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opLSLINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opLSRINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opASRINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opEQ</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opNEQ</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opLTINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opLEINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGTINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGEINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opOFFSETINT</span>, <span class="Constant">Sint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opOFFSETREF</span>, <span class="Constant">Sint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opISINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETMETHOD</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETDYNMET</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opGETPUBMET</span>, <span class="Constant">Pubmet</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBEQ</span>, <span class="Constant">Sint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBNEQ</span>, <span class="Constant">Sint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBLTINT</span>, <span class="Constant">Sint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBLEINT</span>, <span class="Constant">Sint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBGTINT</span>, <span class="Constant">Sint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBGEINT</span>, <span class="Constant">Sint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opULTINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opUGEINT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBULTINT</span>, <span class="Constant">Uint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBUGEINT</span>, <span class="Constant">Uint_Disp</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opPERFORM</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRESUME</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRESUMETERM</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opREPERFORMTERM</span>, <span class="Constant">Uint</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opSTOP</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opEVENT</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opBREAK</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRERAISE</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">opRAISE_NOTRACE</span>, <span class="Constant">Nothing</span><span class="Statement">;<br/></li>
<li></span><span class="Statement">]<br/></li>
<li></span><br/></li>
<li><a id="L372">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_event</span></span> <span class="ocamlLCIdentifier">ev</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L27" title="ocaml/tools/dumpobj.ml:27">print_locations</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">ls</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_loc</span>.<span class="ocamlLCIdentifier">loc_start</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">le</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ev</span>.<span class="ocamlLCIdentifier">ev_loc</span>.<span class="ocamlLCIdentifier">loc_end</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;File \&quot;%<a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a>\&quot;, line %d, characters %d-%d:\n&quot;</span> <span class="ocamlLCIdentifier">ls</span>.<span class="PreProc">Lexing</span>.<span class="ocamlLCIdentifier">pos_fname<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">ls</span>.<span class="PreProc">Lexing</span>.<span class="ocamlLCIdentifier">pos_lnum</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">ls</span>.<span class="PreProc">Lexing</span>.<span class="ocamlLCIdentifier">pos_cnum</span> - <span class="ocamlLCIdentifier">ls</span>.<span class="PreProc">Lexing</span>.<span class="ocamlLCIdentifier">pos_bol</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">le</span>.<span class="PreProc">Lexing</span>.<span class="ocamlLCIdentifier">pos_cnum</span> - <span class="ocamlLCIdentifier">ls</span>.<span class="PreProc">Lexing</span>.<span class="ocamlLCIdentifier">pos_bol</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L380">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_instr</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">pos</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L121" title="ocaml/tools/dumpobj.ml:121">currpos</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">iter</span> <span class="ocamlLCIdentifier"><a href="#L372" title="ocaml/tools/dumpobj.ml:372">print_event</a></span> <span class="Statement">(</span><span class="PreProc">Hashtbl</span>.<span class="ocamlLCIdentifier">find_all</span> <span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/tools/dumpobj.ml:61">event_table</a></span> <span class="ocamlLCIdentifier">pos</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;%8d&nbsp; &quot;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pos</span> / <span class="Constant">4</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">op</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">op</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="PreProc">Array</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">length</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="opnames.mli.html#L16" title="ocaml/tools/opnames.mli:16">names_of_instructions</a></span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">op</span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlNone">&nbsp; </span><span class="Statement">then</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">print_string</span> <span class="Constant">&quot;*** unknown opcode : &quot;</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">print_int</span> <span class="ocamlLCIdentifier">op</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier">print_string</span> <span class="ocamlLCIdentifier"><a href="opnames.mli.html#L16" title="ocaml/tools/opnames.mli:16">names_of_instructions</a></span>.<span class="Statement">(</span><span class="ocamlLCIdentifier">op</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">try<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L199" title="ocaml/tools/dumpobj.ml:199">shape</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">List</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">assoc</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">op</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L216" title="ocaml/tools/dumpobj.ml:216">op_shapes</a></span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L199" title="ocaml/tools/dumpobj.ml:199">shape</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="Constant">Nothing</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L199" title="ocaml/tools/dumpobj.ml:199">shape</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="Constant">Switch</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot; &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L199" title="ocaml/tools/dumpobj.ml:199">shape</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Uint</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Sint</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Uint_Uint<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Disp</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L196" title="ocaml/tools/dumpobj.ml:196">currpc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd"> + </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Uint_Disp<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L196" title="ocaml/tools/dumpobj.ml:196">currpc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd"> + </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Sint_Disp<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L196" title="ocaml/tools/dumpobj.ml:196">currpc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">p</span><span class="ocamlEnd"> + </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Getglobal</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L135" title="ocaml/tools/dumpobj.ml:135">print_getglobal_name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Getglobal_Uint<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L135" title="ocaml/tools/dumpobj.ml:135">print_getglobal_name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Setglobal</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L156" title="ocaml/tools/dumpobj.ml:156">print_setglobal_name</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Primitive</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L176" title="ocaml/tools/dumpobj.ml:176">print_primitive</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Uint_Primitive<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L176" title="ocaml/tools/dumpobj.ml:176">print_primitive</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Switch<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L196" title="ocaml/tools/dumpobj.ml:196">currpc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">to</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">land</span><span class="ocamlEnd"> </span><span class="Constant">0xFFFF</span><span class="Statement">)</span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlDo"> </span><span class="Constant">&quot;\n&nbsp; &nbsp; &nbsp; &nbsp; int &quot;</span><span class="Statement">;</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">;</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlDo"> </span><span class="Constant">&quot; -&gt; &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span><span class="ocamlDo"> + </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">done;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">to</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">n</span><span class="ocamlEnd"> </span><span class="Statement">lsr</span><span class="ocamlEnd"> </span><span class="Constant">16</span><span class="Statement">)</span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlDo"> </span><span class="Constant">&quot;\n&nbsp; &nbsp; &nbsp; &nbsp; tag &quot;</span><span class="Statement">;</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">i</span><span class="Statement">;</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlDo"> </span><span class="Constant">&quot; -&gt; &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_int</span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span><span class="ocamlDo"> + </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">done;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Closurerec<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">nfuncs</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">nvars</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L196" title="ocaml/tools/dumpobj.ml:196">currpc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">nvars</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">_i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">to</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">nfuncs</span><span class="ocamlEnd"> - </span><span class="Constant">1</span><span class="ocamlEnd"> </span><span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlDo"> </span><span class="Constant">&quot;, &quot;</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlDo"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span><span class="ocamlDo"> + </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">done;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Pubmet<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tag</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/tools/dumpobj.ml:39">inputs</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">_cache</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L32" title="ocaml/tools/dumpobj.ml:32">inputu</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">print_int</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tag<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Nothing</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">with</span><span class="ocamlEnd"> </span><span class="Constant">Not_found</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">print_string</span><span class="ocamlEnd"> </span><span class="Constant">&quot; (unknown arguments)&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">print_string</span> <span class="Constant">&quot;\n&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Disassemble <a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a> block of code *)<br/></li>
<li></span><br/></li>
<li><a id="L441">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_code</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="ocamlLCIdentifier">len</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L53" title="ocaml/tools/dumpobj.ml:53">start</a></span> <span class="Statement">:=</span> <span class="ocamlLCIdentifier">pos_in</span> <span class="ocamlLCIdentifier">ic</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L45" title="ocaml/tools/ocamltex.ml:45">stop</a></span> <span class="Statement">=</span> <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L53" title="ocaml/tools/dumpobj.ml:53">start</a></span> + <span class="ocamlLCIdentifier">len</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">while</span> <span class="ocamlLCIdentifier">pos_in</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">&lt;</span> <span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L45" title="ocaml/tools/ocamltex.ml:45">stop</a></span> <span class="Statement">do</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="#L380" title="ocaml/tools/dumpobj.ml:380">print_instr</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlDo"> </span><span class="Statement">done<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Dump relocation info *)<br/></li>
<li></span><br/></li>
<li><a id="L448">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">print_reloc</span></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">info</span>, <span class="ocamlLCIdentifier">pos</span><span class="Statement">)</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;&nbsp; &nbsp; %d&nbsp; &nbsp; (%d)&nbsp; &nbsp; &quot;</span> <span class="ocamlLCIdentifier">pos</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pos</span>/<span class="Constant">4</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">info</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Reloc_literal</span> <span class="ocamlLCIdentifier">sc</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">print_obj</span> <span class="ocamlLCIdentifier">sc</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;\n&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Reloc_getglobal</span> <span class="ocamlLCIdentifier">id</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;require&nbsp; &nbsp; %<a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a>\n&quot;</span> <span class="Statement">(</span><span class="PreProc">Ident</span>.<span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L539" title="ocaml/tools/ocamltex.ml:539">name</a></span> <span class="ocamlLCIdentifier">id</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Reloc_setglobal</span> <span class="ocamlLCIdentifier">id</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;provide&nbsp; &nbsp; %<a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a>\n&quot;</span> <span class="Statement">(</span><span class="PreProc">Ident</span>.<span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L539" title="ocaml/tools/ocamltex.ml:539">name</a></span> <span class="ocamlLCIdentifier">id</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Reloc_primitive</span> <span class="ocamlLCIdentifier"><a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;prim&nbsp; &nbsp; %<a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a>\n&quot;</span> <span class="ocamlLCIdentifier"><a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Print <a href="#L89" title="ocaml/tools/dumpobj.ml:89">a</a> .cmo <a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a> *)<br/></li>
<li></span><br/></li>
<li><a id="L458">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">dump_obj</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">buffer</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">really_input_string</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">(</span><span class="PreProc">String</span>.<span class="ocamlLCIdentifier">length</span> <span class="ocamlLCIdentifier">cmo_magic_number</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">buffer</span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">cmo_magic_number</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">prerr_endline</span><span class="ocamlEnd"> </span><span class="Constant">&quot;Not an object <a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a>&quot;</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="ocamlmklib.ml.html#L196" title="ocaml/tools/ocamlmklib.ml:196">exit</a></span><span class="ocamlEnd"> </span><span class="Constant">2<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L272" title="ocaml/tools/objinfo.ml:272">cu_pos</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">input_binary_int</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">seek_in</span> <span class="ocamlLCIdentifier">ic</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L272" title="ocaml/tools/objinfo.ml:272">cu_pos</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span> <span class="Statement">=</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">input_value</span> <span class="ocamlLCIdentifier">ic</span> : <span class="ocamlLCIdentifier">compilation_unit</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a></span> <span class="Statement">:=</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span>.<span class="ocamlLCIdentifier">cu_reloc</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/tools/dumpobj.ml:28">print_reloc_info</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">List</span>.<span class="ocamlLCIdentifier">iter</span> <span class="ocamlLCIdentifier"><a href="#L448" title="ocaml/tools/dumpobj.ml:448">print_reloc</a></span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span>.<span class="ocamlLCIdentifier">cu_reloc</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">cu_debug</span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">seek_in</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">cu_debug</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L499" title="ocaml/tools/dumpobj.ml:499">evl</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">input_value</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> : </span><span class="ocamlLCIdentifier">debug_event</span><span class="ocamlEnd"> </span><span class="Type">list</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ignore</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">input_value</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);</span><span class="ocamlEnd"> </span><span class="Comment">(* Skip the list of absolute directory names *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L69" title="ocaml/tools/dumpobj.ml:69">record_events</a></span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L499" title="ocaml/tools/dumpobj.ml:499">evl</a><br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">seek_in</span> <span class="ocamlLCIdentifier">ic</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span>.<span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L272" title="ocaml/tools/objinfo.ml:272">cu_pos</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L441" title="ocaml/tools/dumpobj.ml:441">print_code</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L274" title="ocaml/tools/objinfo.ml:274">cu</a></span>.<span class="ocamlLCIdentifier">cu_codesize<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Print an executable <a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a> *)<br/></li>
<li></span><br/></li>
<li><a id="L480">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">dump_exe</span></span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L280" title="ocaml/tools/objinfo.ml:280">toc</a></span> <span class="Statement">=</span> <span class="PreProc">Bytesections</span>.<span class="ocamlLCIdentifier">read_toc</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">in<br/></li>
<li></span><span class="Comment">(* Read the primitive table from an executable *)<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">prims</span> <span class="Statement">=</span> <span class="PreProc">Bytesections</span>.<span class="ocamlLCIdentifier">read_section_string</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L280" title="ocaml/tools/objinfo.ml:280">toc</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="PreProc">Bytesections</span>.<span class="PreProc">Name</span>.<span class="Constant">PRIM</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L56" title="ocaml/tools/dumpobj.ml:56">primitives</a></span> <span class="Statement">:=</span> <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">of_list</span> <span class="Statement">(</span><span class="PreProc">Misc</span>.<span class="ocamlLCIdentifier">split_null_terminated</span> <span class="ocamlLCIdentifier">prims</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">init_data</span> : <span class="PreProc">Obj</span>.<span class="ocamlLCIdentifier"><a href="ocamltex.ml.html#L411" title="ocaml/tools/ocamltex.ml:411">t</a></span> <span class="Type">array</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Bytesections</span>.<span class="ocamlLCIdentifier">read_section_struct</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L280" title="ocaml/tools/objinfo.ml:280">toc</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="PreProc">Bytesections</span>.<span class="PreProc">Name</span>.<span class="Constant">DATA</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L55" title="ocaml/tools/dumpobj.ml:55">globals</a></span> <span class="Statement">:=</span> <span class="PreProc">Array</span>.<span class="ocamlLCIdentifier">map</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">x</span> <span class="Statement">-&gt;</span> <span class="Constant">Constant</span> <span class="ocamlLCIdentifier">x</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">init_data</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">sym_table</span> : <span class="PreProc">Symtable</span>.<span class="ocamlLCIdentifier">global_map</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Bytesections</span>.<span class="ocamlLCIdentifier">read_section_struct</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L280" title="ocaml/tools/objinfo.ml:280">toc</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="PreProc">Bytesections</span>.<span class="PreProc">Name</span>.<span class="Constant">SYMB</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="PreProc">Symtable</span>.<span class="ocamlLCIdentifier">iter_global_map<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">id</span> <span class="ocamlLCIdentifier">pos</span> <span class="Statement">-&gt;</span> <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L55" title="ocaml/tools/dumpobj.ml:55">globals</a></span>.<span class="Statement">(</span><span class="ocamlLCIdentifier">pos</span><span class="Statement">)</span> <span class="Statement">&lt;-</span> <span class="Constant">Global</span> <span class="ocamlLCIdentifier">id</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">sym_table</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="PreProc">Bytesections</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier">seek_section</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L280" title="ocaml/tools/objinfo.ml:280">toc</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="PreProc">Bytesections</span><span class="ocamlEnd">.</span><span class="PreProc">Name</span><span class="ocamlEnd">.</span><span class="Constant">DBUG</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">exception</span><span class="ocamlEnd"> </span><span class="Constant">Not_found</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">(_</span><span class="ocamlEnd"> : </span><span class="Type">int</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li><a id="L496">&#x200c;</a></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><span class="linkable">num_eventlists</span></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">input_binary_int</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">_i</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">1</span><span class="ocamlNone"> </span><span class="Statement">to</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L496" title="ocaml/tools/dumpobj.ml:496">num_eventlists</a></span><span class="ocamlEnd"> </span><span class="Statement">do<br/></li>
<li><a id="L498">&#x200c;</a></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><span class="linkable">orig</span></span><span class="ocamlDo"> </span><span class="Statement">=</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">input_binary_int</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlDo"> </span><span class="Statement">in<br/></li>
<li><a id="L499">&#x200c;</a></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><span class="linkable">evl</span></span><span class="ocamlDo"> </span><span class="Statement">=</span><span class="ocamlDo"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">input_value</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlDo"> : </span><span class="ocamlLCIdentifier">debug_event</span><span class="ocamlDo"> </span><span class="Type">list</span><span class="Statement">)</span><span class="ocamlDo"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">(* Skip the list of absolute directory names *)<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ignore</span><span class="ocamlDo"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">input_value</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L69" title="ocaml/tools/dumpobj.ml:69">record_events</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="#L498" title="ocaml/tools/dumpobj.ml:498">orig</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="#L499" title="ocaml/tools/dumpobj.ml:499">evl</a><br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">done<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end;<br/></li>
<li><a id="L505">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">code_size</span></span> <span class="Statement">=</span> <span class="PreProc">Bytesections</span>.<span class="ocamlLCIdentifier">seek_section</span> <span class="ocamlLCIdentifier"><a href="objinfo.ml.html#L280" title="ocaml/tools/objinfo.ml:280">toc</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="PreProc">Bytesections</span>.<span class="PreProc">Name</span>.<span class="Constant">CODE</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L441" title="ocaml/tools/dumpobj.ml:441">print_code</a></span> <span class="ocamlLCIdentifier">ic</span> <span class="ocamlLCIdentifier"><a href="#L505" title="ocaml/tools/dumpobj.ml:505">code_size</a><br/></li>
<li></span><br/></li>
<li><a id="L508">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">arg_list</span></span> <span class="Statement">=</span> <span class="Statement">[<br/></li>
<li></span>&nbsp; <span class="Constant">&quot;-nobanners&quot;</span>, <span class="PreProc">Arg</span>.<span class="Constant">Clear</span> <span class="ocamlLCIdentifier"><a href="#L26" title="ocaml/tools/dumpobj.ml:26">print_banners</a></span>, <span class="Constant">&quot; : don'<a href="ocamltex.ml.html#L411" title="ocaml/tools/ocamltex.ml:411">t</a> print banners&quot;</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Constant">&quot;-noloc&quot;</span>, <span class="PreProc">Arg</span>.<span class="Constant">Clear</span> <span class="ocamlLCIdentifier"><a href="#L27" title="ocaml/tools/dumpobj.ml:27">print_locations</a></span>, <span class="Constant">&quot; : don'<a href="ocamltex.ml.html#L411" title="ocaml/tools/ocamltex.ml:411">t</a> print <a href="ocamltex.ml.html#L297" title="ocaml/tools/ocamltex.ml:297">source</a> information&quot;</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Constant">&quot;-<a href="#L54" title="ocaml/tools/dumpobj.ml:54">reloc</a>&quot;</span>, <span class="PreProc">Arg</span>.<span class="Constant">Set</span> <span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/tools/dumpobj.ml:28">print_reloc_info</a></span>, <span class="Constant">&quot; : print relocation information&quot;</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Constant">&quot;-args&quot;</span>, <span class="PreProc">Arg</span>.<span class="Constant">Expand</span> <span class="PreProc">Arg</span>.<span class="ocamlLCIdentifier">read_arg</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Constant">&quot;&lt;<a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a>&gt; Read additional newline separated command line arguments \n\<br/></li>
<li></span><span class="Constant">&nbsp; &nbsp;&nbsp; \&nbsp; &nbsp; &nbsp; from &lt;<a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a>&gt;&quot;</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Constant">&quot;-args0&quot;</span>, <span class="PreProc">Arg</span>.<span class="Constant">Expand</span> <span class="PreProc">Arg</span>.<span class="ocamlLCIdentifier">read_arg0</span>,<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Constant">&quot;&lt;<a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a>&gt; Read additional NUL separated command line arguments from \n\<br/></li>
<li></span><span class="Constant">&nbsp; &nbsp;&nbsp; \&nbsp; &nbsp; &nbsp; &lt;<a href="lintapidiff.ml.html#L300" title="ocaml/tools/lintapidiff.ml:300">file</a>&gt;&quot;</span><span class="Statement">;<br/></li>
<li></span><span class="Statement">]<br/></li>
<li><a id="L519">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">arg_usage</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier">sprintf</span> <span class="Constant">&quot;%<a href="ocamlmklib.ml.html#L86" title="ocaml/tools/ocamlmklib.ml:86">s</a> [OPTIONS] FILES : dump content of <a href="ocamlcp_common.mli.html#L32" title="ocaml/tools/ocamlcp_common.mli:32">bytecode</a> <a href="ocamltex.ml.html#L67" title="ocaml/tools/ocamltex.ml:67">files</a>&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="PreProc">Sys</span>.<span class="ocamlLCIdentifier">argv</span>.<span class="Statement">(</span><span class="Constant">0</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L523">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">first_file</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">ref</span> <span class="Constant">true<br/></li>
<li></span><br/></li>
<li><a id="L525">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">arg_fun</span></span> <span class="ocamlLCIdentifier">filename</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">ic</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">open_in_bin</span> <span class="ocamlLCIdentifier">filename</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">not</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L523" title="ocaml/tools/dumpobj.ml:523">first_file</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">print_newline</span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L523" title="ocaml/tools/dumpobj.ml:523">first_file</a></span> <span class="Statement">:=</span> <span class="Constant">false</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L26" title="ocaml/tools/dumpobj.ml:26">print_banners</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;## <a href="#L53" title="ocaml/tools/dumpobj.ml:53">start</a> of ocaml dump of %S\n%!&quot;</span> <span class="ocamlLCIdentifier">filename</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">try<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L57" title="ocaml/tools/dumpobj.ml:57">objfile</a></span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="Constant">false</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L480" title="ocaml/tools/dumpobj.ml:480">dump_exe</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">with</span><span class="ocamlEnd"> </span><span class="PreProc">Bytesections</span><span class="ocamlEnd">.</span><span class="Constant">Bad_magic_number</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L57" title="ocaml/tools/dumpobj.ml:57">objfile</a></span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="Constant">true</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">seek_in</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L458" title="ocaml/tools/dumpobj.ml:458">dump_obj</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">close_in</span> <span class="ocamlLCIdentifier">ic</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L26" title="ocaml/tools/dumpobj.ml:26">print_banners</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">printf</span> <span class="Constant">&quot;## end of ocaml dump of %S\n%!&quot;</span> <span class="ocamlLCIdentifier">filename<br/></li>
<li></span><br/></li>
<li><a id="L538">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">main</span></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Arg</span>.<span class="ocamlLCIdentifier">parse_expand</span> <span class="ocamlLCIdentifier"><a href="#L508" title="ocaml/tools/dumpobj.ml:508">arg_list</a></span> <span class="ocamlLCIdentifier"><a href="#L525" title="ocaml/tools/dumpobj.ml:525">arg_fun</a></span> <span class="ocamlLCIdentifier"><a href="#L519" title="ocaml/tools/dumpobj.ml:519">arg_usage</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="ocamlmklib.ml.html#L196" title="ocaml/tools/ocamlmklib.ml:196">exit</a></span> <span class="Constant">0<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="cmpbyt.ml.html#L81" title="ocaml/tools/cmpbyt.ml:81">main</a></span> <span class="Constant">()<br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
