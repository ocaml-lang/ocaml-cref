<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/stdlib/seq.ml - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/stdlib/seq.ml - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L30">append</a></li>
<li><a href="#L247">compare</a></li>
<li><a href="#L53">concat</a></li>
<li><a href="#L63">concat_map</a></li>
<li><a href="#L28">cons</a></li>
<li><a href="#L294">cycle</a></li>
<li><a href="#L286">cycle_nonempty</a></li>
<li><a href="#L626">diagonals</a></li>
<li><a href="#L664">diagonals</a></li>
<li><a href="#L386">drop</a></li>
<li><a href="#L401">drop_while</a></li>
<li><a href="#L24">empty</a></li>
<li><a href="#L237">equal</a></li>
<li><a href="#L139">exists</a></li>
<li><a href="#L226">exists2</a></li>
<li><a href="#L438">failure</a></li>
<li><a href="#L46">filter</a></li>
<li><a href="#L39">filter_map</a></li>
<li><a href="#L572">filter_map_find_left_map</a></li>
<li><a href="#L583">filter_map_find_right_map</a></li>
<li><a href="#L146">find</a></li>
<li><a href="#L153">find_index</a></li>
<li><a href="#L161">find_map</a></li>
<li><a href="#L172">find_mapi</a></li>
<li><a href="#L58">flat_map</a></li>
<li><a href="#L65">fold_left</a></li>
<li><a href="#L203">fold_left2</a></li>
<li><a href="#L121">fold_lefti_aux</a></li>
<li><a href="#L132">for_all</a></li>
<li><a href="#L215">for_all2</a></li>
<li><a href="#L372">force_drop</a></li>
<li><a href="#L279">forever</a></li>
<li><a href="#L428">from_lazy</a></li>
<li><a href="#L408">group</a></li>
<li><a href="#L270">init</a></li>
<li><a href="#L263">init_aux</a></li>
<li><a href="#L499">interleave</a></li>
<li><a href="#L701">ints</a></li>
<li><a href="#L84">is_empty</a></li>
<li><a href="#L72">iter</a></li>
<li><a href="#L191">iter2</a></li>
<li><a href="#L318">iterate</a></li>
<li><a href="#L305">iterate1</a></li>
<li><a href="#L110">iteri_aux</a></li>
<li><a href="#L100">length_aux</a></li>
<li><a href="#L35">map</a></li>
<li><a href="#L488">map2</a></li>
<li><a href="#L549">map_fst</a></li>
<li><a href="#L667">map_product</a></li>
<li><a href="#L556">map_snd</a></li>
<li><a href="#L323">mapi_aux</a></li>
<li><a href="#L433">memoize</a></li>
<li><a href="#L458">memoize</a></li>
<li><a href="#L447">once</a></li>
<li><a href="#L598">partition</a></li>
<li><a href="#L594">partition_map</a></li>
<li><a href="#L276">repeat</a></li>
<li><a href="#L26">return</a></li>
<li><a href="#L347">scan</a></li>
<li><a href="#L538">sorted_merge</a></li>
<li><a href="#L518">sorted_merge1l</a></li>
<li><a href="#L566">split</a></li>
<li><a href="#L339">tail_scan</a></li>
<li><a href="#L364">take</a></li>
<li><a href="#L353">take_aux</a></li>
<li><a href="#L394">take_while</a></li>
<li><a href="#L689">to_dispenser</a></li>
<li><a href="#L424">to_lazy</a></li>
<li><a href="#L91">uncons</a></li>
<li><a href="#L79">unfold</a></li>
<li><a href="#L563">unzip</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L18">node</a></li>
<li><a href="#L419">suspension</a></li>
<li><a href="#L22">t</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Simon Cruanes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 2017 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Module [Seq]: functional iterators *)<br/></li>
<li></span><br/></li>
<li><a id="L18">&#x200c;</a><span class="Statement">type</span> +'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="ocamlLCIdentifier"><span class="linkable">node</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">of</span> '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="Statement">*</span> '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="ocamlLCIdentifier"><a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a><br/></li>
<li></span><br/></li>
<li><a id="L22">&#x200c;</a><span class="Statement">and</span> '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="ocamlLCIdentifier"><span class="linkable">t</span></span> <span class="Statement">=</span> <span class="Type">unit</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="ocamlLCIdentifier"><a href="#L18" title="ocaml/stdlib/seq.ml:18">node</a><br/></li>
<li></span><br/></li>
<li><a id="L24">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">empty</span></span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Constant">Nil<br/></li>
<li></span><br/></li>
<li><a id="L26">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">return</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L28">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">cons</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">next</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L30">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">append</span></span> <span class="ocamlLCIdentifier">seq1</span> <span class="ocamlLCIdentifier">seq2</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq1</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">seq2</span><span class="Constant">()<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L30" title="ocaml/stdlib/seq.ml:30">append</a></span> <span class="ocamlLCIdentifier">next</span> <span class="ocamlLCIdentifier">seq2</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L35">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L175" title="ocaml/stdlib/bytesLabels.mli:175">map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L39">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">filter_map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="map.ml.html#L55" title="ocaml/stdlib/map.ml:55">filter_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next</span> <span class="Constant">()<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">-&gt;</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier"><a href="map.ml.html#L55" title="ocaml/stdlib/map.ml:55">filter_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L46">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">filter</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">f</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="map.ml.html#L54" title="ocaml/stdlib/map.ml:54">filter</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="map.ml.html#L54" title="ocaml/stdlib/map.ml:54">filter</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L53">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">concat</span></span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L30" title="ocaml/stdlib/seq.ml:30">append</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="filename.mli.html#L30" title="ocaml/stdlib/filename.mli:30">concat</a></span> <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L58">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">flat_map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L30" title="ocaml/stdlib/seq.ml:30">append</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L58" title="ocaml/stdlib/seq.ml:58">flat_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L63">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">concat_map</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L58" title="ocaml/stdlib/seq.ml:58">flat_map</a><br/></li>
<li></span><br/></li>
<li><a id="L65">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">fold_left</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L126" title="ocaml/stdlib/camlinternalFormat.ml:126">acc</a></span> <span class="ocamlLCIdentifier">seq</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L126" title="ocaml/stdlib/camlinternalFormat.ml:126">acc</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L126" title="ocaml/stdlib/camlinternalFormat.ml:126">acc</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L126" title="ocaml/stdlib/camlinternalFormat.ml:126">acc</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L185" title="ocaml/stdlib/bytesLabels.mli:185">fold_left</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L126" title="ocaml/stdlib/camlinternalFormat.ml:126">acc</a></span> <span class="ocamlLCIdentifier">next<br/></li>
<li></span><br/></li>
<li><a id="L72">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">iter</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">seq</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">seq</span> <span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="Constant">()<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">next</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stack.ml.html#L57" title="ocaml/stdlib/stack.ml:57">iter</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">next<br/></li>
<li></span><br/></li>
<li><a id="L79">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">unfold</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">u</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">u</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">u</span>'<span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L79" title="ocaml/stdlib/seq.ml:79">unfold</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">u</span>'<span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L84">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_empty</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L91">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">uncons</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Some</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L100">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">length_aux</span></span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">accu<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L100" title="ocaml/stdlib/seq.ml:100">length_aux</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">accu</span> + <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Statement">let[</span>@<span class="ocamlLCIdentifier">inline</span><span class="Statement">]</span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L100" title="ocaml/stdlib/seq.ml:100">length_aux</a></span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L110">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">iteri_aux</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">()<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L110" title="ocaml/stdlib/seq.ml:110">iteri_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span>+<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Statement">let[</span>@<span class="ocamlLCIdentifier">inline</span><span class="Statement">]</span> <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L170" title="ocaml/stdlib/bytesLabels.mli:170">iteri</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L110" title="ocaml/stdlib/seq.ml:110">iteri_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L121">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">fold_lefti_aux</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">accu<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L121" title="ocaml/stdlib/seq.ml:121">fold_lefti_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span>+<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Statement">let[</span>@<span class="ocamlLCIdentifier">inline</span><span class="Statement">]</span> <span class="ocamlLCIdentifier"><a href="seq.mli.html#L184" title="ocaml/stdlib/seq.mli:184">fold_lefti</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L121" title="ocaml/stdlib/seq.ml:121">fold_lefti_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L132">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">for_all</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L197" title="ocaml/stdlib/bytesLabels.mli:197">for_all</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L139">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">exists</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">||</span> <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L201" title="ocaml/stdlib/bytesLabels.mli:201">exists</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L146">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">find</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="ephemeron.mli.html#L95" title="ocaml/stdlib/ephemeron.mli:95">find</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L153">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">find_index</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="hashtbl.ml.html#L260" title="ocaml/stdlib/hashtbl.ml:260">aux</a></span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="hashtbl.ml.html#L260" title="ocaml/stdlib/hashtbl.ml:260">aux</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span>+<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="hashtbl.ml.html#L260" title="ocaml/stdlib/hashtbl.ml:260">aux</a></span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L161">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">find_map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L161" title="ocaml/stdlib/seq.ml:161">find_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">_</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a><br/></li>
<li></span><br/></li>
<li><a id="L172">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">find_mapi</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="hashtbl.ml.html#L260" title="ocaml/stdlib/hashtbl.ml:260">aux</a></span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="hashtbl.ml.html#L260" title="ocaml/stdlib/hashtbl.ml:260">aux</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span>+<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">_</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="hashtbl.ml.html#L260" title="ocaml/stdlib/hashtbl.ml:260">aux</a></span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L191" title="ocaml/stdlib/seq.ml:191">iter2</a>], [<a href="#L203" title="ocaml/stdlib/seq.ml:203">fold_left2</a>], [<a href="#L215" title="ocaml/stdlib/seq.ml:215">for_all2</a>], [<a href="#L226" title="ocaml/stdlib/seq.ml:226">exists2</a>], [<a href="#L488" title="ocaml/stdlib/seq.ml:488">map2</a>], [<a href="seq.mli.html#L615" title="ocaml/stdlib/seq.mli:615">zip</a>] work also in<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the case where the two sequences have different lengths. They <a href="gc.mli.html#L527" title="ocaml/stdlib/gc.mli:527">stop</a> as soon<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; as <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> sequence is exhausted. Their behavior is slightly asymmetric: when<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [xs] is <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a>, they do not force [ys]; however, when [ys] is <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a>, [xs] is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; forced, even though the <a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a> of the function application [xs()] turns out<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; to be useless. *)<br/></li>
<li></span><br/></li>
<li><a id="L191">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">iter2</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">()<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">()<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L191" title="ocaml/stdlib/seq.ml:191">iter2</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><a id="L203">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">fold_left2</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">accu<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">accu<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">accu</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L203" title="ocaml/stdlib/seq.ml:203">fold_left2</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">accu</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><a id="L215">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">for_all2</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">true<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="#L215" title="ocaml/stdlib/seq.ml:215">for_all2</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><a id="L226">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">exists2</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">false<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">||</span> <span class="ocamlLCIdentifier"><a href="#L226" title="ocaml/stdlib/seq.ml:226">exists2</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><a id="L237">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">equal</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span>, <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span>, <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span>, <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">&amp;&amp;</span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L84" title="ocaml/stdlib/int32.ml:84">equal</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span>, <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="Statement">_)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>, <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L247">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">compare</span></span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span>, <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span>, <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">0<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span>, <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L83" title="ocaml/stdlib/int32.ml:83">compare</a></span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span>, <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="Statement">_)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; -<span class="Constant">1<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>, <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; +<span class="Constant">1<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><span class="Comment">(* [<a href="#L263" title="ocaml/stdlib/seq.ml:263">init_aux</a> f <a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a> j] is the sequence [f <a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a>, ..., f (j-1)]. *)<br/></li>
<li></span><br/></li>
<li><a id="L263">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">init_aux</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier">j</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">j</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">f</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="#L263" title="ocaml/stdlib/seq.ml:263">init_aux</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">f</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlEnd"> + </span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">j</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span><br/></li>
<li><a id="L270">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">init</span></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;Seq.<a href="bigarray.mli.html#L301" title="ocaml/stdlib/bigarray.mli:301">init</a>&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L263" title="ocaml/stdlib/seq.ml:263">init_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Constant">0</span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a><br/></li>
<li></span><br/></li>
<li><a id="L276">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">repeat</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L276" title="ocaml/stdlib/seq.ml:276">repeat</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L279">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">forever</span></span> <span class="ocamlLCIdentifier">f</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span><span class="Constant">()</span>, <span class="ocamlLCIdentifier"><a href="#L279" title="ocaml/stdlib/seq.ml:279">forever</a></span> <span class="ocamlLCIdentifier">f</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* This preliminary definition of [<a href="#L294" title="ocaml/stdlib/seq.ml:294">cycle</a>] requires the sequence [xs]<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; to be nonempty. Applying it to an <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a> sequence would produce <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; sequence that diverges when it is forced. *)<br/></li>
<li></span><br/></li>
<li><a id="L286">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">cycle_nonempty</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L30" title="ocaml/stdlib/seq.ml:30">append</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L286" title="ocaml/stdlib/seq.ml:286">cycle_nonempty</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L294" title="ocaml/stdlib/seq.ml:294">cycle</a> xs] checks whether [xs] is <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a> and, if so, returns an <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; sequence. Otherwise, [<a href="#L294" title="ocaml/stdlib/seq.ml:294">cycle</a> xs] produces <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> <a href="oo.mli.html#L20" title="ocaml/stdlib/oo.mli:20">copy</a> of [xs] followed<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; with the infinite sequence [<a href="#L286" title="ocaml/stdlib/seq.ml:286">cycle_nonempty</a> xs]. Thus, the nonemptiness<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="weak.ml.html#L58" title="ocaml/stdlib/weak.ml:58">check</a> is performed just <a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L294">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">cycle</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span>'<span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L30" title="ocaml/stdlib/seq.ml:30">append</a></span> <span class="ocamlLCIdentifier">xs</span>' <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L286" title="ocaml/stdlib/seq.ml:286">cycle_nonempty</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L305" title="ocaml/stdlib/seq.ml:305">iterate1</a> f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>] is the sequence [f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>, f (f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>), ...].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; It is equivalent to [tail (<a href="#L318" title="ocaml/stdlib/seq.ml:318">iterate</a> f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>)].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="#L305" title="ocaml/stdlib/seq.ml:305">iterate1</a>] is used as <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> building block in the definition of [<a href="#L318" title="ocaml/stdlib/seq.ml:318">iterate</a>]. *)<br/></li>
<li></span><br/></li>
<li><a id="L305">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">iterate1</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier"><a href="#L305" title="ocaml/stdlib/seq.ml:305">iterate1</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">y</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L318" title="ocaml/stdlib/seq.ml:318">iterate</a> f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>] is the sequence [<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>, f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>, ...]. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* The reason why we give this slightly indirect definition of [<a href="#L318" title="ocaml/stdlib/seq.ml:318">iterate</a>],<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; as opposed to the more naive definition that may come to mind, is that<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; we are careful to avoid evaluating [f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>] until this function call is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; actually necessary. The naive definition (not shown here) computes the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; second argument of the sequence, [f <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>], when the first argument is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; requested by the user. *)<br/></li>
<li></span><br/></li>
<li><a id="L318">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">iterate</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L305" title="ocaml/stdlib/seq.ml:305">iterate1</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L323">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">mapi_aux</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L323" title="ocaml/stdlib/seq.ml:323">mapi_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span>+<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let[</span>@<span class="ocamlLCIdentifier">inline</span><span class="Statement">]</span> <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L180" title="ocaml/stdlib/bytesLabels.mli:180">mapi</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L323" title="ocaml/stdlib/seq.ml:323">mapi_aux</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L339" title="ocaml/stdlib/seq.ml:339">tail_scan</a> f <a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> xs] is equivalent to [tail (<a href="#L347" title="ocaml/stdlib/seq.ml:347">scan</a> f <a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> xs)].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="#L339" title="ocaml/stdlib/seq.ml:339">tail_scan</a>] is used as <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> building block in the definition of [<a href="#L347" title="ocaml/stdlib/seq.ml:347">scan</a>]. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* This slightly indirect definition of [<a href="#L347" title="ocaml/stdlib/seq.ml:347">scan</a>] is meant to avoid computing<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="set.ml.html#L37" title="ocaml/stdlib/set.ml:37">elements</a> too early; see the above comment about [<a href="#L305" title="ocaml/stdlib/seq.ml:305">iterate1</a>] and [<a href="#L318" title="ocaml/stdlib/seq.ml:318">iterate</a>]. *)<br/></li>
<li></span><br/></li>
<li><a id="L339">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">tail_scan</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span>, <span class="ocamlLCIdentifier"><a href="#L339" title="ocaml/stdlib/seq.ml:339">tail_scan</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L347">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L339" title="ocaml/stdlib/seq.ml:339">tail_scan</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L364" title="ocaml/stdlib/seq.ml:364">take</a>] is defined in such <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> way that [<a href="#L364" title="ocaml/stdlib/seq.ml:364">take</a> 0 xs] returns [<a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a>]<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; immediately, without allocating any memory. *)<br/></li>
<li></span><br/></li>
<li><a id="L353">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">take_aux</span></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a><br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="Constant">()</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L353" title="ocaml/stdlib/seq.ml:353">take_aux</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span>-<span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L364">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">take</span></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;Seq.<a href="#L364" title="ocaml/stdlib/seq.ml:364">take</a>&quot;</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L353" title="ocaml/stdlib/seq.ml:353">take_aux</a></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L372" title="ocaml/stdlib/seq.ml:372">force_drop</a> <a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a> xs] is equivalent to [<a href="stack.ml.html#L38" title="ocaml/stdlib/stack.ml:38">drop</a> <a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a> xs ()].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="#L372" title="ocaml/stdlib/seq.ml:372">force_drop</a> <a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a> xs] requires [<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a> &gt; 0].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="#L372" title="ocaml/stdlib/seq.ml:372">force_drop</a>] is used as <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> building block in the definition of [<a href="stack.ml.html#L38" title="ocaml/stdlib/stack.ml:38">drop</a>]. *)<br/></li>
<li></span><br/></li>
<li><a id="L372">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">force_drop</span></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> - <span class="Constant">1</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">xs</span><span class="Constant">()<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L372" title="ocaml/stdlib/seq.ml:372">force_drop</a></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="stack.ml.html#L38" title="ocaml/stdlib/stack.ml:38">drop</a>] is defined in such <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> way that [<a href="stack.ml.html#L38" title="ocaml/stdlib/stack.ml:38">drop</a> 0 xs] returns [xs] immediately,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; without allocating any memory. *)<br/></li>
<li></span><br/></li>
<li><a id="L386">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">drop</span></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;Seq.<a href="stack.ml.html#L38" title="ocaml/stdlib/stack.ml:38">drop</a>&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">else</span> <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">xs<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="Constant">()</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L372" title="ocaml/stdlib/seq.ml:372">force_drop</a></span> <span class="ocamlLCIdentifier"><a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a></span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L394">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">take_while</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L394" title="ocaml/stdlib/seq.ml:394">take_while</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">else</span> <span class="Constant">Nil<br/></li>
<li></span><br/></li>
<li><a id="L401">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">drop_while</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="#L18" title="ocaml/stdlib/seq.ml:18">node</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L401" title="ocaml/stdlib/seq.ml:401">drop_while</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="#L18" title="ocaml/stdlib/seq.ml:18">node</a><br/></li>
<li></span><br/></li>
<li><a id="L408">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">group</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L394" title="ocaml/stdlib/seq.ml:394">take_while</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="#L408" title="ocaml/stdlib/seq.ml:408">group</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L401" title="ocaml/stdlib/seq.ml:401">drop_while</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L651" title="ocaml/stdlib/camlinternalFormat.ml:651">eq</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">exception</span> <span class="Constant">Forced_twice<br/></li>
<li></span><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Suspension</span><span class="ocamlPreDef"> </span><span class="Statement">=</span> <span class="PreProc">struct<br/></li>
<li></span><br/></li>
<li><a id="L419">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">suspension</span></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Type">unit</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* Conversions. *)<br/></li>
<li></span><br/></li>
<li><a id="L424">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">to_lazy</span></span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="PreProc">Lazy</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="PreProc">Lazy</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="lazy.ml.html#L58" title="ocaml/stdlib/lazy.ml:58">from_fun</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Comment">(* fun <a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> -&gt; lazy (<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a>()) *)<br/></li>
<li></span><br/></li>
<li><a id="L428">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_lazy</span></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="PreProc">Lazy</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a></span><span class="Statement">)</span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">fun</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="PreProc">Lazy</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">force</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* [<a href="#L433" title="ocaml/stdlib/seq.ml:433">memoize</a>] turns an arbitrary <a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a> into <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> persistent <a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L433">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">memoize</span></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="Statement">)</span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L428" title="ocaml/stdlib/seq.ml:428">from_lazy</a></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L424" title="ocaml/stdlib/seq.ml:424">to_lazy</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* [<a href="#L438" title="ocaml/stdlib/seq.ml:438">failure</a>] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a> that fails when forced. *)<br/></li>
<li></span><br/></li>
<li><a id="L438">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">failure</span></span><span class="ocamlStruct"> : </span><span class="Statement">_</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">fun</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Comment">(* A <a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a> created by [<a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a>] has been forced twice. *)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">raise</span><span class="ocamlStruct"> </span><span class="Constant">Forced_twice<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* If [f] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a>, then [<a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a> f] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a> that can be forced<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; at most <a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a>. If it is forced more than <a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a>, then [Forced_twice] is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; raised. *)<br/></li>
<li></span><br/></li>
<li><a id="L447">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">once</span></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">f</span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="Statement">)</span><span class="ocamlStruct"> : '</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/seq.ml:419">suspension</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L169" title="ocaml/stdlib/arg.ml:169">action</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Atomic</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L75" title="ocaml/stdlib/bytesLabels.mli:75">make</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">f</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">fun</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Comment">(* Get the function currently stored in [<a href="arg.ml.html#L169" title="ocaml/stdlib/arg.ml:169">action</a>], and write the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; function [<a href="#L438" title="ocaml/stdlib/seq.ml:438">failure</a>] in its place, so the next access will <a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; in <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> call to [<a href="#L438" title="ocaml/stdlib/seq.ml:438">failure</a>()]. *)<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">f</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Atomic</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="atomic.mli.html#L39" title="ocaml/stdlib/atomic.mli:39">exchange</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L169" title="ocaml/stdlib/arg.ml:169">action</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L438" title="ocaml/stdlib/seq.ml:438">failure</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">f</span><span class="Constant">()<br/></li>
<li></span><br/></li>
<li><span class="PreProc">end</span> <span class="Comment">(* Suspension *)<br/></li>
<li></span><br/></li>
<li><a id="L458">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">memoize</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Suspension</span>.<span class="ocamlLCIdentifier"><a href="#L433" title="ocaml/stdlib/seq.ml:433">memoize</a></span> <span class="Statement">(fun</span> <span class="Constant">()</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L433" title="ocaml/stdlib/seq.ml:433">memoize</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Suspension</span>.<span class="ocamlLCIdentifier"><a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a></span> <span class="Statement">(fun</span> <span class="Constant">()</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L447" title="ocaml/stdlib/seq.ml:447">once</a></span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="seq.mli.html#L615" title="ocaml/stdlib/seq.mli:615">zip</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">((</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">y</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="seq.mli.html#L615" title="ocaml/stdlib/seq.mli:615">zip</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L488">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">map2</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier"><a href="#L488" title="ocaml/stdlib/seq.ml:488">map2</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L499">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">interleave</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">ys</span><span class="Constant">()<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L499" title="ocaml/stdlib/seq.ml:499">interleave</a></span> <span class="ocamlLCIdentifier">ys</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L518" title="ocaml/stdlib/seq.ml:518">sorted_merge1l</a> cmp <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a> xs ys] is equivalent to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [<a href="#L538" title="ocaml/stdlib/seq.ml:538">sorted_merge</a> cmp (<a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a> <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a> xs) ys].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; [sorted_merge1r cmp xs y ys] is equivalent to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [<a href="#L538" title="ocaml/stdlib/seq.ml:538">sorted_merge</a> cmp xs (<a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a> y ys)].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; [sorted_merge1 cmp <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a> xs y ys] is equivalent to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [<a href="#L538" title="ocaml/stdlib/seq.ml:538">sorted_merge</a> cmp (<a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a> <a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a> xs) (<a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a> y ys)].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; These three functions are used as building blocks in the definition<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; of [<a href="#L538" title="ocaml/stdlib/seq.ml:538">sorted_merge</a>]. *)<br/></li>
<li></span><br/></li>
<li><a id="L518">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">sorted_merge1l</span></span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">sorted_merge1</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><span class="Statement">and</span> <span class="ocamlLCIdentifier">sorted_merge1r</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">ys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">sorted_merge1</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><span class="Statement">and</span> <span class="ocamlLCIdentifier">sorted_merge1</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">cmp</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">y</span><span class="ocamlNone"> </span><span class="Statement">&lt;=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">sorted_merge1r</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">ys</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier"><a href="#L518" title="ocaml/stdlib/seq.ml:518">sorted_merge1l</a></span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L538">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">sorted_merge</span></span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span>, <span class="ocamlLCIdentifier">ys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span>, <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span>, <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">ys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">sorted_merge1</span> <span class="ocamlLCIdentifier">cmp</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L549">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">map_fst</span></span> <span class="ocamlLCIdentifier">xys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">((</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="Statement">_)</span>, <span class="ocamlLCIdentifier">xys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L549" title="ocaml/stdlib/seq.ml:549">map_fst</a></span> <span class="ocamlLCIdentifier">xys</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L556">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">map_snd</span></span> <span class="ocamlLCIdentifier">xys</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xys</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">((_</span>, <span class="ocamlLCIdentifier">y</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier">xys</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier"><a href="#L556" title="ocaml/stdlib/seq.ml:556">map_snd</a></span> <span class="ocamlLCIdentifier">xys</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L563">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">unzip</span></span> <span class="ocamlLCIdentifier">xys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L549" title="ocaml/stdlib/seq.ml:549">map_fst</a></span> <span class="ocamlLCIdentifier">xys</span>, <span class="ocamlLCIdentifier"><a href="#L556" title="ocaml/stdlib/seq.ml:556">map_snd</a></span> <span class="ocamlLCIdentifier">xys<br/></li>
<li></span><br/></li>
<li><a id="L566">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">split</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L563" title="ocaml/stdlib/seq.ml:563">unzip</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* [<a href="#L572" title="ocaml/stdlib/seq.ml:572">filter_map_find_left_map</a> f xs] is equivalent to<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="map.ml.html#L55" title="ocaml/stdlib/map.ml:55">filter_map</a> Either.<a href="either.mli.html#L72" title="ocaml/stdlib/either.mli:72">find_left</a> (<a href="bytesLabels.mli.html#L175" title="ocaml/stdlib/bytesLabels.mli:175">map</a> f xs)]. *)<br/></li>
<li></span><br/></li>
<li><a id="L572">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">filter_map_find_left_map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="PreProc">Either</span>.<span class="Constant">Left</span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier"><a href="#L572" title="ocaml/stdlib/seq.ml:572">filter_map_find_left_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="PreProc">Either</span>.<span class="Constant">Right</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L572" title="ocaml/stdlib/seq.ml:572">filter_map_find_left_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><a id="L583">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">filter_map_find_right_map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="PreProc">Either</span>.<span class="Constant">Left</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L583" title="ocaml/stdlib/seq.ml:583">filter_map_find_right_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Constant">()<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="PreProc">Either</span>.<span class="Constant">Right</span> <span class="ocamlLCIdentifier">z</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">z</span>, <span class="ocamlLCIdentifier"><a href="#L583" title="ocaml/stdlib/seq.ml:583">filter_map_find_right_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L594">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">partition_map</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L572" title="ocaml/stdlib/seq.ml:572">filter_map_find_left_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span>,<br/></li>
<li>&nbsp; <span class="ocamlLCIdentifier"><a href="#L583" title="ocaml/stdlib/seq.ml:583">filter_map_find_right_map</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><a id="L598">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">partition</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="map.ml.html#L54" title="ocaml/stdlib/map.ml:54">filter</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">xs</span>, <span class="ocamlLCIdentifier"><a href="map.ml.html#L54" title="ocaml/stdlib/map.ml:54">filter</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;</span> <span class="Statement">not</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* If [xss] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> matrix (<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> sequence of rows), then [peel xss] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> pair of<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the first column (<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> sequence of <a href="set.ml.html#L37" title="ocaml/stdlib/set.ml:37">elements</a>) and of the remainder of the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; matrix (<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> sequence of shorter rows). These two sequences have the same<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a>. The rows of the matrix [xss] are not required to have the same<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a>. An <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a> <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a> is <a href="camlinternalFormat.ml.html#L2403" title="ocaml/stdlib/camlinternalFormat.ml:2403">ignored</a>. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Because [peel] uses [<a href="#L563" title="ocaml/stdlib/seq.ml:563">unzip</a>], its argument must be persistent. The same<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; remark applies to [<a href="seq.mli.html#L575" title="ocaml/stdlib/seq.mli:575">transpose</a>], [<a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a>], [<a href="seq.mli.html#L658" title="ocaml/stdlib/seq.mli:658">product</a>], etc. *)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">peel</span> <span class="ocamlLCIdentifier">xss</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L563" title="ocaml/stdlib/seq.ml:563">unzip</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="map.ml.html#L55" title="ocaml/stdlib/map.ml:55">filter_map</a></span> <span class="ocamlLCIdentifier"><a href="#L91" title="ocaml/stdlib/seq.ml:91">uncons</a></span> <span class="ocamlLCIdentifier">xss</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="seq.mli.html#L575" title="ocaml/stdlib/seq.mli:575">transpose</a></span> <span class="ocamlLCIdentifier">xss</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">heads</span>, <span class="ocamlLCIdentifier">tails</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">peel</span> <span class="ocamlLCIdentifier">xss</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="stack.ml.html#L53" title="ocaml/stdlib/stack.ml:53">is_empty</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">heads</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">assert</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="stack.ml.html#L53" title="ocaml/stdlib/stack.ml:53">is_empty</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tails</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Constant">Nil<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">heads</span>, <span class="ocamlLCIdentifier"><a href="seq.mli.html#L575" title="ocaml/stdlib/seq.mli:575">transpose</a></span> <span class="ocamlLCIdentifier">tails</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* The internal function [<a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a>] takes an extra argument, [remainders],<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; which <a href="bytesLabels.mli.html#L269" title="ocaml/stdlib/bytesLabels.mli:269">contains</a> the remainders of the rows that have already been<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; discovered. *)<br/></li>
<li></span><br/></li>
<li><a id="L626">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">diagonals</span></span> <span class="ocamlLCIdentifier">remainders</span> <span class="ocamlLCIdentifier">xss</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">xss</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">xs</span>, <span class="ocamlLCIdentifier">xss</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">xs</span><span class="Constant">()</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">(* We discover <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> new nonempty <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a> [<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a> :: xs]. Thus, the next diagonal<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; is [<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a> :: heads]: this diagonal begins with [<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>] and continues with<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the first element of every <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a> in [remainders]. In the recursive<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; call, the argument [remainders] is instantiated with [xs ::<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; tails], which means that we have <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> more remaining <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a>, [xs],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; and that we keep the tails of the pre-existing remaining rows. *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">heads</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">tails</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">peel</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">remainders</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">heads</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L28" title="ocaml/stdlib/seq.ml:28">cons</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">xs</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tails</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">xss</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Nil</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Comment">(* We discover <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> new <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a> <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a>. In this case, the new diagonal is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; just [heads], and [remainders] is instantiated with just [tails],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; as we do not have <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> more remaining <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a>. *)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">heads</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">tails</span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">peel</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">remainders</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">heads</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">tails</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">xss</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Comment">(* There are no more rows to be discovered. There remains to exhaust<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; the remaining rows. *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="seq.mli.html#L575" title="ocaml/stdlib/seq.mli:575">transpose</a></span> <span class="ocamlLCIdentifier">remainders</span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* If [xss] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> matrix (<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> sequence of rows), then [<a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a> xss] is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the sequence of its <a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a>.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; The first diagonal <a href="bytesLabels.mli.html#L269" title="ocaml/stdlib/bytesLabels.mli:269">contains</a> just the first element of the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; first <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a>. The second diagonal <a href="bytesLabels.mli.html#L269" title="ocaml/stdlib/bytesLabels.mli:269">contains</a> the first element of the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; second <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a> and the second element of the first <a href="bigarray.ml.html#L281" title="ocaml/stdlib/bigarray.ml:281">row</a>; and so on.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; This <a href="bigarray.mli.html#L106" title="ocaml/stdlib/bigarray.mli:106">kind</a> of diagonal is in fact sometimes known as an antidiagonal.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; - Every diagonal is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> finite sequence.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; - The rows of the matrix [xss] are not required to have the same <a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a>.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; - The matrix [xss] is not required to be finite (in either direction).<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; - The matrix [xss] must be persistent. *)<br/></li>
<li></span><br/></li>
<li><a id="L664">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">diagonals</span></span> <span class="ocamlLCIdentifier">xss</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a></span> <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a></span> <span class="ocamlLCIdentifier">xss<br/></li>
<li></span><br/></li>
<li><a id="L667">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">map_product</span></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="filename.mli.html#L30" title="ocaml/stdlib/filename.mli:30">concat</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L626" title="ocaml/stdlib/seq.ml:626">diagonals</a></span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L175" title="ocaml/stdlib/bytesLabels.mli:175">map</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L175" title="ocaml/stdlib/bytesLabels.mli:175">map</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">)</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">)</span> <span class="ocamlLCIdentifier">xs<br/></li>
<li></span>&nbsp; <span class="Statement">))<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.mli.html#L658" title="ocaml/stdlib/seq.mli:658">product</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L667" title="ocaml/stdlib/seq.ml:667">map_product</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">y</span><span class="Statement">))</span> <span class="ocamlLCIdentifier">xs</span> <span class="ocamlLCIdentifier">ys<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.mli.html#L759" title="ocaml/stdlib/seq.mli:759">of_dispenser</a></span> <span class="ocamlLCIdentifier">it</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">it</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><a id="L689">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">to_dispenser</span></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span> <span class="ocamlLCIdentifier">xs</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">fun</span> <span class="Constant">()</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="Statement">(!</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)</span><span class="Constant">()</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">None<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">xs</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">:=</span> <span class="ocamlLCIdentifier">xs</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L701">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">ints</span></span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span>, <span class="ocamlLCIdentifier"><a href="#L701" title="ocaml/stdlib/seq.ml:701">ints</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> + <span class="Constant">1</span><span class="Statement">))<br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
