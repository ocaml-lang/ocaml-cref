<!-- generated by the vscode.pl tool from vscoded.-->

<html>
 <head>
  <title>ocaml/stdlib/scanf.ml - ocaml</title>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <style>
body {
    text-align: left;
    text-align-last: left;
}

.nav-bar {
    font-size: 120%;
    margin-top: 5px;
    margin-bottom: 5px;
}

.nav-link {
    padding-left: 5em;
    padding-right: 5em;
}

ul.toc {
    line-height: 200%;
    font-size: 150%;
}

code {
    font-family: consolas, monospace;
    line-height: 130%;
}

span.Constant {
    color: DarkGreen;
}

span.Special {
    color: #c06000;
}

span.Comment {
    color: DarkRed;
    font-style: italic;
}

span.Identifier {
    color: DarkCyan;
}

span.PreProc {
    color: DarkMagenta;
}

span.Statement, span.Type, span.Keyword, span.Repeat, span.Conditional,
    span.Operator, span.Exception
{
    color: DarkBlue;
}

span.Todo {
    color: DarkRed;
    background-color: Gold;
    font-style: italic;
}

span.Underlined {
    text-decoration: underline;
}

span.linkable {
    font-weight: bold;
}

code ol {
    counter-reset: item;
    list-style-type: none;
    margin-left: 0;
    padding-left: 0;
    list-style-position: inside;
}

code li {
    display: block;
}

code li:before {
    content: counter(item) "  ";
    counter-increment: item;
    color: #999;
    padding-right: 0.5em;
    padding-left: 0.4em;
    list-style-position: inside;
    text-align: right
}

  </style>
 </head>
 <body>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

  <h1>ocaml/stdlib/scanf.ml - ocaml</h1>
 <h2>Global variables defined</h2>
 <ul class="toc">
<li><a href="#L1411">Param_format_EBB</a></li>
<li><a href="#L419">bad_end_of_input</a></li>
<li><a href="#L427">bad_float</a></li>
<li><a href="#L431">bad_hex_float</a></li>
<li><a href="#L405">bad_input</a></li>
<li><a href="#L407">bad_input_escape</a></li>
<li><a href="#L411">bad_token_length</a></li>
<li><a href="#L110">beginning_of_input</a></li>
<li><a href="#L204">beginning_of_input</a></li>
<li><a href="#L1269">c</a></li>
<li><a href="#L1273">c</a></li>
<li><a href="#L1397">c</a></li>
<li><a href="#L89">char_count</a></li>
<li><a href="#L214">char_count</a></li>
<li><a href="#L942">char_for_backslash</a></li>
<li><a href="#L954">char_for_decimal_code</a></li>
<li><a href="#L982">char_for_hexadecimal_code</a></li>
<li><a href="#L439">character_mismatch</a></li>
<li><a href="#L435">character_mismatch_err</a></li>
<li><a href="#L779">check_case_insensitive_string</a></li>
<li><a href="#L994">check_next_char</a></li>
<li><a href="#L1001">check_next_char_for_char</a></li>
<li><a href="#L1002">check_next_char_for_string</a></li>
<li><a href="#L61">checked_peek_char</a></li>
<li><a href="#L191">checked_peek_char</a></li>
<li><a href="#L1115">ci</a></li>
<li><a href="#L126">close_in</a></li>
<li><a href="#L384">close_in</a></li>
<li><a href="#L1394">count</a></li>
<li><a href="#L250">create</a></li>
<li><a href="#L952">decimal_value_of_char</a></li>
<li><a href="#L248">default_token_buffer_size</a></li>
<li><a href="#L105">end_of_input</a></li>
<li><a href="#L197">end_of_input</a></li>
<li><a href="#L101">eof</a></li>
<li><a href="#L202">eof</a></li>
<li><a href="#L317">file_buffer_size</a></li>
<li><a href="#L1350">fmt</a></li>
<li><a href="#L1358">fmt</a></li>
<li><a href="#L1516">format_from_string</a></li>
<li><a href="#L124">from_channel</a></li>
<li><a href="#L380">from_channel</a></li>
<li><a href="#L120">from_file</a></li>
<li><a href="#L377">from_file</a></li>
<li><a href="#L121">from_file_bin</a></li>
<li><a href="#L378">from_file_bin</a></li>
<li><a href="#L123">from_function</a></li>
<li><a href="#L274">from_function</a></li>
<li><a href="#L326">from_ic</a></li>
<li><a href="#L344">from_ic_close_at_end</a></li>
<li><a href="#L345">from_ic_raise_at_end</a></li>
<li><a href="#L122">from_string</a></li>
<li><a href="#L263">from_string</a></li>
<li><a href="#L1130">get_counter</a></li>
<li><a href="#L968">hexadecimal_value_of_char</a></li>
<li><a href="#L76">ignore_char</a></li>
<li><a href="#L241">ignore_char</a></li>
<li><a href="#L509">integer_conversion_of_char</a></li>
<li><a href="#L50">invalidate_current_char</a></li>
<li><a href="#L224">invalidate_current_char</a></li>
<li><a href="#L629">is_binary_digit</a></li>
<li><a href="#L643">is_hexa_digit</a></li>
<li><a href="#L636">is_octal_digit</a></li>
<li><a href="#L1464">k</a></li>
<li><a href="#L1476">kscanf</a></li>
<li><a href="#L1458">kscanf_gen</a></li>
<li><a href="#L93">line_count</a></li>
<li><a href="#L220">line_count</a></li>
<li><a href="#L1263">make_scanf</a></li>
<li><a href="#L114">name_of_input</a></li>
<li><a href="#L206">name_of_input</a></li>
<li><a href="#L1164">new_k</a></li>
<li><a href="#L1207">new_k</a></li>
<li><a href="#L1211">new_k</a></li>
<li><a href="#L1237">new_k</a></li>
<li><a href="#L44">next_char</a></li>
<li><a href="#L164">next_char</a></li>
<li><a href="#L159">null_char</a></li>
<li><a href="#L118">open_in</a></li>
<li><a href="#L374">open_in</a></li>
<li><a href="#L119">open_in_bin</a></li>
<li><a href="#L375">open_in_bin</a></li>
<li><a href="#L366">open_in_file</a></li>
<li><a href="#L1423">pad_prec_scanf</a></li>
<li><a href="#L54">peek_char</a></li>
<li><a href="#L180">peek_char</a></li>
<li><a href="#L85">reset_token</a></li>
<li><a href="#L222">reset_token</a></li>
<li><a href="#L1349">s</a></li>
<li><a href="#L1357">s</a></li>
<li><a href="#L1385">s</a></li>
<li><a href="#L1391">s</a></li>
<li><a href="#L1278">scan</a></li>
<li><a href="#L1282">scan</a></li>
<li><a href="#L1004">scan_backslash_char</a></li>
<li><a href="#L634">scan_binary_int</a></li>
<li><a href="#L1088">scan_bool</a></li>
<li><a href="#L1032">scan_caml_char</a></li>
<li><a href="#L865">scan_caml_float</a></li>
<li><a href="#L840">scan_caml_float_rest</a></li>
<li><a href="#L1055">scan_caml_string</a></li>
<li><a href="#L935">scan_char</a></li>
<li><a href="#L1102">scan_chars_in_char_set</a></li>
<li><a href="#L320">scan_close_at_end</a></li>
<li><a href="#L588">scan_decimal_digit_plus</a></li>
<li><a href="#L574">scan_decimal_digit_star</a></li>
<li><a href="#L617">scan_digit_plus</a></li>
<li><a href="#L601">scan_digit_star</a></li>
<li><a href="#L714">scan_exponent_part</a></li>
<li><a href="#L764">scan_float</a></li>
<li><a href="#L703">scan_fractional_part</a></li>
<li><a href="#L796">scan_hex_float</a></li>
<li><a href="#L648">scan_hexadecimal_int</a></li>
<li><a href="#L690">scan_int_conversion</a></li>
<li><a href="#L728">scan_integer_part</a></li>
<li><a href="#L641">scan_octal_int</a></li>
<li><a href="#L661">scan_optionally_signed_decimal_int</a></li>
<li><a href="#L685">scan_optionally_signed_int</a></li>
<li><a href="#L324">scan_raise_at_end</a></li>
<li><a href="#L653">scan_sign</a></li>
<li><a href="#L919">scan_string</a></li>
<li><a href="#L651">scan_unsigned_decimal_int</a></li>
<li><a href="#L670">scan_unsigned_int</a></li>
<li><a href="#L1122">scanf_bad_input</a></li>
<li><a href="#L73">skip_char</a></li>
<li><a href="#L236">skip_char</a></li>
<li><a href="#L443">skip_whites</a></li>
<li><a href="#L1510">sscanf_format</a></li>
<li><a href="#L41">stdin</a></li>
<li><a href="#L362">stdin</a></li>
<li><a href="#L1143">stopper_of_formatting_lit</a></li>
<li><a href="#L67">store_char</a></li>
<li><a href="#L243">store_char</a></li>
<li><a href="#L1277">stp</a></li>
<li><a href="#L1382">stp</a></li>
<li><a href="#L1279">str_rest</a></li>
<li><a href="#L1386">str_rest</a></li>
<li><a href="#L1201">take_fmtty_format_readers</a></li>
<li><a href="#L1158">take_format_readers</a></li>
<li><a href="#L1231">take_ignored_format_readers</a></li>
<li><a href="#L80">token</a></li>
<li><a href="#L226">token</a></li>
<li><a href="#L492">token_bool</a></li>
<li><a href="#L488">token_char</a></li>
<li><a href="#L97">token_count</a></li>
<li><a href="#L234">token_count</a></li>
<li><a href="#L539">token_float</a></li>
<li><a href="#L537">token_int</a></li>
<li><a href="#L558">token_int32</a></li>
<li><a href="#L559">token_int64</a></li>
<li><a href="#L522">token_int_literal</a></li>
<li><a href="#L557">token_nativeint</a></li>
<li><a href="#L490">token_string</a></li>
<li><a href="#L1227">ty</a></li>
<li><a href="#L834">width</a></li>
<li><a href="#L1383">width</a></li>
<li><a href="#L1389">width</a></li>
<li><a href="#L1138">width_of_pad_opt</a></li>
<li><a href="#L1432">x</a></li>
<li><a href="#L1436">x</a></li>
<li><a href="#L1440">x</a></li>
<li><a href="#L1444">x</a></li>
</ul>
 <h2>Data types defined</h2>
 <ul class="toc">
<li><a href="#L1158">a</a></li>
<li><a href="#L1263">a</a></li>
<li><a href="#L1423">a</a></li>
<li><a href="#L1459">a</a></li>
<li><a href="#L39">file_name</a></li>
<li><a href="#L135">file_name</a></li>
<li><a href="#L26">format6</a></li>
<li><a href="#L35">in_channel</a></li>
<li><a href="#L144">in_channel</a></li>
<li><a href="#L137">in_channel_name</a></li>
<li><a href="#L500">integer_conversion</a></li>
<li><a href="#L37">scanbuf</a></li>
<li><a href="#L157">scanbuf</a></li>
<li><a href="#L396">scanner</a></li>
<li><a href="#L399">scanner_opt</a></li>
<li><a href="#L1201">x</a></li>
<li><a href="#L1231">x</a></li>
</ul>
 <h2>Source code</h2>

  <code><ol><li><span class="Comment">(**************************************************************************)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; OCaml&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Pierre Weis, projet Cristal, INRIA Rocquencourt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; Copyright 2002 Institut National de Recherche en Informatique et&nbsp; &nbsp;&nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp;&nbsp; en Automatique.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; All rights reserved.&nbsp; This <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> is distributed under the terms of&nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; the GNU Lesser General Public License version 2.1, with the&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp;&nbsp; special exception on linking described in the <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> LICENSE.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span><span class="Comment">(**************************************************************************)<br/></li>
<li></span><br/></li>
<li><span class="Statement">open</span><span class="ocamlNone"> </span><span class="PreProc">CamlinternalFormatBasics<br/></li>
<li></span><span class="Statement">open</span><span class="ocamlNone"> </span><span class="PreProc">CamlinternalFormat<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* alias to avoid warning for ambiguity between<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Stdlib.<a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; and CamlinternalFormatBasics.<a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; (the former is in fact an alias for the latter,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; but the ambiguity warning doesn'<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a> care)<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li><a id="L26">&#x200c;</a></span><span class="Statement">type</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, '<span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><span class="linkable">format6</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, '<span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="PreProc">Stdlib</span>.<span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* The run-time library for scanners. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Scanning buffers. *)<br/></li>
<li></span><span class="Statement">module type </span><span class="PreProc">SCANNING</span> = <span class="PreProc">sig<br/></li>
<li></span><br/></li>
<li><a id="L35">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">in_channel</span><br/></li>
<li></span><br/></li>
<li><a id="L37">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">scanbuf</span></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li></span><br/></li>
<li><a id="L39">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">type</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">file_name</span></span><span class="ocamlSig"> </span><span class="Statement">=</span><span class="ocamlSig"> </span><span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a><br/></li>
<li></span><br/></li>
<li><a id="L41">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">stdin</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* The scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> reading from [Stdlib.<a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a>]. *)<br/></li>
<li></span><br/></li>
<li><a id="L44">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">next_char</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L44" title="ocaml/stdlib/scanf.ml:44">next_char</a> ib] advance the scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> for<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> character.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; If no more character can be read, sets <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> condition and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; returns '\000'. *)<br/></li>
<li></span><br/></li>
<li><a id="L50">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">invalidate_current_char</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a> ib] mark the current_char as already<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; scanned. *)<br/></li>
<li></span><br/></li>
<li><a id="L54">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">peek_char</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a> ib] returns the <a href="arg.ml.html#L121" title="ocaml/stdlib/arg.ml:121">current</a> <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a> available in<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; the <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> or reads <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> if necessary (when the <a href="arg.ml.html#L121" title="ocaml/stdlib/arg.ml:121">current</a> character is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; already scanned).<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; If no character can be read, sets an end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> condition and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; returns '\000'. *)<br/></li>
<li></span><br/></li>
<li><a id="L61">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">checked_peek_char</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* Same as [Scanning.<a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a>] above but always returns <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> valid <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a> or<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; fails: instead of returning <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="filename.mli.html#L122" title="ocaml/stdlib/filename.mli:122">null</a> <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a> when the reading method of the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> has reached an end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a>, the function raises exception<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [End_of_file]. *)<br/></li>
<li></span><br/></li>
<li><a id="L67">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">store_char</span></span><span class="ocamlSig"> : </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a> lim ib <a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>] adds [<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>] to the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; of the scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> [ib]. It also advances the scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> for<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> character and returns [lim - 1], indicating the new <a href="weak.ml.html#L119" title="ocaml/stdlib/weak.ml:119">limit</a> for the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a> of the <a href="arg.ml.html#L121" title="ocaml/stdlib/arg.ml:121">current</a> <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L73">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">skip_char</span></span><span class="ocamlSig"> : </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L73" title="ocaml/stdlib/scanf.ml:73">skip_char</a> lim ib] ignores the <a href="arg.ml.html#L121" title="ocaml/stdlib/arg.ml:121">current</a> character. *)<br/></li>
<li></span><br/></li>
<li><a id="L76">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">ignore_char</span></span><span class="ocamlSig"> : </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a> ib lim] ignores the <a href="arg.ml.html#L121" title="ocaml/stdlib/arg.ml:121">current</a> character and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; decrements the <a href="weak.ml.html#L119" title="ocaml/stdlib/weak.ml:119">limit</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L80">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">token</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> ib] returns the <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> stored into the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> of the scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>: it returns the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> matched by the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L85">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">reset_token</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L85" title="ocaml/stdlib/scanf.ml:85">reset_token</a> ib] resets the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; the given scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L89">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">char_count</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L89" title="ocaml/stdlib/scanf.ml:89">char_count</a> ib] returns the number of characters<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; read so far from the given <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L93">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">line_count</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L93" title="ocaml/stdlib/scanf.ml:93">line_count</a> ib] returns the number of new line<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; characters read so far from the given <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L97">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">token_count</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L97" title="ocaml/stdlib/scanf.ml:97">token_count</a> ib] returns the number of tokens read<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; so far from [ib]. *)<br/></li>
<li></span><br/></li>
<li><a id="L101">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">eof</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="random.mli.html#L84" title="ocaml/stdlib/random.mli:84">bool</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a> ib] returns the end of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> condition<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; of the given <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L105">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">end_of_input</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="random.mli.html#L84" title="ocaml/stdlib/random.mli:84">bool</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a> ib] tests the end of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> condition<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; of the given <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> (if no <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a> has ever been read, an attempt to<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; read <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> is performed). *)<br/></li>
<li></span><br/></li>
<li><a id="L110">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">beginning_of_input</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="random.mli.html#L84" title="ocaml/stdlib/random.mli:84">bool</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L110" title="ocaml/stdlib/scanf.ml:110">beginning_of_input</a> ib] tests the beginning of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; condition of the given <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L114">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">name_of_input</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a><br/></li>
<li></span><span class="ocamlSig">&nbsp; </span><span class="Comment">(* [Scanning.<a href="#L114" title="ocaml/stdlib/scanf.ml:114">name_of_input</a> ib] returns the <a href="obj.ml.html#L107" title="ocaml/stdlib/obj.ml:107">name</a> of the character<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; source for <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> [ib]. *)<br/></li>
<li></span><br/></li>
<li><a id="L118">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">open_in</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/stdlib/scanf.ml:39">file_name</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li><a id="L119">&#x200c;</a></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">open_in_bin</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/stdlib/scanf.ml:39">file_name</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li><a id="L120">&#x200c;</a></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_file</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/stdlib/scanf.ml:39">file_name</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li><a id="L121">&#x200c;</a></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_file_bin</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/stdlib/scanf.ml:39">file_name</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li><a id="L122">&#x200c;</a></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_string</span></span><span class="ocamlSig"> : </span><span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li><a id="L123">&#x200c;</a></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_function</span></span><span class="ocamlSig"> : </span><span class="Statement">(</span><span class="Type">unit</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a></span><span class="Statement">)</span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li><a id="L124">&#x200c;</a></span><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_channel</span></span><span class="ocamlSig"> : </span><span class="PreProc">Stdlib</span><span class="ocamlSig">.</span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li></span><br/></li>
<li><a id="L126">&#x200c;</a><span class="ocamlSig">&nbsp; </span><span class="Statement">val</span><span class="ocamlSig"> </span><span class="ocamlLCIdentifier"><span class="linkable">close_in</span></span><span class="ocamlSig"> : </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span><span class="ocamlSig"> </span><span class="Statement">-&gt;</span><span class="ocamlSig"> </span><span class="Type">unit<br/></li>
<li></span><br/></li>
<li><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Statement">module</span><span class="PreProc"> Scanning</span><span class="ocamlPreDef"> : </span><span class="PreProc">SCANNING</span><span class="ocamlPreDef"> </span><span class="Statement">=</span> <span class="PreProc">struct<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* The run-time library for <a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L135">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">file_name</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a><br/></li>
<li></span><br/></li>
<li><a id="L137">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">in_channel_name</span></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_channel</span><span class="ocamlStruct"> </span><span class="Statement">of</span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_file</span><span class="ocamlStruct"> </span><span class="Statement">of</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L39" title="ocaml/stdlib/scanf.ml:39">file_name</a></span><span class="ocamlStruct"> </span><span class="Statement">*</span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_function<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_string<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L144">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">in_channel</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Statement">{<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">mutable</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic_eof</span><span class="ocamlStruct"> : </span><span class="Type"><a href="random.mli.html#L84" title="ocaml/stdlib/random.mli:84">bool</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">mutable</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic_current_char</span><span class="ocamlStruct"> : </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">mutable</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic_current_char_is_valid</span><span class="ocamlStruct"> : </span><span class="Type"><a href="random.mli.html#L84" title="ocaml/stdlib/random.mli:84">bool</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">mutable</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic_char_count</span><span class="ocamlStruct"> : </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">mutable</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic_line_count</span><span class="ocamlStruct"> : </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">mutable</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic_token_count</span><span class="ocamlStruct"> : </span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_get_next_char</span><span class="ocamlStruct"> : </span><span class="Type">unit</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="Type"><a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_token_buffer</span><span class="ocamlStruct"> : </span><span class="PreProc">Buffer</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_input_name</span><span class="ocamlStruct"> : </span><span class="ocamlLCIdentifier"><a href="#L137" title="ocaml/stdlib/scanf.ml:137">in_channel_name</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L157">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">type</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">scanbuf</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a><br/></li>
<li></span><br/></li>
<li><a id="L159">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">null_char</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">'\000'<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* Reads <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> new character from <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Next_char never fails, even in case of end of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; it then simply sets the end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> condition. *)<br/></li>
<li><a id="L164">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">next_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">try<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_get_next_char</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_current_char</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_current_char_is_valid</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="Constant">true</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_char_count</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="int32.ml.html#L48" title="ocaml/stdlib/int32.ml:48">succ</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_char_count</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_line_count</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="int32.ml.html#L48" title="ocaml/stdlib/int32.ml:48">succ</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_line_count</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">End_of_file</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L159" title="ocaml/stdlib/scanf.ml:159">null_char</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_current_char</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_current_char_is_valid</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="Constant">false</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_eof</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="Constant">true</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L180">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">peek_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">ic_current_char_is_valid<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_current_char<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L44" title="ocaml/stdlib/scanf.ml:44">next_char</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* Returns <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> valid <a href="arg.ml.html#L121" title="ocaml/stdlib/arg.ml:121">current</a> <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a> for the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. In particular<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; no irrelevant <a href="filename.mli.html#L122" title="ocaml/stdlib/filename.mli:122">null</a> character (as <a href="bigarray.mli.html#L544" title="ocaml/stdlib/bigarray.mli:544">set</a> by [<a href="#L44" title="ocaml/stdlib/scanf.ml:44">next_char</a>] in case of end<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>) is returned, since [End_of_file] is raised when<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [<a href="#L44" title="ocaml/stdlib/scanf.ml:44">next_char</a>] sets the end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> condition while trying to read <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; new character. *)<br/></li>
<li><a id="L191">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">checked_peek_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">ic_eof</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="Statement">raise</span><span class="ocamlStruct"> </span><span class="Constant">End_of_file</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L197">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">end_of_input</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ignore</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="Statement">);<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_eof<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L202">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">eof</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_eof<br/></li>
<li></span><br/></li>
<li><a id="L204">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">beginning_of_input</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_char_count</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">0<br/></li>
<li></span><br/></li>
<li><a id="L206">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">name_of_input</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_input_name</span><span class="ocamlStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_channel</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">_ic</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="Constant">&quot;unnamed Stdlib <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel&quot;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_file</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">fname</span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier">_ic</span><span class="Statement">)</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">fname<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_function</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="Constant">&quot;unnamed function&quot;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_string</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="Constant">&quot;unnamed character <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a>&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L214">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">char_count</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier">ic_current_char_is_valid<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_char_count</span><span class="ocamlStruct"> - </span><span class="Constant">1<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">else</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_char_count<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L220">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">line_count</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_line_count<br/></li>
<li></span><br/></li>
<li><a id="L222">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">reset_token</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Buffer</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L75" title="ocaml/stdlib/buffer.ml:75">reset</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_token_buffer<br/></li>
<li></span><br/></li>
<li><a id="L224">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">invalidate_current_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_current_char_is_valid</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="Constant">false<br/></li>
<li></span><br/></li>
<li><a id="L226">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">token</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">token_buffer</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_token_buffer</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">tok</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Buffer</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L46" title="ocaml/stdlib/buffer.ml:46">contents</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">token_buffer</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="PreProc">Buffer</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L73" title="ocaml/stdlib/buffer.ml:73">clear</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">token_buffer</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_token_count</span><span class="ocamlStruct"> </span><span class="Statement">&lt;-</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="int32.ml.html#L48" title="ocaml/stdlib/int32.ml:48">succ</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_token_count</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">tok<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L234">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">token_count</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_token_count<br/></li>
<li></span><br/></li>
<li><a id="L236">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">skip_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L241">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">ignore_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L73" title="ocaml/stdlib/scanf.ml:73">skip_char</a></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlStruct"> - </span><span class="Constant">1</span><span class="Statement">)</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><a id="L243">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">store_char</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="PreProc">Buffer</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L112" title="ocaml/stdlib/buffer.ml:112">add_char</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_token_buffer</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L248">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">default_token_buffer_size</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">1024<br/></li>
<li></span><br/></li>
<li><a id="L250">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">create</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">iname</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">next</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Statement">{<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_eof</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">false</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_current_char</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L159" title="ocaml/stdlib/scanf.ml:159">null_char</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_current_char_is_valid</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">false</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_char_count</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">0</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_line_count</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">0</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_token_count</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Constant">0</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_get_next_char</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">next</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_token_buffer</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Buffer</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L40" title="ocaml/stdlib/buffer.ml:40">create</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L248" title="ocaml/stdlib/scanf.ml:248">default_token_buffer_size</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier">ic_input_name</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">iname</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">}<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L263">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_string</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span><span class="ocamlStruct"> </span><span class="Constant">0</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">String</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">next</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="Statement">raise</span><span class="ocamlStruct"> </span><span class="Constant">End_of_file</span><span class="ocamlStruct"> </span><span class="Statement">else<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="ocamlStruct">.</span><span class="Statement">[!</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="Statement">]</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="atomic.ml.html#L25" title="ocaml/stdlib/atomic.ml:25">incr</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L40" title="ocaml/stdlib/buffer.ml:40">create</a></span><span class="ocamlStruct"> </span><span class="Constant">From_string</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">next<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L274">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_function</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L40" title="ocaml/stdlib/buffer.ml:40">create</a></span><span class="ocamlStruct"> </span><span class="Constant">From_function<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* Scanning from an <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel. *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* Position of the problem:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; We cannot prevent the scanning mechanism to use <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> lookahead character,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; if needed by the semantics of the <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> specifications (<a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a>.g. <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; trailing 'skip space' specification in the <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a>); in this case,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; the mandatory lookahead character is indeed read from the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> and not<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; used to <a href="seq.ml.html#L26" title="ocaml/stdlib/seq.ml:26">return</a> the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> read. It is thus mandatory to be able to store<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; an unused lookahead character somewhere to <a href="bigarray.mli.html#L541" title="ocaml/stdlib/bigarray.mli:541">get</a> it as the first character<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; of the next <a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a>.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; To circumvent this problem, all the scanning functions <a href="bigarray.mli.html#L541" title="ocaml/stdlib/bigarray.mli:541">get</a> <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> low level<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> argument where they store the lookahead character when<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; needed; additionally, the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> is the only source of character of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="#L396" title="ocaml/stdlib/scanf.ml:396">scanner</a>. The [<a href="#L37" title="ocaml/stdlib/scanf.ml:37">scanbuf</a>] <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> buffers are defined in module {!Scanning}.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; Now we understand that it is extremely important that related and<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; successive calls to scanners indeed read from the same <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; In effect, if <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="#L396" title="ocaml/stdlib/scanf.ml:396">scanner</a> [scan1] is reading from [ib1] and stores an<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; unused lookahead character [c1] into its <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> [ib1], then<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; another <a href="#L396" title="ocaml/stdlib/scanf.ml:396">scanner</a> [scan2] not reading from the same <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> [ib1] will miss<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; the character [c1], seemingly vanished in the air from the point of view<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; of [scan2].<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; This mechanism works perfectly to read from strings, from files, and from<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; functions, since in those cases, allocating two buffers reading from the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; same source is unnatural.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp;&nbsp; Still, there is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> difficulty in the case of scanning from an <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; channel. In effect, when scanning from an <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel [ic], this channel<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; may not have been allocated from within this library. Hence, it may be<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; shared (two functions of the user'<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> program may successively read from<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [ic]). This is highly <a href="result.ml.html#L19" title="ocaml/stdlib/result.ml:19">error</a> prone since, <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> of the function may <a href="out_channel.mli.html#L128" title="ocaml/stdlib/out_channel.mli:128">seek</a> the<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel, while the other function has still an unused lookahead<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; character in its <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. In conclusion, you should never mix direct<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; low level reading and high level scanning from the same <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; *)<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* Perform bufferized <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> to improve efficiency. *)<br/></li>
<li><a id="L317">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">file_buffer_size</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span><span class="ocamlStruct"> </span><span class="Constant">1024<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* The <a href="#L396" title="ocaml/stdlib/scanf.ml:396">scanner</a> closes the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel at end of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>. *)<br/></li>
<li><a id="L320">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">scan_close_at_end</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="stdlib.mli.html#L1175" title="ocaml/stdlib/stdlib.mli:1175">close_in</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">;</span><span class="ocamlStruct"> </span><span class="Statement">raise</span><span class="ocamlStruct"> </span><span class="Constant">End_of_file<br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* The <a href="#L396" title="ocaml/stdlib/scanf.ml:396">scanner</a> does not <a href="out_channel.mli.html#L78" title="ocaml/stdlib/out_channel.mli:78">close</a> the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> channel at end of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; it just raises [End_of_file]. *)<br/></li>
<li><a id="L324">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">scan_raise_at_end</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">_ic</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Statement">raise</span><span class="ocamlStruct"> </span><span class="Constant">End_of_file<br/></li>
<li></span><br/></li>
<li><a id="L326">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_ic</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">scan_close_ic</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">iname</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L317" title="ocaml/stdlib/scanf.ml:317">file_buffer_size</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L146" title="ocaml/stdlib/in_channel.ml:146">buf</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="PreProc">Bytes</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L40" title="ocaml/stdlib/buffer.ml:40">create</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span><span class="ocamlStruct"> </span><span class="Constant">0</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">lim</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span><span class="ocamlStruct"> </span><span class="Constant">0</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span><span class="ocamlStruct"> </span><span class="Constant">false</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">next</span><span class="ocamlStruct"> </span><span class="Constant">()</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier">lim</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="PreProc">Bytes</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="bigarray.mli.html#L541" title="ocaml/stdlib/bigarray.mli:541">get</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L146" title="ocaml/stdlib/in_channel.ml:146">buf</a></span><span class="ocamlEnd"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlEnd"> </span><span class="Statement">in</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="atomic.ml.html#L25" title="ocaml/stdlib/atomic.ml:25">incr</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlEnd"> </span><span class="Statement">end</span><span class="ocamlStruct"> </span><span class="Statement">else<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlStruct"> </span><span class="Statement">raise</span><span class="ocamlStruct"> </span><span class="Constant">End_of_file</span><span class="ocamlStruct"> </span><span class="Statement">else</span><span class="ocamlStruct"> </span><span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier">lim</span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L146" title="ocaml/stdlib/in_channel.ml:146">buf</a></span><span class="ocamlEnd"> </span><span class="Constant">0</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier">lim</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlEnd"> </span><span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="Constant">true</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">scan_close_ic</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlEnd"> </span><span class="Statement">end</span><span class="ocamlEnd"> </span><span class="Statement">else</span><span class="ocamlEnd"> </span><span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlEnd"> </span><span class="Statement">:=</span><span class="ocamlEnd"> </span><span class="Constant">1</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="PreProc">Bytes</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="bigarray.mli.html#L541" title="ocaml/stdlib/bigarray.mli:541">get</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L146" title="ocaml/stdlib/in_channel.ml:146">buf</a></span><span class="ocamlEnd"> </span><span class="Constant">0<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="Statement">end</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="buffer.ml.html#L40" title="ocaml/stdlib/buffer.ml:40">create</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">iname</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">next<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L344">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_ic_close_at_end</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L326" title="ocaml/stdlib/scanf.ml:326">from_ic</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L320" title="ocaml/stdlib/scanf.ml:320">scan_close_at_end</a><br/></li>
<li><a id="L345">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_ic_raise_at_end</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L326" title="ocaml/stdlib/scanf.ml:326">from_ic</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L324" title="ocaml/stdlib/scanf.ml:324">scan_raise_at_end</a><br/></li>
<li></span><br/></li>
<li><span class="ocamlStruct">&nbsp; </span><span class="Comment">(* The scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> reading from [Stdlib.<a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a>].<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; One could try to define [<a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a>] as <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> scanning <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a> reading <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> character<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; at <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> time (no bufferization at all), but unfortunately the <a href="stack.ml.html#L43" title="ocaml/stdlib/stack.ml:43">top</a>-level<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; interaction would be wrong. This is due to <a href="option.mli.html#L30" title="ocaml/stdlib/option.mli:30">some</a> <a href="bigarray.mli.html#L106" title="ocaml/stdlib/bigarray.mli:106">kind</a> of<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; 'race condition' when reading from [Stdlib.<a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a>],<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; since the interactive compiler and [Scanf.<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>] will simultaneously<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; read the material they need from [Stdlib.<a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a>]; then, confusion<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; will <a href="stdlib.ml.html#L246" title="ocaml/stdlib/stdlib.ml:246">result</a> from what should be read by the <a href="stack.ml.html#L43" title="ocaml/stdlib/stack.ml:43">top</a>-level and what should be<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; read by [Scanf.<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>].<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; This is even more complicated by the <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> character lookahead that<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; [Scanf.<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>] is sometimes obliged to maintain: the lookahead character<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; will be available for the next [Scanf.<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>] entry, seemingly coming from<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; nowhere.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; Also no [End_of_file] is raised when reading from <a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a>: if not enough<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; characters have been read, we simply ask to read more. *)<br/></li>
<li><a id="L362">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">stdin</span></span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L326" title="ocaml/stdlib/scanf.ml:326">from_ic</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L324" title="ocaml/stdlib/scanf.ml:324">scan_raise_at_end</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">(</span><span class="Constant">From_file</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="Constant">&quot;-&quot;</span><span class="ocamlStruct">, </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a></span><span class="Statement">))</span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a><br/></li>
<li></span><br/></li>
<li><a id="L366">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">open_in_file</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L409" title="ocaml/stdlib/stdlib.ml:409">open_in</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">fname</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">fname</span><span class="ocamlStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">&quot;-&quot;</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a><br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">fname</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L409" title="ocaml/stdlib/stdlib.ml:409">open_in</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">fname</span><span class="ocamlStruct"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L344" title="ocaml/stdlib/scanf.ml:344">from_ic_close_at_end</a></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="Constant">From_file</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">fname</span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">))</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L374">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">open_in</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L366" title="ocaml/stdlib/scanf.ml:366">open_in_file</a></span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><span class="linkable">open_in</span><br/></li>
<li><a id="L375">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">open_in_bin</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="#L366" title="ocaml/stdlib/scanf.ml:366">open_in_file</a></span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><span class="linkable">open_in_bin</span><br/></li>
<li></span><br/></li>
<li><a id="L377">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_file</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L409" title="ocaml/stdlib/stdlib.ml:409">open_in</a><br/></li>
<li><a id="L378">&#x200c;</a></span><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_file_bin</span></span><span class="ocamlStruct"> </span><span class="Statement">=</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L412" title="ocaml/stdlib/stdlib.ml:412">open_in_bin</a><br/></li>
<li></span><br/></li>
<li><a id="L380">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">from_channel</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L345" title="ocaml/stdlib/scanf.ml:345">from_ic_raise_at_end</a></span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="Constant">From_channel</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L384">&#x200c;</a><span class="ocamlStruct">&nbsp; </span><span class="Statement">let</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier"><span class="linkable">close_in</span></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct"> </span><span class="Statement">=<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier">ic_input_name</span><span class="ocamlStruct"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_channel</span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; &nbsp; </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="stdlib.mli.html#L1175" title="ocaml/stdlib/stdlib.mli:1175">close_in</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_file</span><span class="ocamlStruct"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">_fname</span><span class="ocamlStruct">, </span><span class="ocamlLCIdentifier">ic</span><span class="Statement">)</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="PreProc">Stdlib</span><span class="ocamlStruct">.</span><span class="ocamlLCIdentifier"><a href="stdlib.mli.html#L1175" title="ocaml/stdlib/stdlib.mli:1175">close_in</a></span><span class="ocamlStruct"> </span><span class="ocamlLCIdentifier">ic<br/></li>
<li></span><span class="ocamlStruct">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_function</span><span class="ocamlStruct"> </span><span class="Statement">|</span><span class="ocamlStruct"> </span><span class="Constant">From_string</span><span class="ocamlStruct"> </span><span class="Statement">-&gt;</span><span class="ocamlStruct"> </span><span class="Constant">()<br/></li>
<li></span><br/></li>
<li><span class="PreProc">end<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Formatted <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> functions. *)<br/></li>
<li></span><br/></li>
<li><a id="L396">&#x200c;</a><span class="Statement">type</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><span class="linkable">scanner</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier">d</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><a id="L399">&#x200c;</a><span class="Statement">type</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><span class="linkable">scanner_opt</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">d</span> <span class="Type">option</span>, '<span class="ocamlLCIdentifier">d</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Reporting <a href="printexc.ml.html#L299" title="ocaml/stdlib/printexc.ml:299">errors</a>. *)<br/></li>
<li></span><span class="Statement">exception</span> <span class="Constant">Scan_failure</span> <span class="Statement">of</span> <span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a><br/></li>
<li></span><br/></li>
<li><a id="L405">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bad_input</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">=</span> <span class="Statement">raise</span> <span class="Statement">(</span><span class="Constant">Scan_failure</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L407">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bad_input_escape</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;illegal escape character %C&quot;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L411">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bad_token_length</span></span> <span class="ocamlLCIdentifier">message</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">&quot;scanning of %<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> failed: \<br/></li>
<li></span><span class="Constant">&nbsp; &nbsp; &nbsp; &nbsp; the specified <a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a> was too short for <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">message</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L419">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bad_end_of_input</span></span> <span class="ocamlLCIdentifier">message</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">&quot;scanning of %<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> failed: \<br/></li>
<li></span><span class="Constant">&nbsp; &nbsp; &nbsp; &nbsp; premature end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> occurred <a href="arg.ml.html#L272" title="ocaml/stdlib/arg.ml:272">before</a> end of <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>&quot;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier">message</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L427">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bad_float</span></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Constant">&quot;no dot or exponent part found in <a href="random.mli.html#L78" title="ocaml/stdlib/random.mli:78">float</a> <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L431">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">bad_hex_float</span></span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Constant">&quot;not <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> valid <a href="random.mli.html#L78" title="ocaml/stdlib/random.mli:78">float</a> in hexadecimal notation&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L435">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">character_mismatch_err</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;looking for %C, found %C&quot;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L439">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">character_mismatch</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L435" title="ocaml/stdlib/scanf.ml:435">character_mismatch_err</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L443">&#x200c;</a><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">skip_whites</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">not</span><span class="ocamlNone"> </span><span class="Statement">(</span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Statement">begin<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">' '</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'\<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a>'</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'\<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; </span><span class="PreProc">Scanning</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="Statement">;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L443" title="ocaml/stdlib/scanf.ml:443">skip_whites</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Constant">()<br/></li>
<li></span><span class="ocamlEnd">&nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Checking that [<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>] is indeed in the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>, then skips it.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; In this case, the character [<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>] has been explicitly specified in the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> as being mandatory in the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>; hence we should fail with<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [End_of_file] in case of <a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a>.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; (Remember that [Scan_failure] is raised only when (we can prove by<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; evidence) that the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> does not match the <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> given. We must<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; thus differentiate [End_of_file] as an <a href="result.ml.html#L19" title="ocaml/stdlib/result.ml:19">error</a> due to lack of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>, and<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [Scan_failure] which is due to provably wrong <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>. I am not sure this is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; worth the burden: it is complex and somehow subliminal; should be clearer<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; to fail with Scan_failure &quot;Not enough <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> to complete scanning&quot;!)<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; That'<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> why, waiting for <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> better solution, we use <a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a> here.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; We are also careful to treat &quot;\<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>&quot; in the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> as an end of line <a href="format.ml.html#L414" title="ocaml/stdlib/format.ml:414">marker</a>:<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; it always matches <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> '\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>' specification in the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a>. *)<br/></li>
<li></span><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">' '</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L443" title="ocaml/stdlib/scanf.ml:443">skip_whites</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">check_newline</span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">check_this_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">and</span> <span class="ocamlLCIdentifier">check_this_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L439" title="ocaml/stdlib/scanf.ml:439">character_mismatch</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">and</span> <span class="ocamlLCIdentifier">check_newline</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'\<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">check_this_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L439" title="ocaml/stdlib/scanf.ml:439">character_mismatch</a></span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Extracting tokens from the <a href="out_channel.mli.html#L105" title="ocaml/stdlib/out_channel.mli:105">output</a> <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li></span><br/></li>
<li><a id="L488">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_char</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span>.<span class="Statement">[</span><span class="Constant">0</span><span class="Statement">]<br/></li>
<li></span><br/></li>
<li><a id="L490">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_string</span></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a><br/></li>
<li></span><br/></li>
<li><a id="L492">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_bool</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;true&quot;</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">&quot;false&quot;</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;invalid boolean '%<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a>'&quot;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* The type of integer conversions. *)<br/></li>
<li><a id="L500">&#x200c;</a></span><span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">integer_conversion</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">B_conversion</span> <span class="Comment">(* Unsigned binary conversion *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">D_conversion</span> <span class="Comment">(* Signed decimal conversion *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">I_conversion</span> <span class="Comment">(* Signed integer conversion *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">O_conversion</span> <span class="Comment">(* Unsigned octal conversion *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">U_conversion</span> <span class="Comment">(* Unsigned decimal conversion *)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">X_conversion</span> <span class="Comment">(* Unsigned hexadecimal conversion *)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L509">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">integer_conversion_of_char</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'b'</span> <span class="Statement">-&gt;</span> <span class="Constant">B_conversion<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'d'</span> <span class="Statement">-&gt;</span> <span class="Constant">D_conversion<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a>'</span> <span class="Statement">-&gt;</span> <span class="Constant">I_conversion<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'o'</span> <span class="Statement">-&gt;</span> <span class="Constant">O_conversion<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'u'</span> <span class="Statement">-&gt;</span> <span class="Constant">U_conversion<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>'</span> <span class="Statement">|</span> <span class="Constant">'X'</span> <span class="Statement">-&gt;</span> <span class="Constant">X_conversion<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Statement">assert</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Extract an integer literal <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Since the functions Stdlib.*<a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a>*_of_string do not accept <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> leading +,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; we skip it if necessary. *)<br/></li>
<li><a id="L522">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_int_literal</span></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">tok</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">conv</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">D_conversion</span> <span class="Statement">|</span> <span class="Constant">I_conversion</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">U_conversion</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;0u&quot;</span> <span class="Statement">^</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">O_conversion</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;0o&quot;</span> <span class="Statement">^</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">X_conversion</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;0x&quot;</span> <span class="Statement">^</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">B_conversion</span> <span class="Statement">-&gt;</span> <span class="Constant">&quot;0b&quot;</span> <span class="Statement">^</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="array.ml.html#L356" title="ocaml/stdlib/array.ml:356">l</a></span> <span class="Statement">=</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a></span> <span class="ocamlLCIdentifier">tok</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="array.ml.html#L356" title="ocaml/stdlib/array.ml:356">l</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">tok</span><span class="ocamlNone">.</span><span class="Statement">[</span><span class="Constant">0</span><span class="Statement">]</span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="Constant">'+'</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier">tok</span> <span class="Statement">else</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="buffer.ml.html#L49" title="ocaml/stdlib/buffer.ml:49">sub</a></span> <span class="ocamlLCIdentifier">tok</span> <span class="Constant">1</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="array.ml.html#L356" title="ocaml/stdlib/array.ml:356">l</a></span> - <span class="Constant">1</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* All the functions that convert <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> to <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> number raise the exception<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Failure when the conversion is not possible.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; This exception is then trapped in [<a href="#L1476" title="ocaml/stdlib/scanf.ml:1476">kscanf</a>]. *)<br/></li>
<li><a id="L537">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_int</span></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">int_of_string</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L522" title="ocaml/stdlib/scanf.ml:522">token_int_literal</a></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><a id="L539">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_float</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">float_of_string</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* To <a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a> native <a href="seq.ml.html#L701" title="ocaml/stdlib/seq.ml:701">ints</a>, <a href="bigarray.mli.html#L179" title="ocaml/stdlib/bigarray.mli:179">int32</a> and <a href="bigarray.mli.html#L182" title="ocaml/stdlib/bigarray.mli:182">int64</a> integers.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; We cannot access to conversions to/from strings for those types,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Nativeint.<a href="bytesLabels.mli.html#L93" title="ocaml/stdlib/bytesLabels.mli:93">of_string</a>, Int32.<a href="bytesLabels.mli.html#L93" title="ocaml/stdlib/bytesLabels.mli:93">of_string</a>, and Int64.<a href="bytesLabels.mli.html#L93" title="ocaml/stdlib/bytesLabels.mli:93">of_string</a>,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; since those modules are not available to [Scanf].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; However, we can <a href="result.ml.html#L23" title="ocaml/stdlib/result.ml:23">bind</a> and use the corresponding primitives that are<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; available in the runtime. *)<br/></li>
<li></span><span class="Statement">external</span> <span class="ocamlLCIdentifier">nativeint_of_string</span> : <span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a></span> <span class="Statement">-&gt;</span> <span class="Type"><a href="bigarray.mli.html#L185" title="ocaml/stdlib/bigarray.mli:185">nativeint</a><br/></li>
<li></span>&nbsp; <span class="Statement">=</span> <span class="Constant">&quot;caml_nativeint_of_string&quot;<br/></li>
<li></span><br/></li>
<li><span class="Statement">external</span> <span class="ocamlLCIdentifier">int32_of_string</span> : <span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a></span> <span class="Statement">-&gt;</span> <span class="Type"><a href="bigarray.mli.html#L179" title="ocaml/stdlib/bigarray.mli:179">int32</a><br/></li>
<li></span>&nbsp; <span class="Statement">=</span> <span class="Constant">&quot;caml_int32_of_string&quot;<br/></li>
<li></span><br/></li>
<li><span class="Statement">external</span> <span class="ocamlLCIdentifier">int64_of_string</span> : <span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a></span> <span class="Statement">-&gt;</span> <span class="Type"><a href="bigarray.mli.html#L182" title="ocaml/stdlib/bigarray.mli:182">int64</a><br/></li>
<li></span>&nbsp; <span class="Statement">=</span> <span class="Constant">&quot;caml_int64_of_string&quot;<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L557">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_nativeint</span></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">nativeint_of_string</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L522" title="ocaml/stdlib/scanf.ml:522">token_int_literal</a></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li><a id="L558">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_int32</span></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">int32_of_string</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L522" title="ocaml/stdlib/scanf.ml:522">token_int_literal</a></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li><a id="L559">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">token_int64</span></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">int64_of_string</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L522" title="ocaml/stdlib/scanf.ml:522">token_int_literal</a></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Scanning numbers. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Digits scanning functions suppose that <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> character has been checked and<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; is available, since they <a href="seq.ml.html#L26" title="ocaml/stdlib/seq.ml:26">return</a> at end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> with the currently found<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> selected.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; Put it in another way, the digits scanning functions <a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a> for <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> possibly<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a> sequence of digits, (hence, <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> successful scanning from <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> of those<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; functions does not imply that the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> well-formed number: to <a href="bigarray.mli.html#L541" title="ocaml/stdlib/bigarray.mli:541">get</a> <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; true number, it is mandatory to <a href="weak.ml.html#L58" title="ocaml/stdlib/weak.ml:58">check</a> that at least <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> valid digit is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; available <a href="arg.ml.html#L272" title="ocaml/stdlib/arg.ml:272">before</a> calling <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> of the digit scanning functions). *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* The decimal case is treated especially for optimization purposes. *)<br/></li>
<li><a id="L574">&#x200c;</a></span><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_decimal_digit_star</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'_'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L588">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_decimal_digit_plus</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L411" title="ocaml/stdlib/scanf.ml:411">bad_token_length</a></span> <span class="Constant">&quot;decimal digits&quot;</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;character %C is not <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> decimal digit&quot;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* To <a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a> numbers from other bases, we use <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> predicate argument to<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a> digits. *)<br/></li>
<li><a id="L601">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_digit_star</span></span> <span class="ocamlLCIdentifier">digitp</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">scan_digits</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">when</span> <span class="ocamlLCIdentifier">digitp</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">scan_digits</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'_'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">scan_digits</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier">scan_digits</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L617">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_digit_plus</span></span> <span class="ocamlLCIdentifier">basis</span> <span class="ocamlLCIdentifier">digitp</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* Ensure we have got enough <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> <a href="either.mli.html#L60" title="ocaml/stdlib/either.mli:60">left</a>,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; and read at least <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> digit. *)<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L411" title="ocaml/stdlib/scanf.ml:411">bad_token_length</a></span> <span class="Constant">&quot;digits&quot;</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">digitp</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L601" title="ocaml/stdlib/scanf.ml:601">scan_digit_star</a></span> <span class="ocamlLCIdentifier">digitp</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;character %C is not <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> valid %<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a> digit&quot;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier">basis</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L629">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_binary_digit</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'1'</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L634">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_binary_int</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L617" title="ocaml/stdlib/scanf.ml:617">scan_digit_plus</a></span> <span class="Constant">&quot;binary&quot;</span> <span class="ocamlLCIdentifier"><a href="#L629" title="ocaml/stdlib/scanf.ml:629">is_binary_digit</a><br/></li>
<li></span><br/></li>
<li><a id="L636">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_octal_digit</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'7'</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L641">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_octal_int</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L617" title="ocaml/stdlib/scanf.ml:617">scan_digit_plus</a></span> <span class="Constant">&quot;octal&quot;</span> <span class="ocamlLCIdentifier"><a href="#L636" title="ocaml/stdlib/scanf.ml:636">is_octal_digit</a><br/></li>
<li></span><br/></li>
<li><a id="L643">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">is_hexa_digit</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>'</span> .. <span class="Constant">'f'</span> <span class="Statement">|</span> <span class="Constant">'A'</span> .. <span class="Constant">'F'</span> <span class="Statement">-&gt;</span> <span class="Constant">true<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">false<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L648">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_hexadecimal_int</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L617" title="ocaml/stdlib/scanf.ml:617">scan_digit_plus</a></span> <span class="Constant">&quot;hexadecimal&quot;</span> <span class="ocamlLCIdentifier"><a href="#L643" title="ocaml/stdlib/scanf.ml:643">is_hexa_digit</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> decimal integer. *)<br/></li>
<li><a id="L651">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_unsigned_decimal_int</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L588" title="ocaml/stdlib/scanf.ml:588">scan_decimal_digit_plus</a><br/></li>
<li></span><br/></li>
<li><a id="L653">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_sign</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'+'</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'-'</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L661">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_optionally_signed_decimal_int</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L653" title="ocaml/stdlib/scanf.ml:653">scan_sign</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L651" title="ocaml/stdlib/scanf.ml:651">scan_unsigned_decimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan an unsigned integer that could be given in any (common) basis.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; If digits are prefixed by <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> of 0x, 0X, 0o, or 0b, the number is<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; assumed to be written respectively in hexadecimal, hexadecimal,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; octal, or binary. *)<br/></li>
<li><a id="L670">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_unsigned_int</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>'</span><span class="ocamlEnd"> </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'X'</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L648" title="ocaml/stdlib/scanf.ml:648">scan_hexadecimal_int</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Scanning</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'o'</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L641" title="ocaml/stdlib/scanf.ml:641">scan_octal_int</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Scanning</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">'b'</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L634" title="ocaml/stdlib/scanf.ml:634">scan_binary_int</a></span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="PreProc">Scanning</span><span class="ocamlEnd">.</span><span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Statement">_</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L651" title="ocaml/stdlib/scanf.ml:651">scan_unsigned_decimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L685">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_optionally_signed_int</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L653" title="ocaml/stdlib/scanf.ml:653">scan_sign</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L670" title="ocaml/stdlib/scanf.ml:670">scan_unsigned_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L690">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_int_conversion</span></span> <span class="ocamlLCIdentifier">conv</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">conv</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">B_conversion</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L634" title="ocaml/stdlib/scanf.ml:634">scan_binary_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">D_conversion</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L661" title="ocaml/stdlib/scanf.ml:661">scan_optionally_signed_decimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">I_conversion</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L685" title="ocaml/stdlib/scanf.ml:685">scan_optionally_signed_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">O_conversion</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L641" title="ocaml/stdlib/scanf.ml:641">scan_octal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">U_conversion</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L651" title="ocaml/stdlib/scanf.ml:651">scan_unsigned_decimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">X_conversion</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L648" title="ocaml/stdlib/scanf.ml:648">scan_hexadecimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scanning floating point numbers. *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Fractional part is optional and can be reduced to 0 digits. *)<br/></li>
<li><a id="L703">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_fractional_part</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Exp part is optional and can be reduced to 0 digits. *)<br/></li>
<li><a id="L714">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_exponent_part</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a>'</span> <span class="Statement">|</span> <span class="Constant">'E'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L661" title="ocaml/stdlib/scanf.ml:661">scan_optionally_signed_decimal_int</a></span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan the integer part of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> floating point number, (not using the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; OCaml lexical convention since the integer part can be <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a>):<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; an optional sign, followed by <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> possibly <a href="bytesLabels.mli.html#L86" title="ocaml/stdlib/bytesLabels.mli:86">empty</a> sequence of decimal<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; digits (<a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a>.g. -.1). *)<br/></li>
<li><a id="L728">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_integer_part</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L653" title="ocaml/stdlib/scanf.ml:653">scan_sign</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(*<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; For the time being we have (as found in <a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>.mli):<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; the <a href="printexc.ml.html#L24" title="ocaml/stdlib/printexc.ml:24">field</a> <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> is composed of an optional integer literal<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; indicating the maximal <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> of the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> to read.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Unfortunately, the type-checker let the user write an optional <a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a>,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; since this is valid for <a href="printf.mli.html#L129" title="ocaml/stdlib/printf.mli:129">printf</a> <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> strings.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; Thus, the next step for Scanf is to support <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> full <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> and <a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; indication, more or less similar to the <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> for <a href="printf.mli.html#L129" title="ocaml/stdlib/printf.mli:129">printf</a>, possibly extended<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; to the specification of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> [<a href="int32.ml.html#L90" title="ocaml/stdlib/int32.ml:90">max</a>, <a href="int32.ml.html#L89" title="ocaml/stdlib/int32.ml:89">min</a>] range for the <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> of the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> read<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; for strings. Something like the following <a href="arg.ml.html#L21" title="ocaml/stdlib/arg.ml:21">spec</a> for <a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>.mli:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; The optional [<a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a>] is an integer indicating the maximal<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> of the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> read. For instance, [%6d] reads an integer,<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; having at most 6 characters.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; The optional [<a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a>] is <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> dot [.] followed by an integer:<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; - in the floating point number conversions ([%f], [%<a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a>], [%g], [%F], [%E],<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; and [%F] conversions, the [<a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a>] indicates the maximum number of<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; digits that may follow the decimal point. For instance, [%.4f] reads <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a><br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="random.mli.html#L78" title="ocaml/stdlib/random.mli:78">float</a>] with at most 4 fractional digits,<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; - in the <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> conversions ([%<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a>], [%S], [%\[ range \]]), and in the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; integer number conversions ([%<a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a>], [%d], [%u], [%<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>], [%o], and their<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; [<a href="bigarray.mli.html#L179" title="ocaml/stdlib/bigarray.mli:179">int32</a>], [<a href="bigarray.mli.html#L182" title="ocaml/stdlib/bigarray.mli:182">int64</a>], and [native_int] correspondent), the [<a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a>]<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; indicates the required minimum <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> of the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> read,<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp;&nbsp; - on all other conversions, the <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> and <a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a> specify the [<a href="int32.ml.html#L90" title="ocaml/stdlib/int32.ml:90">max</a>, <a href="int32.ml.html#L89" title="ocaml/stdlib/int32.ml:89">min</a>]<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; range for the <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> of the <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a> read.<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li><a id="L764">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_float</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L728" title="ocaml/stdlib/scanf.ml:728">scan_integer_part</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'.'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="int32.ml.html#L89" title="ocaml/stdlib/int32.ml:89">min</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> - <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> - <span class="ocamlLCIdentifier"><a href="#L703" title="ocaml/stdlib/scanf.ml:703">scan_fractional_part</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L714" title="ocaml/stdlib/scanf.ml:714">scan_exponent_part</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L714" title="ocaml/stdlib/scanf.ml:714">scan_exponent_part</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L779">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_case_insensitive_string</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="result.ml.html#L19" title="ocaml/stdlib/result.ml:19">error</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">lowercase</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'A'</span> .. <span class="Constant">'Z'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L223" title="ocaml/stdlib/stdlib.ml:223">char_of_int</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">int_of_char</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> - <span class="ocamlLCIdentifier">int_of_char</span> <span class="Constant">'A'</span> + <span class="ocamlLCIdentifier">int_of_char</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>'</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span> <span class="Statement">=</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L237" title="ocaml/stdlib/stdlib.ml:237">ref</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">for</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">to</span> <span class="ocamlLCIdentifier"><a href="list.ml.html#L404" title="ocaml/stdlib/list.ml:404">len</a></span> - <span class="Constant">1</span> <span class="Statement">do<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlDo"> </span><span class="Statement">=</span><span class="ocamlDo"> </span><span class="PreProc">Scanning</span><span class="ocamlDo">.</span><span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlDo"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">lowercase</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">lowercase</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span><span class="ocamlNone">.</span><span class="Statement">[</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="Statement">]</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="result.ml.html#L19" title="ocaml/stdlib/result.ml:19">error</a></span><span class="ocamlDo"> </span><span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="result.ml.html#L19" title="ocaml/stdlib/result.ml:19">error</a></span><span class="ocamlDo"> </span><span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlDo"> </span><span class="Statement">:=</span><span class="ocamlDo"> </span><span class="PreProc">Scanning</span><span class="ocamlDo">.</span><span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span><span class="ocamlDo"> </span><span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlDo"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">;<br/></li>
<li></span><span class="ocamlDo">&nbsp; </span><span class="Statement">done;<br/></li>
<li></span>&nbsp; <span class="Statement">!</span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L796">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_hex_float</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L653" title="ocaml/stdlib/scanf.ml:653">scan_sign</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L779" title="ocaml/stdlib/scanf.ml:779">check_case_insensitive_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">&quot;<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>&quot;</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'.'</span> <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a>'</span> <span class="Statement">|</span> <span class="Constant">'P'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L648" title="ocaml/stdlib/scanf.ml:648">scan_hexadecimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'.'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a>'</span> <span class="Statement">|</span> <span class="Constant">'P'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="int32.ml.html#L89" title="ocaml/stdlib/int32.ml:89">min</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> - <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> - <span class="ocamlLCIdentifier"><a href="#L648" title="ocaml/stdlib/scanf.ml:648">scan_hexadecimal_int</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a>'</span> <span class="Statement">|</span> <span class="Constant">'P'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L661" title="ocaml/stdlib/scanf.ml:661">scan_optionally_signed_decimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; <span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">|</span> <span class="Constant">'N'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L779" title="ocaml/stdlib/scanf.ml:779">check_case_insensitive_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">&quot;an&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a>'</span> <span class="Statement">|</span> <span class="Constant">'I'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li><a id="L834">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">width</span></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><span class="linkable">width</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L779" title="ocaml/stdlib/scanf.ml:779">check_case_insensitive_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">&quot;nfinity&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L840">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_caml_float_rest</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L574" title="ocaml/stdlib/scanf.ml:574">scan_decimal_digit_star</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'.'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* The effective <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> available for scanning the fractional part is<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; the minimum of declared <a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a> and <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> <a href="either.mli.html#L60" title="ocaml/stdlib/either.mli:60">left</a>. *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="int32.ml.html#L89" title="ocaml/stdlib/int32.ml:89">min</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* After scanning the fractional part with [<a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a>] provisional <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a>,<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; [width_precision] is <a href="either.mli.html#L60" title="ocaml/stdlib/either.mli:60">left</a>. *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">width_precision</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L703" title="ocaml/stdlib/scanf.ml:703">scan_fractional_part</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* Hence, scanning the fractional part took exactly<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp;&nbsp; [<a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a> - width_precision] chars. *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">frac_width</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> - <span class="ocamlLCIdentifier">width_precision</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Comment">(* And new provisional <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> is [<a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> - width_precision. *)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> - <span class="ocamlLCIdentifier">frac_width</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L714" title="ocaml/stdlib/scanf.ml:714">scan_exponent_part</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a>'</span> <span class="Statement">|</span> <span class="Constant">'E'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L714" title="ocaml/stdlib/scanf.ml:714">scan_exponent_part</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L865">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_caml_float</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L653" title="ocaml/stdlib/scanf.ml:653">scan_sign</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>'</span> <span class="Statement">|</span> <span class="Constant">'X'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L648" title="ocaml/stdlib/scanf.ml:648">scan_hexadecimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'.'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a>'</span> <span class="Statement">|</span> <span class="Constant">'P'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">=</span> <span class="PreProc">Int</span>.<span class="ocamlLCIdentifier"><a href="int32.ml.html#L89" title="ocaml/stdlib/int32.ml:89">min</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> - <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> - <span class="ocamlLCIdentifier"><a href="#L648" title="ocaml/stdlib/scanf.ml:648">scan_hexadecimal_int</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a>'</span> <span class="Statement">|</span> <span class="Constant">'P'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a>'</span> <span class="Statement">|</span> <span class="Constant">'P'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L431" title="ocaml/stdlib/scanf.ml:431">bad_hex_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L661" title="ocaml/stdlib/scanf.ml:661">scan_optionally_signed_decimal_int</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L840" title="ocaml/stdlib/scanf.ml:840">scan_caml_float_rest</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'1'</span> .. <span class="Constant">'9'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L840" title="ocaml/stdlib/scanf.ml:840">scan_caml_float_rest</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><span class="Comment">(* Special case of <a href="stdlib.ml.html#L183" title="ocaml/stdlib/stdlib.ml:183">nan</a> and <a href="stdlib.ml.html#L179" title="ocaml/stdlib/stdlib.ml:179">infinity</a>:<br/></li>
<li></span><span class="Comment">&nbsp; | '<a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a>' -&gt;<br/></li>
<li></span><span class="Comment">&nbsp; | '<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>' -&gt;<br/></li>
<li></span><span class="Comment">*)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L427" title="ocaml/stdlib/scanf.ml:427">bad_float</a></span> <span class="Constant">()<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> regular <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a>:<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; stops when encountering <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> space, if no scanning indication has been given;<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; otherwise, stops when encountering the characters in the scanning<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; indication [<a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a>].<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; It also stops at end of <a href="digest.ml.html#L38" title="ocaml/stdlib/digest.ml:38">file</a> or when the maximum number of characters has<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; been read. *)<br/></li>
<li><a id="L919">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_string</span></span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L157" title="ocaml/stdlib/in_channel.ml:157">loop</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>' <span class="Statement">when</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>' <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L73" title="ocaml/stdlib/scanf.ml:73">skip_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L157" title="ocaml/stdlib/in_channel.ml:157">loop</a></span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">' '</span> <span class="Statement">|</span> <span class="Constant">'\<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a>'</span> <span class="Statement">|</span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">|</span> <span class="Constant">'\<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L157" title="ocaml/stdlib/in_channel.ml:157">loop</a></span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L157" title="ocaml/stdlib/in_channel.ml:157">loop</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a>: <a href="queue.mli.html#L63" title="ocaml/stdlib/queue.mli:63">peek</a> strictly <a href="int32.ml.html#L46" title="ocaml/stdlib/int32.ml:46">one</a> character in the <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a>, whatsoever. *)<br/></li>
<li><a id="L935">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_char</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Comment">(* The case <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> = 0 could not happen here, since it is tested <a href="arg.ml.html#L272" title="ocaml/stdlib/arg.ml:272">before</a><br/></li>
<li></span><span class="Comment">&nbsp; &nbsp;&nbsp; calling <a href="#L935" title="ocaml/stdlib/scanf.ml:935">scan_char</a>, in the main scanning function.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; if <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> = 0 then <a href="#L411" title="ocaml/stdlib/scanf.ml:411">bad_token_length</a> &quot;<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> character&quot; else *)<br/></li>
<li></span>&nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L942">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">char_for_backslash</span></span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">-&gt;</span> <span class="Constant">'\010'<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span> <span class="Statement">-&gt;</span> <span class="Constant">'\013'<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'b'</span> <span class="Statement">-&gt;</span> <span class="Constant">'\008'<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a>'</span> <span class="Statement">-&gt;</span> <span class="Constant">'\009'<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* The integer value corresponding to the facial value of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> valid<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; decimal digit character. *)<br/></li>
<li><a id="L952">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">decimal_value_of_char</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">int_of_char</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> - <span class="ocamlLCIdentifier">int_of_char</span> <span class="Constant">'0'<br/></li>
<li></span><br/></li>
<li><a id="L954">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">char_for_decimal_code</span></span> <span class="ocamlLCIdentifier">c0</span> <span class="ocamlLCIdentifier">c1</span> <span class="ocamlLCIdentifier">c2</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">100</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="#L952" title="ocaml/stdlib/scanf.ml:952">decimal_value_of_char</a></span> <span class="ocamlLCIdentifier">c0</span> +<br/></li>
<li>&nbsp; &nbsp;&nbsp; <span class="Constant">10</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="#L952" title="ocaml/stdlib/scanf.ml:952">decimal_value_of_char</a></span> <span class="ocamlLCIdentifier">c1</span> +<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L952" title="ocaml/stdlib/scanf.ml:952">decimal_value_of_char</a></span> <span class="ocamlLCIdentifier">c2</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">255</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Constant">&quot;bad character decimal encoding \\%<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>%<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>%<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>&quot;</span> <span class="ocamlLCIdentifier">c0</span> <span class="ocamlLCIdentifier">c1</span> <span class="ocamlLCIdentifier">c2</span><span class="Statement">)</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L223" title="ocaml/stdlib/stdlib.ml:223">char_of_int</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* The integer value corresponding to the facial value of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> valid<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; hexadecimal digit character. *)<br/></li>
<li><a id="L968">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">hexadecimal_value_of_char</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">d</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">int_of_char</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Comment">(* Could also be:<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; if d &lt;= int_of_char '9' then d - int_of_char '0' else<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; if d &lt;= int_of_char 'F' then 10 + d - int_of_char 'A' else<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; if d &lt;= int_of_char 'f' then 10 + d - int_of_char '<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>' else assert false<br/></li>
<li></span><span class="Comment">&nbsp; *)<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">d</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">int_of_char</span><span class="ocamlNone"> </span><span class="Constant">'<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>'</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">d</span> - <span class="Constant">87</span> <span class="Comment">(* 10 + int_of_char <a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a> - int_of_char '<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>' *)</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">d</span><span class="ocamlNone"> </span><span class="Statement">&gt;=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">int_of_char</span><span class="ocamlNone"> </span><span class="Constant">'A'</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">d</span> - <span class="Constant">55</span>&nbsp; <span class="Comment">(* 10 + int_of_char <a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a> - int_of_char 'A' *)</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">d</span> - <span class="ocamlLCIdentifier">int_of_char</span> <span class="Constant">'0'<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L982">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">char_for_hexadecimal_code</span></span> <span class="ocamlLCIdentifier">c1</span> <span class="ocamlLCIdentifier">c2</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">16</span> <span class="Statement">*</span> <span class="ocamlLCIdentifier"><a href="#L968" title="ocaml/stdlib/scanf.ml:968">hexadecimal_value_of_char</a></span> <span class="ocamlLCIdentifier">c1</span> +<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L968" title="ocaml/stdlib/scanf.ml:968">hexadecimal_value_of_char</a></span> <span class="ocamlLCIdentifier">c2</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">||</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">255</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;bad character hexadecimal encoding \\%<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>%<a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a>&quot;</span> <span class="ocamlLCIdentifier">c1</span> <span class="ocamlLCIdentifier">c2</span><span class="Statement">)</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L223" title="ocaml/stdlib/stdlib.ml:223">char_of_int</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Called in particular when encountering '\\' as starter of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a>.<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; Stops <a href="arg.ml.html#L272" title="ocaml/stdlib/arg.ml:272">before</a> the corresponding '\''. *)<br/></li>
<li><a id="L994">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_next_char</span></span> <span class="ocamlLCIdentifier">message</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L411" title="ocaml/stdlib/scanf.ml:411">bad_token_length</a></span> <span class="ocamlLCIdentifier">message</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L419" title="ocaml/stdlib/scanf.ml:419">bad_end_of_input</a></span> <span class="ocamlLCIdentifier">message</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L1001">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_next_char_for_char</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L994" title="ocaml/stdlib/scanf.ml:994">check_next_char</a></span> <span class="Constant">&quot;<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> Char&quot;<br/></li>
<li><a id="L1002">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">check_next_char_for_string</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L994" title="ocaml/stdlib/scanf.ml:994">check_next_char</a></span> <span class="Constant">&quot;<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> String&quot;<br/></li>
<li></span><br/></li>
<li><a id="L1004">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_backslash_char</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1001" title="ocaml/stdlib/scanf.ml:1001">check_next_char_for_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'\\'</span> <span class="Statement">|</span> <span class="Constant">'\''</span> <span class="Statement">|</span> <span class="Error">'\&quot;'</span> <span class="Statement">|</span> <span class="Constant">'<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">|</span> <span class="Constant">'<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a>'</span> <span class="Statement">|</span> <span class="Constant">'b'</span> <span class="Statement">|</span> <span class="Constant">'<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L942" title="ocaml/stdlib/scanf.ml:942">char_for_backslash</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">get_digit</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L44" title="ocaml/stdlib/scanf.ml:44">next_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L407" title="ocaml/stdlib/scanf.ml:407">bad_input_escape</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">c0</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">c1</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">get_digit</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">c2</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">get_digit</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> - <span class="Constant">2</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L954" title="ocaml/stdlib/scanf.ml:954">char_for_decimal_code</a></span> <span class="ocamlLCIdentifier">c0</span> <span class="ocamlLCIdentifier">c1</span> <span class="ocamlLCIdentifier">c2</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a>'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">get_digit</span> <span class="Constant">()</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L44" title="ocaml/stdlib/scanf.ml:44">next_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'0'</span> .. <span class="Constant">'9'</span> <span class="Statement">|</span> <span class="Constant">'A'</span> .. <span class="Constant">'F'</span> <span class="Statement">|</span> <span class="Constant">'<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>'</span> .. <span class="Constant">'f'</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L407" title="ocaml/stdlib/scanf.ml:407">bad_input_escape</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">c1</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">get_digit</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">c2</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">get_digit</span> <span class="Constant">()</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> - <span class="Constant">2</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L982" title="ocaml/stdlib/scanf.ml:982">char_for_hexadecimal_code</a></span> <span class="ocamlLCIdentifier">c1</span> <span class="ocamlLCIdentifier">c2</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L407" title="ocaml/stdlib/scanf.ml:407">bad_input_escape</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> character (an OCaml <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>). *)<br/></li>
<li><a id="L1032">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_caml_char</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">find_start</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\''</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">find_char</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L439" title="ocaml/stdlib/scanf.ml:439">character_mismatch</a></span> <span class="Constant">'\''</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">find_char</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1001" title="ocaml/stdlib/scanf.ml:1001">check_next_char_for_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\\'</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">find_stop</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1004" title="ocaml/stdlib/scanf.ml:1004">scan_backslash_char</a></span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">find_stop</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1001" title="ocaml/stdlib/scanf.ml:1001">check_next_char_for_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\''</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L439" title="ocaml/stdlib/scanf.ml:439">character_mismatch</a></span> <span class="Constant">'\''</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="ocamlLCIdentifier">find_start</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> delimited <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> (an OCaml <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>). *)<br/></li>
<li><a id="L1055">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_caml_string</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">find_start</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Error">'\&quot;'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L439" title="ocaml/stdlib/scanf.ml:439">character_mismatch</a></span> <span class="Error">'\&quot;'</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a><br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1002" title="ocaml/stdlib/scanf.ml:1002">check_next_char_for_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Error">'\&quot;'</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\\'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">scan_backslash</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">scan_backslash</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1002" title="ocaml/stdlib/scanf.ml:1002">check_next_char_for_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">skip_newline</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">skip_spaces</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1004" title="ocaml/stdlib/scanf.ml:1004">scan_backslash_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">skip_newline</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1002" title="ocaml/stdlib/scanf.ml:1002">check_next_char_for_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'\<a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>'</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">skip_spaces</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Constant">'\<a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a>'</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">and</span> <span class="ocamlLCIdentifier">skip_spaces</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1002" title="ocaml/stdlib/scanf.ml:1002">check_next_char_for_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">' '</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">skip_spaces</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L76" title="ocaml/stdlib/scanf.ml:76">ignore_char</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">find_stop</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">in<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="ocamlLCIdentifier">find_start</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> boolean (an OCaml <a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a>). *)<br/></li>
<li><a id="L1088">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_bool</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier">m</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a>'</span> <span class="Statement">-&gt;</span> <span class="Constant">4<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">'f'</span> <span class="Statement">-&gt;</span> <span class="Constant">5<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;the character %C cannot <a href="gc.mli.html#L498" title="ocaml/stdlib/gc.mli:498">start</a> <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> boolean&quot;</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L919" title="ocaml/stdlib/scanf.ml:919">scan_string</a></span> <span class="Constant">None</span> <span class="ocamlLCIdentifier">m</span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a> containing <a href="set.ml.html#L37" title="ocaml/stdlib/set.ml:37">elements</a> in <a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a> and terminated by scan_indic<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; if provided. *)<br/></li>
<li><a id="L1102">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan_chars_in_char_set</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a></span> <span class="ocamlLCIdentifier">scan_indic</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">scan_chars</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span><span class="ocamlNone"> </span><span class="Statement">&gt;</span><span class="ocamlNone"> </span><span class="Constant">0</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;</span><span class="ocamlNone"> </span><span class="Statement">not</span><span class="ocamlNone"> </span><span class="Statement">(</span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L46" title="ocaml/stdlib/camlinternalFormat.ml:46">is_in_char_set</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&amp;&amp;<br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="ocamlLCIdentifier">int_of_char</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">&lt;&gt;</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L67" title="ocaml/stdlib/scanf.ml:67">store_char</a></span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">scan_chars</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> - <span class="Constant">1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier">scan_indic</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">scan_chars</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">(</span>-<span class="Constant">1</span><span class="Statement">);<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">scan_chars</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">int_of_char</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="Statement">not</span><span class="ocamlNone"> </span><span class="Statement">(</span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L101" title="ocaml/stdlib/scanf.ml:101">eof</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span><span class="ocamlNone"> </span><span class="Statement">then<br/></li>
<li><a id="L1115">&#x200c;</a></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">ci</span></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L54" title="ocaml/stdlib/scanf.ml:54">peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a><br/></li>
<li></span><span class="ocamlNone">&nbsp; &nbsp; &nbsp; </span><span class="Statement">then</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L50" title="ocaml/stdlib/scanf.ml:50">invalidate_current_char</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="#L439" title="ocaml/stdlib/scanf.ml:439">character_mismatch</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L1115" title="ocaml/stdlib/scanf.ml:1115">ci</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* The global <a href="result.ml.html#L19" title="ocaml/stdlib/result.ml:19">error</a> report function for [Scanf]. *)<br/></li>
<li><a id="L1122">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scanf_bad_input</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="Statement">function<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_failure</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">|</span> <span class="Constant">Failure</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L89" title="ocaml/stdlib/scanf.ml:89">char_count</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Statement">(</span><span class="PreProc">Printf</span>.<span class="ocamlLCIdentifier"><a href="printf.mli.html#L135" title="ocaml/stdlib/printf.mli:135">sprintf</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> at <a href="bigarray.mli.html#L188" title="ocaml/stdlib/bigarray.mli:188">char</a> number %<a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a>: %<a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a>&quot;</span> <span class="ocamlLCIdentifier"><a href="complex.ml.html#L22" title="ocaml/stdlib/complex.ml:22">i</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;</span> <span class="Statement">raise</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Get the content of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="camlinternalFormat.ml.html#L2432" title="ocaml/stdlib/camlinternalFormat.ml:2432">counter</a> from an <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> <a href="camlinternalFormat.ml.html#L250" title="ocaml/stdlib/camlinternalFormat.ml:250">buffer</a>. *)<br/></li>
<li><a id="L1130">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">get_counter</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2432" title="ocaml/stdlib/camlinternalFormat.ml:2432">counter</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2432" title="ocaml/stdlib/camlinternalFormat.ml:2432">counter</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Line_counter</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L93" title="ocaml/stdlib/scanf.ml:93">line_count</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Char_counter</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L89" title="ocaml/stdlib/scanf.ml:89">char_count</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Token_counter</span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L97" title="ocaml/stdlib/scanf.ml:97">token_count</a></span> <span class="ocamlLCIdentifier">ib<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(* Compute the <a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a> of <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="camlinternalFormatBasics.mli.html#L36" title="ocaml/stdlib/camlinternalFormatBasics.mli:36">padding</a> option (see &quot;%42{&quot; and &quot;%123(&quot;). *)<br/></li>
<li><a id="L1138">&#x200c;</a></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">width_of_pad_opt</span></span> <span class="ocamlLCIdentifier">pad_opt</span> <span class="Statement">=</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">pad_opt</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">None</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L1143">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">stopper_of_formatting_lit</span></span> <span class="ocamlLCIdentifier">fmting</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">fmting</span><span class="ocamlNone"> </span><span class="Statement">=</span><span class="ocamlNone"> </span><span class="Constant">Escaped_percent</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="Constant">'%'</span>, <span class="Constant">&quot;&quot;</span> <span class="Statement">else<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L465" title="ocaml/stdlib/camlinternalFormat.ml:465">string_of_formatting_lit</a></span> <span class="ocamlLCIdentifier">fmting</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span>.<span class="Statement">[</span><span class="Constant">1</span><span class="Statement">]</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2645" title="ocaml/stdlib/camlinternalFormat.ml:2645">sub_str</a></span> <span class="Statement">=</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="buffer.ml.html#L49" title="ocaml/stdlib/buffer.ml:49">sub</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Constant">2</span> <span class="Statement">(</span><span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="buffer.ml.html#L71" title="ocaml/stdlib/buffer.ml:71">length</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> - <span class="Constant">2</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2645" title="ocaml/stdlib/camlinternalFormat.ml:2645">sub_str</a><br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Comment">(******************************************************************************)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Comment">(* Reader management *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* A call to <a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a> on <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> is evaluated into functions<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; taking readers as arguments and aggregate them into an heterogeneous list *)<br/></li>
<li></span><span class="Comment">(* When all readers are taken, finally pass the list of the readers to the<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="effect.ml.html#L46" title="ocaml/stdlib/effect.ml:46">continuation</a> <a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a>. *)<br/></li>
<li><a id="L1158">&#x200c;</a><a id="L1158">&#x200c;</a></span><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">take_format_readers</span></span> : <span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">a</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier">d</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span> <span class="ocamlLCIdentifier">f</span> .<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">((</span><span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">d</span> <span class="Statement">=<br/></li>
<li></span><span class="Statement">fun</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Reader</span> <span class="ocamlLCIdentifier">fmt_rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier">reader</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1164">&#x200c;</a></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">new_k</span></span> <span class="ocamlLCIdentifier">readers_rest</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">reader</span>, <span class="ocamlLCIdentifier">readers_rest</span><span class="Statement">))</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1164" title="ocaml/stdlib/scanf.ml:1164">new_k</a></span> <span class="ocamlLCIdentifier">fmt_rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Char</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_char</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">String</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_string</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int32</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nativeint</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int64</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Float</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Bool</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Alpha</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Theta</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Flush</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">String_literal</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Char_literal</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Custom</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_char_set</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_get_counter</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_next_char</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Formatting_lit</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Formatting_gen</span> <span class="Statement">(</span><span class="Constant">Open_tag</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>, <span class="Statement">_))</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">rest</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Formatting_gen</span> <span class="Statement">(</span><span class="Constant">Open_box</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>, <span class="Statement">_))</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">rest</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Format_arg</span> <span class="Statement">(_</span>, <span class="Statement">_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Format_subst</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L320" title="ocaml/stdlib/camlinternalFormatBasics.mli:320">erase_rel</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L657" title="ocaml/stdlib/camlinternalFormat.ml:657">symm</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span><span class="Statement">))</span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_param</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">ign</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1231" title="ocaml/stdlib/scanf.ml:1231">take_ignored_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">ign</span> <span class="ocamlLCIdentifier">rest<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">End_of_format</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Constant">Nil<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Take readers associated to an <a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a> coming from <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> Format_subst &quot;%(...%)&quot;. *)<br/></li>
<li><a id="L1201">&#x200c;</a><a id="L1201">&#x200c;</a></span><span class="Statement">and</span> <span class="ocamlLCIdentifier"><span class="linkable">take_fmtty_format_readers</span></span> : <span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">x</span></span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier">d</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span> <span class="ocamlLCIdentifier">f</span> .<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">((</span><span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">y</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">d</span> <span class="Statement">=<br/></li>
<li></span><span class="Statement">fun</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Reader_ty</span> <span class="ocamlLCIdentifier">fmt_rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier">reader</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1207">&#x200c;</a></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">new_k</span></span> <span class="ocamlLCIdentifier">readers_rest</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">reader</span>, <span class="ocamlLCIdentifier">readers_rest</span><span class="Statement">))</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1164" title="ocaml/stdlib/scanf.ml:1164">new_k</a></span> <span class="ocamlLCIdentifier">fmt_rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_reader_ty</span> <span class="ocamlLCIdentifier">fmt_rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier">reader</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1211">&#x200c;</a></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">new_k</span></span> <span class="ocamlLCIdentifier">readers_rest</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">reader</span>, <span class="ocamlLCIdentifier">readers_rest</span><span class="Statement">))</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1164" title="ocaml/stdlib/scanf.ml:1164">new_k</a></span> <span class="ocamlLCIdentifier">fmt_rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Char_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">String_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int32_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nativeint_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int64_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Float_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Bool_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Alpha_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Theta_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Any_ty</span> <span class="ocamlLCIdentifier">rest</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Format_arg_ty</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span>&nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">End_of_fmtty</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Format_subst_ty</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">ty1</span>, <span class="ocamlLCIdentifier">ty2</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1227">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">ty</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L792" title="ocaml/stdlib/camlinternalFormat.ml:792">trans</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L657" title="ocaml/stdlib/camlinternalFormat.ml:657">symm</a></span> <span class="ocamlLCIdentifier">ty1</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ty2</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L312" title="ocaml/stdlib/camlinternalFormatBasics.mli:312">concat_fmtty</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L770" title="ocaml/stdlib/camlinternalFormat.ml:770">ty</a></span> <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Take readers associated to an <a href="camlinternalFormat.ml.html#L2403" title="ocaml/stdlib/camlinternalFormat.ml:2403">ignored</a> parameter. *)<br/></li>
<li><a id="L1231">&#x200c;</a><a id="L1231">&#x200c;</a></span><span class="Statement">and</span> <span class="ocamlLCIdentifier"><span class="linkable">take_ignored_format_readers</span></span> : <span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">x</span></span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier">d</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span> <span class="ocamlLCIdentifier">f</span> .<br/></li>
<li>&nbsp; &nbsp; <span class="Statement">((</span><span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">y</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2403" title="ocaml/stdlib/camlinternalFormat.ml:2403">ignored</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">d</span> <span class="Statement">=<br/></li>
<li></span><span class="Statement">fun</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier">ign</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">ign</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_reader</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier">reader</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1237">&#x200c;</a></span>&nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">new_k</span></span> <span class="ocamlLCIdentifier">readers_rest</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="Statement">(</span><span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">reader</span>, <span class="ocamlLCIdentifier">readers_rest</span><span class="Statement">))</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1164" title="ocaml/stdlib/scanf.ml:1164">new_k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_char</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_caml_char</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_string</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_caml_string</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_int</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_int32</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_nativeint</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_int64</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_float</span> <span class="Statement">(_</span>, <span class="Statement">_)</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_bool</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_format_arg</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_format_subst</span> <span class="Statement">(_</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1201" title="ocaml/stdlib/scanf.ml:1201">take_fmtty_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_scan_char_set</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_scan_get_counter</span> <span class="Statement">_</span>&nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_scan_next_char</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(******************************************************************************)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Generic scanning *)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Make <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> generic scanning function. *)<br/></li>
<li></span><span class="Comment">(* Scan <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> stream according to <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> and readers obtained by<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; <a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a>, and aggregate scanned values into an<br/></li>
<li></span><span class="Comment">&nbsp;&nbsp; heterogeneous list. *)<br/></li>
<li></span><span class="Comment">(* Return the heterogeneous list of scanned values. *)<br/></li>
<li><a id="L1263">&#x200c;</a><a id="L1263">&#x200c;</a></span><span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier"><span class="linkable">make_scanf</span></span> : <span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">a</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier">d</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span> <span class="ocamlLCIdentifier">f</span>.<br/></li>
<li>&nbsp; &nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">=<br/></li>
<li></span><span class="Statement">fun</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span> <span class="Statement">-&gt;</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Char</span> <span class="ocamlLCIdentifier">rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L935" title="ocaml/stdlib/scanf.ml:935">scan_char</a></span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1269">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">c</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L488" title="ocaml/stdlib/scanf.ml:488">token_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_char</span> <span class="ocamlLCIdentifier">rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1032" title="ocaml/stdlib/scanf.ml:1032">scan_caml_char</a></span> <span class="Constant">0</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1273">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">c</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L488" title="ocaml/stdlib/scanf.ml:488">token_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">String</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="Constant">Formatting_lit</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">fmting_lit</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">))</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1277">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">stp</span></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1143" title="ocaml/stdlib/scanf.ml:1143">stopper_of_formatting_lit</a></span> <span class="ocamlLCIdentifier">fmting_lit</span> <span class="Statement">in<br/></li>
<li><a id="L1278">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L919" title="ocaml/stdlib/scanf.ml:919">scan_string</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1279">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">str_rest</span></span> <span class="Statement">=</span> <span class="Constant">String_literal</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="#L1279" title="ocaml/stdlib/scanf.ml:1279">str_rest</a></span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="Constant">No_precision</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">String</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="Constant">Formatting_gen</span> <span class="Statement">(</span><span class="Constant">Open_tag</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>', <span class="Statement">_))</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">))</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1282">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">scan</span></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L919" title="ocaml/stdlib/scanf.ml:919">scan_string</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">'{'</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="Constant">No_precision</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">String</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="Constant">Formatting_gen</span> <span class="Statement">(</span><span class="Constant">Open_box</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>', <span class="Statement">_))</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">))</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L919" title="ocaml/stdlib/scanf.ml:919">scan_string</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="Constant">'['</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="Constant">No_precision</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">String</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L919" title="ocaml/stdlib/scanf.ml:919">scan_string</a></span> <span class="Constant">None</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="Constant">No_precision</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a><br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Caml_string</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1055" title="ocaml/stdlib/scanf.ml:1055">scan_caml_string</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="Constant">No_precision</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L509" title="ocaml/stdlib/scanf.ml:509">integer_conversion_of_char</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L289" title="ocaml/stdlib/camlinternalFormat.ml:289">char_of_iconv</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L690" title="ocaml/stdlib/scanf.ml:690">scan_int_conversion</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L537" title="ocaml/stdlib/scanf.ml:537">token_int</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int32</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L509" title="ocaml/stdlib/scanf.ml:509">integer_conversion_of_char</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L289" title="ocaml/stdlib/camlinternalFormat.ml:289">char_of_iconv</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L690" title="ocaml/stdlib/scanf.ml:690">scan_int_conversion</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L558" title="ocaml/stdlib/scanf.ml:558">token_int32</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Nativeint</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L509" title="ocaml/stdlib/scanf.ml:509">integer_conversion_of_char</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L289" title="ocaml/stdlib/camlinternalFormat.ml:289">char_of_iconv</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L690" title="ocaml/stdlib/scanf.ml:690">scan_int_conversion</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L557" title="ocaml/stdlib/scanf.ml:557">token_nativeint</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Int64</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L509" title="ocaml/stdlib/scanf.ml:509">integer_conversion_of_char</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L289" title="ocaml/stdlib/camlinternalFormat.ml:289">char_of_iconv</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2420" title="ocaml/stdlib/camlinternalFormat.ml:2420">iconv</a></span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L690" title="ocaml/stdlib/scanf.ml:690">scan_int_conversion</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L559" title="ocaml/stdlib/scanf.ml:559">token_int64</a></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Float</span> <span class="Statement">((_</span>, <span class="Statement">(</span><span class="Constant">Float_F</span> <span class="Statement">|</span> <span class="Constant">Float_CF</span><span class="Statement">))</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="#L865" title="ocaml/stdlib/scanf.ml:865">scan_caml_float</a></span> <span class="ocamlLCIdentifier"><a href="#L539" title="ocaml/stdlib/scanf.ml:539">token_float</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Float</span> <span class="Statement">((_</span>, <span class="Statement">(</span><span class="Constant">Float_f</span> <span class="Statement">|</span> <span class="Constant">Float_e</span> <span class="Statement">|</span> <span class="Constant">Float_E</span> <span class="Statement">|</span> <span class="Constant">Float_g</span> <span class="Statement">|</span> <span class="Constant">Float_G</span><span class="Statement">))</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="#L764" title="ocaml/stdlib/scanf.ml:764">scan_float</a></span> <span class="ocamlLCIdentifier"><a href="#L539" title="ocaml/stdlib/scanf.ml:539">token_float</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Float</span> <span class="Statement">((_</span>, <span class="Statement">(</span><span class="Constant">Float_h</span> <span class="Statement">|</span> <span class="Constant">Float_H</span><span class="Statement">))</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="#L796" title="ocaml/stdlib/scanf.ml:796">scan_hex_float</a></span> <span class="ocamlLCIdentifier"><a href="#L539" title="ocaml/stdlib/scanf.ml:539">token_float</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Bool</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="Statement">_</span> <span class="Statement">_</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1088" title="ocaml/stdlib/scanf.ml:1088">scan_bool</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1423" title="ocaml/stdlib/scanf.ml:1423">pad_prec_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="Constant">No_precision</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L492" title="ocaml/stdlib/scanf.ml:492">token_bool</a><br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Alpha</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%<a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a>\&quot;&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Theta</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%<a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a>\&quot;&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Custom</span> <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%?\&quot; (custom converter)&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Reader</span> <span class="ocamlLCIdentifier">fmt_rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">readers</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier">reader</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">readers_rest</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Statement">let</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlEnd"> </span><span class="Statement">=</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">reader</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="Statement">in<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">fmt_rest</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">readers_rest</span><span class="Statement">)<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Nil</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span><span class="ocamlEnd"> </span><span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: missing reader&quot;<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Flush</span> <span class="ocamlLCIdentifier">rest</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">if</span><span class="ocamlNone"> </span><span class="PreProc">Scanning</span><span class="ocamlNone">.</span><span class="ocamlLCIdentifier"><a href="#L105" title="ocaml/stdlib/scanf.ml:105">end_of_input</a></span><span class="ocamlNone"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlNone"> </span><span class="Statement">then</span> <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">else</span> <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="Constant">&quot;end of <a href="in_channel.ml.html#L69" title="ocaml/stdlib/in_channel.ml:69">input</a> not found&quot;<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">String_literal</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="stack.ml.html#L57" title="ocaml/stdlib/stack.ml:57">iter</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Char_literal</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="char.mli.html#L21" title="ocaml/stdlib/char.mli:21">chr</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="char.mli.html#L21" title="ocaml/stdlib/char.mli:21">chr</a></span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Format_arg</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pad_opt</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1055" title="ocaml/stdlib/scanf.ml:1055">scan_caml_string</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1138" title="ocaml/stdlib/scanf.ml:1138">width_of_pad_opt</a></span> <span class="ocamlLCIdentifier">pad_opt</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1349">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">s</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1350">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">fmt</span></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">try</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2976" title="ocaml/stdlib/camlinternalFormat.ml:2976">format_of_string_fmtty</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">with</span> <span class="Constant">Failure</span> <span class="ocamlLCIdentifier">msg</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="ocamlLCIdentifier">msg<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Format_subst</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">pad_opt</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1055" title="ocaml/stdlib/scanf.ml:1055">scan_caml_string</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="#L1138" title="ocaml/stdlib/scanf.ml:1138">width_of_pad_opt</a></span> <span class="ocamlLCIdentifier">pad_opt</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1357">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">s</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1358">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">fmt</span></span>, <span class="ocamlLCIdentifier"><span class="linkable">fmt</span></span>' <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">try<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="Constant"><a href="camlinternalFormat.ml.html#L2130" title="ocaml/stdlib/camlinternalFormat.ml:2130">Fmt_EBB</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2049" title="ocaml/stdlib/camlinternalFormat.ml:2049">fmt_ebb_of_string</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Statement">let</span> <span class="Constant"><a href="camlinternalFormat.ml.html#L2130" title="ocaml/stdlib/camlinternalFormat.ml:2130">Fmt_EBB</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2049" title="ocaml/stdlib/camlinternalFormat.ml:2049">fmt_ebb_of_string</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* </span><span class="Todo">TODO</span><span class="Comment">: <a href="ephemeron.mli.html#L95" title="ocaml/stdlib/ephemeron.mli:95">find</a> <a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a> way to avoid reparsing twice *)<br/></li>
<li></span><br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* </span><span class="Todo">TODO</span><span class="Comment">: these type-checks below *can* fail because of type<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ambiguity in presence of <a href="camlinternalFormat.ml.html#L2403" title="ocaml/stdlib/camlinternalFormat.ml:2403">ignored</a>-readers: &quot;%_r%d&quot; and &quot;%d%_r&quot;<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; are typed in the same way.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; # Scanf.<a href="scanf.mli.html#L487" title="ocaml/stdlib/scanf.mli:487">sscanf</a> &quot;\&quot;%_r%d\&quot;3&quot; &quot;%(%d%_r%)&quot; ignore<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (fun <a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a> <a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a> -&gt; <a href="stdlib.ml.html#L538" title="ocaml/stdlib/stdlib.ml:538">string_of_format</a> <a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a>, <a href="buffer.ml.html#L42" title="ocaml/stdlib/buffer.ml:42">n</a>)<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Exception: CamlinternalFormat.Type_mismatch.<br/></li>
<li></span><br/></li>
<li><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; We should properly <a href="printexc.ml.html#L94" title="ocaml/stdlib/printexc.ml:94">catch</a> this exception.<br/></li>
<li></span><span class="Comment">&nbsp; &nbsp; &nbsp; &nbsp; *)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1002" title="ocaml/stdlib/camlinternalFormat.ml:1002">type_format</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L320" title="ocaml/stdlib/camlinternalFormatBasics.mli:320">erase_rel</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1002" title="ocaml/stdlib/camlinternalFormat.ml:1002">type_format</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L320" title="ocaml/stdlib/camlinternalFormatBasics.mli:320">erase_rel</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L657" title="ocaml/stdlib/camlinternalFormat.ml:657">symm</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L75" title="ocaml/stdlib/camlinternalFormatBasics.mli:75">fmtty</a></span><span class="Statement">))<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">with</span> <span class="Constant">Failure</span> <span class="ocamlLCIdentifier">msg</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="ocamlLCIdentifier">msg<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)</span>,<br/></li>
<li>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_char_set</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">width_opt</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a></span>, <span class="Constant">Formatting_lit</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">fmting_lit</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">))</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1382">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">stp</span></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1143" title="ocaml/stdlib/scanf.ml:1143">stopper_of_formatting_lit</a></span> <span class="ocamlLCIdentifier">fmting_lit</span> <span class="Statement">in<br/></li>
<li><a id="L1383">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">width</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1138" title="ocaml/stdlib/scanf.ml:1138">width_of_pad_opt</a></span> <span class="ocamlLCIdentifier">width_opt</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1102" title="ocaml/stdlib/scanf.ml:1102">scan_chars_in_char_set</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a></span> <span class="Statement">(</span><span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="#L1277" title="ocaml/stdlib/scanf.ml:1277">stp</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">;<br/></li>
<li><a id="L1385">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">s</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1386">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">str_rest</span></span> <span class="Statement">=</span> <span class="Constant">String_literal</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="#L1279" title="ocaml/stdlib/scanf.ml:1279">str_rest</a></span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_char_set</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">width_opt</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1389">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">width</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1138" title="ocaml/stdlib/scanf.ml:1138">width_of_pad_opt</a></span> <span class="ocamlLCIdentifier">width_opt</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1102" title="ocaml/stdlib/scanf.ml:1102">scan_chars_in_char_set</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2799" title="ocaml/stdlib/camlinternalFormat.ml:2799">char_set</a></span> <span class="Constant">None</span> <span class="ocamlLCIdentifier"><a href="#L834" title="ocaml/stdlib/scanf.ml:834">width</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">;<br/></li>
<li><a id="L1391">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">s</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_get_counter</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2432" title="ocaml/stdlib/camlinternalFormat.ml:2432">counter</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1394">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">count</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1130" title="ocaml/stdlib/scanf.ml:1130">get_counter</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2432" title="ocaml/stdlib/camlinternalFormat.ml:2432">counter</a></span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="weak.ml.html#L97" title="ocaml/stdlib/weak.ml:97">count</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Scan_next_char</span> <span class="ocamlLCIdentifier">rest</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1397">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">c</span></span> <span class="Statement">=</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L61" title="ocaml/stdlib/scanf.ml:61">checked_peek_char</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Formatting_lit</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L57" title="ocaml/stdlib/camlinternalFormatBasics.mli:57">formatting_lit</a></span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="stack.ml.html#L57" title="ocaml/stdlib/stack.ml:57">iter</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">)</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L465" title="ocaml/stdlib/camlinternalFormat.ml:465">string_of_formatting_lit</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L57" title="ocaml/stdlib/camlinternalFormatBasics.mli:57">formatting_lit</a></span><span class="Statement">);<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">rest</span> <span class="ocamlLCIdentifier">readers<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Formatting_gen</span> <span class="Statement">(</span><span class="Constant">Open_tag</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>', <span class="Statement">_))</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="Constant">'@'</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="Constant">'{'</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">readers<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Formatting_gen</span> <span class="Statement">(</span><span class="Constant">Open_box</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>', <span class="Statement">_))</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="Constant">'@'</span><span class="Statement">;</span> <span class="ocamlLCIdentifier">check_char</span> <span class="ocamlLCIdentifier">ib</span> <span class="Constant">'['</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L324" title="ocaml/stdlib/camlinternalFormatBasics.mli:324">concat_fmt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="ocamlLCIdentifier">readers<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">Ignored_param</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">ign</span>, <span class="ocamlLCIdentifier">rest</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li><a id="L1411">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Constant"><span class="linkable">Param_format_EBB</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">param_format_of_ignored_format</a></span> <span class="ocamlLCIdentifier">ign</span> <span class="ocamlLCIdentifier">rest</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">begin</span><span class="ocamlEnd"> </span><span class="Statement">match</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">ib</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span><span class="ocamlEnd">' </span><span class="ocamlLCIdentifier">readers</span><span class="ocamlEnd"> </span><span class="Statement">with<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Cons</span><span class="ocamlEnd"> </span><span class="Statement">(_</span><span class="ocamlEnd">, </span><span class="ocamlLCIdentifier">arg_rest</span><span class="Statement">)</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="ocamlLCIdentifier">arg_rest<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">|</span><span class="ocamlEnd"> </span><span class="Constant">Nil</span><span class="ocamlEnd"> </span><span class="Statement">-&gt;</span><span class="ocamlEnd"> </span><span class="Statement">assert</span><span class="ocamlEnd"> </span><span class="Constant">false<br/></li>
<li></span><span class="ocamlEnd">&nbsp; &nbsp; </span><span class="Statement">end<br/></li>
<li></span><br/></li>
<li>&nbsp; <span class="Statement">|</span> <span class="Constant">End_of_format</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Nil<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Case analysis on <a href="camlinternalFormatBasics.mli.html#L36" title="ocaml/stdlib/camlinternalFormatBasics.mli:36">padding</a> and <a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a>. *)<br/></li>
<li></span><span class="Comment">(* Reject formats containing &quot;%*&quot; or &quot;%.*&quot;. *)<br/></li>
<li></span><span class="Comment">(* Pass <a href="camlinternalFormatBasics.mli.html#L36" title="ocaml/stdlib/camlinternalFormatBasics.mli:36">padding</a> and <a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a> to the generic <a href="#L396" title="ocaml/stdlib/scanf.ml:396">scanner</a> `<a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a>'. *)<br/></li>
<li><a id="L1423">&#x200c;</a><a id="L1423">&#x200c;</a></span><span class="Statement">and</span> <span class="ocamlLCIdentifier"><span class="linkable">pad_prec_scanf</span></span> : <span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">a</span></span> <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span> <span class="ocamlLCIdentifier">d</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="ocamlLCIdentifier">y</span> <span class="ocamlLCIdentifier">z</span> <span class="ocamlLCIdentifier"><a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a></span> .<br/></li>
<li>&nbsp; &nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span>, <span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, <span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier">d</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">y</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L36" title="ocaml/stdlib/camlinternalFormatBasics.mli:36">padding</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">y</span>, <span class="ocamlLCIdentifier">z</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2551" title="ocaml/stdlib/camlinternalFormat.ml:2551">precision</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span> <span class="Statement">-&gt;</span> <span class="Type"><a href="bigarray.mli.html#L176" title="ocaml/stdlib/bigarray.mli:176">int</a></span> <span class="Statement">-&gt;</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="sys.mli.html#L427" title="ocaml/stdlib/sys.mli:427">t</a></span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">z</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">=<br/></li>
<li></span><span class="Statement">fun</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span> <span class="ocamlLCIdentifier">prec</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="Statement">-&gt;</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2400" title="ocaml/stdlib/camlinternalFormat.ml:2400">pad</a></span>, <span class="ocamlLCIdentifier">prec</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">No_padding</span>, <span class="Constant">No_precision</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a></span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1432">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">x</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">No_padding</span>, <span class="Constant">Lit_precision</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1436">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">x</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lit_padding</span> <span class="Statement">((</span><span class="Constant">Right</span> <span class="Statement">|</span> <span class="Constant">Zeros</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1198" title="ocaml/stdlib/camlinternalFormat.ml:1198">w</a></span><span class="Statement">)</span>, <span class="Constant">No_precision</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1198" title="ocaml/stdlib/camlinternalFormat.ml:1198">w</a></span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1440">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">x</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lit_padding</span> <span class="Statement">((</span><span class="Constant">Right</span> <span class="Statement">|</span> <span class="Constant">Zeros</span><span class="Statement">)</span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1198" title="ocaml/stdlib/camlinternalFormat.ml:1198">w</a></span><span class="Statement">)</span>, <span class="Constant">Lit_precision</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="seq.ml.html#L347" title="ocaml/stdlib/seq.ml:347">scan</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1198" title="ocaml/stdlib/camlinternalFormat.ml:1198">w</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1153" title="ocaml/stdlib/camlinternalFormat.ml:1153">p</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li><a id="L1444">&#x200c;</a></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">x</span></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L80" title="ocaml/stdlib/scanf.ml:80">token</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lit_padding</span> <span class="Statement">(</span><span class="Constant">Left</span>, <span class="Statement">_)</span>, <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%-\&quot;&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Lit_padding</span> <span class="Statement">((</span><span class="Constant">Right</span> <span class="Statement">|</span> <span class="Constant">Zeros</span><span class="Statement">)</span>, <span class="Statement">_)</span>, <span class="Constant">Arg_precision</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%*\&quot;&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">Arg_padding</span> <span class="Statement">_</span>, <span class="Statement">_</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%*\&quot;&quot;<br/></li>
<li></span>&nbsp; <span class="Statement">|</span> <span class="Constant">No_padding</span>, <span class="Constant">Arg_precision</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Constant">&quot;<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>: bad conversion \&quot;%*\&quot;&quot;<br/></li>
<li></span><br/></li>
<li><span class="Comment">(******************************************************************************)<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="Comment">(* Defining [<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>] and various flavors of [<a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a>] *)<br/></li>
<li></span><br/></li>
<li><a id="L1458">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">kscanf_gen</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">ef</span> <span class="ocamlLCIdentifier">af</span> <span class="Statement">(</span><span class="Constant">Format</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>, <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span><span class="Statement">))</span> <span class="Statement">=<br/></li>
<li><a id="L1459">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="Statement">rec</span> <span class="ocamlLCIdentifier">apply</span> : <span class="Statement">type</span> <span class="ocamlLCIdentifier"><span class="linkable">a</span></span> <span class="ocamlLCIdentifier">b</span> . <span class="ocamlLCIdentifier"><span class="linkable">a</span></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><span class="linkable">a</span></span>, <span class="ocamlLCIdentifier">b</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L144" title="ocaml/stdlib/camlinternalFormat.ml:144">heter_list</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">b</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">args</span> <span class="Statement">-&gt;</span> <span class="Statement">match</span> <span class="ocamlLCIdentifier">args</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Cons</span> <span class="Statement">(</span><span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span>, <span class="ocamlLCIdentifier"><a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a></span><span class="Statement">)</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">apply</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="float.ml.html#L571" title="ocaml/stdlib/float.ml:571">r</a><br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Constant">Nil</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier">f<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li><a id="L1464">&#x200c;</a></span>&nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">k</span></span> <span class="ocamlLCIdentifier">readers</span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="#L85" title="ocaml/stdlib/scanf.ml:85">reset_token</a></span> <span class="ocamlLCIdentifier">ib</span><span class="Statement">;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">match</span> <span class="ocamlLCIdentifier"><a href="#L1263" title="ocaml/stdlib/scanf.ml:1263">make_scanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="ocamlLCIdentifier">readers</span> <span class="Statement">with<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">exception</span> <span class="Statement">(</span><span class="Constant">Scan_failure</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">Failure</span> <span class="Statement">_</span> <span class="Statement">|</span> <span class="Constant">End_of_file</span> <span class="Statement">as</span> <span class="ocamlLCIdentifier">exc</span><span class="Statement">)</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">ef</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">exc<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="Statement">exception</span> <span class="Constant">Invalid_argument</span> <span class="ocamlLCIdentifier">msg</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L30" title="ocaml/stdlib/stdlib.ml:30">invalid_arg</a></span> <span class="Statement">(</span><span class="ocamlLCIdentifier">msg</span> <span class="Statement">^</span> <span class="Constant">&quot; in <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> \&quot;&quot;</span> <span class="Statement">^</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L211" title="ocaml/stdlib/bytesLabels.mli:211">escaped</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">^</span> <span class="Constant">&quot;\&quot;&quot;</span><span class="Statement">)<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">|</span> <span class="ocamlLCIdentifier">args</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="ocamlLCIdentifier">af</span> <span class="Statement">(</span><span class="ocamlLCIdentifier">apply</span> <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier">args</span><span class="Statement">)<br/></li>
<li></span>&nbsp; <span class="Statement">in<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L1158" title="ocaml/stdlib/scanf.ml:1158">take_format_readers</a></span> <span class="ocamlLCIdentifier"><a href="#L1464" title="ocaml/stdlib/scanf.ml:1464">k</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><a id="L1476">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">kscanf</span></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">ef</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L1458" title="ocaml/stdlib/scanf.ml:1458">kscanf_gen</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier">ef</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">kscanf_opt</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L1458" title="ocaml/stdlib/scanf.ml:1458">kscanf_gen</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">(fun</span> <span class="Statement">_</span> <span class="Statement">_</span> <span class="Statement">-&gt;</span> <span class="Constant">None</span><span class="Statement">)</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;</span> <span class="Constant">Some</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(***)<br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier">kbscanf</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1476" title="ocaml/stdlib/scanf.ml:1476">kscanf</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L252" title="ocaml/stdlib/scanf.mli:252">bscanf</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">kbscanf</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="#L1122" title="ocaml/stdlib/scanf.ml:1122">scanf_bad_input</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L268" title="ocaml/stdlib/scanf.mli:268">bscanf_opt</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">kscanf_opt</span> <span class="ocamlLCIdentifier">ib</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L515" title="ocaml/stdlib/scanf.mli:515">ksscanf</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier">ef</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">kbscanf</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="lexing.mli.html#L97" title="ocaml/stdlib/lexing.mli:97">from_string</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier">ef</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L487" title="ocaml/stdlib/scanf.mli:487">sscanf</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">kbscanf</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="lexing.mli.html#L97" title="ocaml/stdlib/lexing.mli:97">from_string</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="#L1122" title="ocaml/stdlib/scanf.ml:1122">scanf_bad_input</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L490" title="ocaml/stdlib/scanf.mli:490">sscanf_opt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">kscanf_opt</span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="lexing.mli.html#L97" title="ocaml/stdlib/lexing.mli:97">from_string</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L495" title="ocaml/stdlib/scanf.mli:495">scanf</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1476" title="ocaml/stdlib/scanf.ml:1476">kscanf</a></span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a></span> <span class="ocamlLCIdentifier"><a href="#L1122" title="ocaml/stdlib/scanf.ml:1122">scanf_bad_input</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L500" title="ocaml/stdlib/scanf.mli:500">scanf_opt</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier">kscanf_opt</span> <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="in_channel.ml.html#L29" title="ocaml/stdlib/in_channel.ml:29">stdin</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a><br/></li>
<li></span><br/></li>
<li><span class="Comment">(***)<br/></li>
<li></span><br/></li>
<li><span class="Comment">(* Scanning <a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a> strings. *)<br/></li>
<li></span><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L523" title="ocaml/stdlib/scanf.mli:523">bscanf_format</a></span> :<br/></li>
<li>&nbsp; <span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="stdlib.ml.html#L307" title="ocaml/stdlib/stdlib.ml:307">in_channel</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, '<span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; <span class="Statement">((</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, '<span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">g</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">g</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier">ib</span> <span class="Type"><a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="Statement">_</span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L1055" title="ocaml/stdlib/scanf.ml:1055">scan_caml_string</a></span> <span class="ocamlLCIdentifier"><a href="int32.ml.html#L52" title="ocaml/stdlib/int32.ml:52">max_int</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Statement">=</span> <span class="ocamlLCIdentifier"><a href="#L490" title="ocaml/stdlib/scanf.ml:490">token_string</a></span> <span class="ocamlLCIdentifier">ib</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>' <span class="Statement">=<br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">try</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2986" title="ocaml/stdlib/camlinternalFormat.ml:2986">format_of_string_format</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L1486" title="ocaml/stdlib/camlinternalFormat.ml:1486">str</a></span> <span class="Type"><a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a><br/></li>
<li></span>&nbsp; &nbsp; &nbsp; <span class="Statement">with</span> <span class="Constant">Failure</span> <span class="ocamlLCIdentifier">msg</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="#L405" title="ocaml/stdlib/scanf.ml:405">bad_input</a></span> <span class="ocamlLCIdentifier">msg</span> <span class="Statement">in<br/></li>
<li></span>&nbsp; &nbsp; <span class="ocamlLCIdentifier">f</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span>'<br/></li>
<li><br/></li>
<li><br/></li>
<li><a id="L1510">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">sscanf_format</span></span> :<br/></li>
<li>&nbsp; <span class="Type"><a href="digest.ml.html#L26" title="ocaml/stdlib/digest.ml:26">string</a></span> <span class="Statement">-&gt;</span> <span class="Statement">(</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, '<span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a></span> <span class="Statement">-&gt;<br/></li>
<li></span>&nbsp; <span class="Statement">((</span>'<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L73" title="ocaml/stdlib/camlinternalFormat.ml:73">a</a></span>, '<span class="ocamlLCIdentifier">b</span>, '<span class="ocamlLCIdentifier"><a href="arg.ml.html#L398" title="ocaml/stdlib/arg.ml:398">c</a></span>, '<span class="ocamlLCIdentifier">d</span>, '<span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2118" title="ocaml/stdlib/camlinternalFormat.ml:2118">e</a></span>, '<span class="ocamlLCIdentifier">f</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L309" title="ocaml/stdlib/camlinternalFormatBasics.mli:309">format6</a></span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">g</span><span class="Statement">)</span> <span class="Statement">-&gt;</span> '<span class="ocamlLCIdentifier">g</span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="Statement">fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Type"><a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a></span> <span class="ocamlLCIdentifier">f</span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L523" title="ocaml/stdlib/scanf.mli:523">bscanf_format</a></span> <span class="Statement">(</span><span class="PreProc">Scanning</span>.<span class="ocamlLCIdentifier"><a href="lexing.mli.html#L97" title="ocaml/stdlib/lexing.mli:97">from_string</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span><span class="Statement">)</span> <span class="Type"><a href="printexc.ml.html#L253" title="ocaml/stdlib/printexc.ml:253">format</a></span> <span class="ocamlLCIdentifier">f<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><a id="L1516">&#x200c;</a><span class="Statement">let</span> <span class="ocamlLCIdentifier"><span class="linkable">format_from_string</span></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="#L1510" title="ocaml/stdlib/scanf.ml:1510">sscanf_format</a></span> <span class="Statement">(</span><span class="Constant">&quot;\&quot;&quot;</span> <span class="Statement">^</span> <span class="PreProc">String</span>.<span class="ocamlLCIdentifier"><a href="bytesLabels.mli.html#L211" title="ocaml/stdlib/bytesLabels.mli:211">escaped</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">^</span> <span class="Constant">&quot;\&quot;&quot;</span><span class="Statement">)</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormatBasics.mli.html#L172" title="ocaml/stdlib/camlinternalFormatBasics.mli:172">fmt</a></span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)<br/></li>
<li></span><br/></li>
<li><br/></li>
<li><span class="Statement">let</span> <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L551" title="ocaml/stdlib/scanf.mli:551">unescaped</a></span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">=<br/></li>
<li></span>&nbsp; <span class="ocamlLCIdentifier"><a href="scanf.mli.html#L487" title="ocaml/stdlib/scanf.mli:487">sscanf</a></span> <span class="Statement">(</span><span class="Constant">&quot;\&quot;&quot;</span> <span class="Statement">^</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L2702" title="ocaml/stdlib/camlinternalFormat.ml:2702">s</a></span> <span class="Statement">^</span> <span class="Constant">&quot;\&quot;&quot;</span><span class="Statement">)</span> <span class="Constant">&quot;%S%!&quot;</span> <span class="Statement">(fun</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span> <span class="Statement">-&gt;</span> <span class="ocamlLCIdentifier"><a href="camlinternalFormat.ml.html#L918" title="ocaml/stdlib/camlinternalFormat.ml:918">x</a></span><span class="Statement">)<br/></li>
</ol></span></code>
 <p class="nav-bar">
  <span class="nav-link"><a href="./index.html">One Level Up</a></span>
  <span class="nav-link"><a href="index.html">Top Level</a></span>
 </p>

 </body>
</html>
